(self.webpackChunkVTR_Player=self.webpackChunkVTR_Player||[]).push([[179],{2011:(Ke,ve,I)=>{"use strict";I.d(ve,{Dh:()=>xe,GT:()=>fe,cc:()=>pe,hO:()=>Se,on:()=>F,pX:()=>z,xv:()=>q});var s=I(1571),H=I(127),P=I(5151);Ke=I.hmd(Ke);const Q=["ngOnDestroy"],z=(Ee,oe,Ae,X={})=>new Proxy(Ee,{get:(de,Qe)=>Ae.runOutsideAngular(()=>{var Xe;if(Ee[Qe])return!(null===(Xe=X?.spy)||void 0===Xe)&&Xe.get&&X.spy.get(Qe,Ee[Qe]),Ee[Qe];if(Q.indexOf(Qe)>-1)return()=>{};const ce=oe.toPromise().then(Je=>{const $e=Je&&Je[Qe];return"function"==typeof $e?$e.bind(Je):$e&&$e.then?$e.then(me=>Ae.run(()=>me)):Ae.run(()=>$e)});return new Proxy(()=>{},{get:(Je,$e)=>ce[$e],apply:(Je,$e,me)=>ce.then(ue=>{var Ne;const ge=ue&&ue(...me);return!(null===(Ne=X?.spy)||void 0===Ne)&&Ne.apply&&X.spy.apply(Qe,me,ge),ge})})})}),fe=(Ee,oe)=>{oe.forEach(Ae=>{Object.getOwnPropertyNames(Ae.prototype||Ae).forEach(X=>{Object.defineProperty(Ee.prototype,X,Object.getOwnPropertyDescriptor(Ae.prototype||Ae,X))})})};class se{constructor(oe){return oe}}const xe=new s.OlP("angularfire2.app.options"),q=new s.OlP("angularfire2.app.name");function F(Ee,oe,Ae){const de="object"==typeof Ae&&Ae||{};de.name=de.name||"string"==typeof Ae&&Ae||"[DEFAULT]";const Xe=H.Z.apps.filter(ce=>ce&&ce.name===de.name)[0]||oe.runOutsideAngular(()=>H.Z.initializeApp(Ee,de));try{JSON.stringify(Ee)!==JSON.stringify(Xe.options)&&Z("error",`${Xe.name} Firebase App already initialized with different options${Ke.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new se(Xe)}const Z=(Ee,...oe)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Ee](...oe)},ie={provide:se,useFactory:F,deps:[xe,s.R0b,[new s.FiY,q]]};let Se=(()=>{class Ee{constructor(Ae){H.Z.registerVersion("angularfire",P.q4.full,"core"),H.Z.registerVersion("angularfire",P.q4.full,"app-compat"),H.Z.registerVersion("angular",s.q4F.full,Ae.toString())}static initializeApp(Ae,X){return{ngModule:Ee,providers:[{provide:xe,useValue:Ae},{provide:q,useValue:X}]}}}return Ee.\u0275fac=function(Ae){return new(Ae||Ee)(s.LFG(s.Lbi))},Ee.\u0275mod=s.oAB({type:Ee}),Ee.\u0275inj=s.cJS({providers:[ie]}),Ee})();function pe(Ee,oe,Ae,X,de){const[,Qe,Xe]=globalThis.\u0275AngularfireInstanceCache.find(ce=>ce[0]===Ee)||[];if(Qe)return function Ie(Ee,oe){try{return Ee.toString()===oe.toString()}catch{return Ee===oe}}(de,Xe)||(Ce("error",`${oe} was already initialized on the ${Ae} Firebase App with different settings.${ye?" You may need to reload as Firebase is not HMR aware.":""}`),Ce("warn",{is:de,was:Xe})),Qe;{const ce=X();return globalThis.\u0275AngularfireInstanceCache.push([Ee,ce,de]),ce}}const ye=!!Ke.hot,Ce=(Ee,...oe)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Ee](...oe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5151:(Ke,ve,I)=>{"use strict";I.d(ve,{q4:()=>mc,iC:()=>Br,fc:()=>gc,HU:()=>pp,vb:()=>Fi,JM:()=>_r});var s=I(1571),H=I(5867),P=I(5861),Q=I(9681),z=I(2090),fe=I(4859),se=I(1877),xe=I(2940);const q="@firebase/installations",F="0.5.5",ie=`w:${F}`,Se="FIS_v2",oe=new z.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ae(A){return A instanceof z.ZR&&A.code.includes("request-failed")}function X({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function de(A){return{token:A.token,requestStatus:2,expiresIn:ue(A.expiresIn),creationTime:Date.now()}}function Qe(A,E){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,P.Z)(function*(A,E){const G=(yield E.json()).error;return oe.create("request-failed",{requestName:A,serverCode:G.code,serverMessage:G.message,serverStatus:G.status})})).apply(this,arguments)}function ce({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function Je(A,{refreshToken:E}){const N=ce(A);return N.append("Authorization",function Ne(A){return`${Se} ${A}`}(E)),N}function $e(A){return me.apply(this,arguments)}function me(){return(me=(0,P.Z)(function*(A){const E=yield A();return E.status>=500&&E.status<600?A():E})).apply(this,arguments)}function ue(A){return Number(A.replace("s","000"))}function ge(A,E){return it.apply(this,arguments)}function it(){return(it=(0,P.Z)(function*(A,{fid:E}){const N=X(A),De={method:"POST",headers:ce(A),body:JSON.stringify({fid:E,authVersion:Se,appId:A.appId,sdkVersion:ie})},Re=yield $e(()=>fetch(N,De));if(Re.ok){const We=yield Re.json();return{fid:We.fid||E,registrationStatus:2,refreshToken:We.refreshToken,authToken:de(We.authToken)}}throw yield Qe("Create Installation",Re)})).apply(this,arguments)}function qe(A){return new Promise(E=>{setTimeout(E,A)})}const Cn=/^[cdef][\w-]{21}$/;function Dt(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const N=function ri(A){return function qt(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return Cn.test(N)?N:""}catch{return""}}function Ji(A){return`${A.appName}!${A.appId}`}const Wt=new Map;function Ut(A,E){const N=Ji(A);bs(N,E),function bi(A,E){const N=function Hi(){return!Qi&&"BroadcastChannel"in self&&(Qi=new BroadcastChannel("[Firebase] FID Change"),Qi.onmessage=A=>{bs(A.data.key,A.data.fid)}),Qi}();N&&N.postMessage({key:A,fid:E}),function xs(){0===Wt.size&&Qi&&(Qi.close(),Qi=null)}()}(N,E)}function bs(A,E){const N=Wt.get(A);if(N)for(const G of N)G(E)}let Qi=null;const Xi="firebase-installations-store";let Ys=null;function Ir(){return Ys||(Ys=(0,xe.openDb)("firebase-installations-database",1,A=>{0===A.oldVersion&&A.createObjectStore(Xi)})),Ys}function Jn(A,E){return $r.apply(this,arguments)}function $r(){return($r=(0,P.Z)(function*(A,E){const N=Ji(A),ne=(yield Ir()).transaction(Xi,"readwrite"),De=ne.objectStore(Xi),Re=yield De.get(N);return yield De.put(E,N),yield ne.complete,(!Re||Re.fid!==E.fid)&&Ut(A,E.fid),E})).apply(this,arguments)}function hi(A){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,P.Z)(function*(A){const E=Ji(A),G=(yield Ir()).transaction(Xi,"readwrite");yield G.objectStore(Xi).delete(E),yield G.complete})).apply(this,arguments)}function St(A,E){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,P.Z)(function*(A,E){const N=Ji(A),ne=(yield Ir()).transaction(Xi,"readwrite"),De=ne.objectStore(Xi),Re=yield De.get(N),We=E(Re);return void 0===We?yield De.delete(N):yield De.put(We,N),yield ne.complete,We&&(!Re||Re.fid!==We.fid)&&Ut(A,We.fid),We})).apply(this,arguments)}function Ht(A){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,P.Z)(function*(A){let E;const N=yield St(A,G=>{const ne=vn(G),De=dt(A,ne);return E=De.registrationPromise,De.installationEntry});return""===N.fid?{installationEntry:yield E}:{installationEntry:N,registrationPromise:E}})).apply(this,arguments)}function vn(A){return Nr(A||{fid:Dt(),registrationStatus:0})}function dt(A,E){if(0===E.registrationStatus){if(!navigator.onLine)return{installationEntry:E,registrationPromise:Promise.reject(oe.create("app-offline"))};const N={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},G=function yt(A,E){return jn.apply(this,arguments)}(A,N);return{installationEntry:N,registrationPromise:G}}return 1===E.registrationStatus?{installationEntry:E,registrationPromise:Co(A)}:{installationEntry:E}}function jn(){return(jn=(0,P.Z)(function*(A,E){try{return Jn(A,yield ge(A,E))}catch(N){throw Ae(N)&&409===N.customData.serverCode?yield hi(A):yield Jn(A,{fid:E.fid,registrationStatus:0}),N}})).apply(this,arguments)}function Co(A){return fi.apply(this,arguments)}function fi(){return(fi=(0,P.Z)(function*(A){let E=yield Vn(A);for(;1===E.registrationStatus;)yield qe(100),E=yield Vn(A);if(0===E.registrationStatus){const{installationEntry:N,registrationPromise:G}=yield Ht(A);return G||N}return E})).apply(this,arguments)}function Vn(A){return St(A,E=>{if(!E)throw oe.create("installation-not-found");return Nr(E)})}function Nr(A){return function ta(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function zt(A,E){return W.apply(this,arguments)}function W(){return(W=(0,P.Z)(function*({appConfig:A,platformLoggerProvider:E},N){const G=$(A,N),ne=Je(A,N),De=E.getImmediate({optional:!0});De&&ne.append("x-firebase-client",De.getPlatformInfoString());const We={method:"POST",headers:ne,body:JSON.stringify({installation:{sdkVersion:ie}})},pt=yield $e(()=>fetch(G,We));if(pt.ok)return de(yield pt.json());throw yield Qe("Generate Auth Token",pt)})).apply(this,arguments)}function $(A,{fid:E}){return`${X(A)}/${E}/authTokens:generate`}function ae(A){return Le.apply(this,arguments)}function Le(){return(Le=(0,P.Z)(function*(A,E=!1){let N;const G=yield St(A.appConfig,De=>{if(!Li(De))throw oe.create("not-registered");const Re=De.authToken;if(!E&&dr(Re))return De;if(1===Re.requestStatus)return N=_e(A,E),De;{if(!navigator.onLine)throw oe.create("app-offline");const We=Yi(De);return N=Sn(A,We),We}});return N?yield N:G.authToken})).apply(this,arguments)}function _e(A,E){return st.apply(this,arguments)}function st(){return(st=(0,P.Z)(function*(A,E){let N=yield It(A.appConfig);for(;1===N.authToken.requestStatus;)yield qe(100),N=yield It(A.appConfig);const G=N.authToken;return 0===G.requestStatus?ae(A,E):G})).apply(this,arguments)}function It(A){return St(A,E=>{if(!Li(E))throw oe.create("not-registered");return function be(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(E.authToken)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}function Sn(A,E){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,P.Z)(function*(A,E){try{const N=yield zt(A,E),G=Object.assign(Object.assign({},E),{authToken:N});return yield Jn(A.appConfig,G),N}catch(N){if(!Ae(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const G=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});yield Jn(A.appConfig,G)}else yield hi(A.appConfig);throw N}})).apply(this,arguments)}function Li(A){return void 0!==A&&2===A.registrationStatus}function dr(A){return 2===A.requestStatus&&!function dn(A){const E=Date.now();return E<A.creationTime||A.creationTime+A.expiresIn<E+36e5}(A)}function Yi(A){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:E})}function J(){return(J=(0,P.Z)(function*(A){const E=A,{installationEntry:N,registrationPromise:G}=yield Ht(E.appConfig);return G?G.catch(console.error):ae(E).catch(console.error),N.fid})).apply(this,arguments)}function ot(){return(ot=(0,P.Z)(function*(A,E=!1){const N=A;return yield ht(N.appConfig),(yield ae(N,E)).token})).apply(this,arguments)}function ht(A){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,P.Z)(function*(A){const{registrationPromise:E}=yield Ht(A);E&&(yield E)})).apply(this,arguments)}function Oi(A){return oe.create("missing-app-config-values",{valueName:A})}const pi="installations",al=A=>{const E=A.getProvider("app").getImmediate(),N=function To(A){if(!A||!A.options)throw Oi("App Configuration");if(!A.name)throw Oi("App Name");const E=["projectId","apiKey","appId"];for(const N of E)if(!A.options[N])throw Oi(N);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(E);return{app:E,appConfig:N,platformLoggerProvider:(0,Q._getProvider)(E,"platform-logger"),_delete:()=>Promise.resolve()}},ll=A=>{const E=A.getProvider("app").getImmediate(),N=(0,Q._getProvider)(E,pi).getImmediate();return{getId:()=>function ee(A){return J.apply(this,arguments)}(N),getToken:ne=>function Fe(A){return ot.apply(this,arguments)}(N,ne)}};(function rn(){(0,Q._registerComponent)(new fe.wA(pi,al,"PUBLIC")),(0,Q._registerComponent)(new fe.wA("installations-internal",ll,"PRIVATE"))})(),(0,Q.registerVersion)(q,F),(0,Q.registerVersion)(q,F,"esm2017");const cl="@firebase/remote-config",tr=new z.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Rr{constructor(E,N,G,ne){this.client=E,this.storage=N,this.storageCache=G,this.logger=ne}isCachedDataFresh(E,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const G=Date.now()-N,ne=G<=E;return this.logger.debug(`Config fetch cache check. Cache age millis: ${G}. Cache max age millis (minimumFetchIntervalMillis setting): ${E}. Is cache hit: ${ne}.`),ne}fetch(E){var N=this;return(0,P.Z)(function*(){const[G,ne]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(ne&&N.isCachedDataFresh(E.cacheMaxAgeMillis,G))return ne;E.eTag=ne&&ne.eTag;const De=yield N.client.fetch(E),Re=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===De.status&&Re.push(N.storage.setLastSuccessfulFetchResponse(De)),yield Promise.all(Re),De})()}}function Pr(A=navigator){return A.languages&&A.languages[0]||A.language}class Ym{constructor(E,N,G,ne,De,Re){this.firebaseInstallations=E,this.sdkVersion=N,this.namespace=G,this.projectId=ne,this.apiKey=De,this.appId=Re}fetch(E){var N=this;return(0,P.Z)(function*(){const[G,ne]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Re=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,We={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":E.eTag||"*"},pt={sdk_version:N.sdkVersion,app_instance_id:G,app_instance_id_token:ne,app_id:N.appId,language_code:Pr()},bt={method:"POST",headers:We,body:JSON.stringify(pt)},Nn=fetch(Re,bt),Vi=new Promise((Ro,Wr)=>{E.signal.addEventListener(()=>{const Uh=new Error("The operation was aborted.");Uh.name="AbortError",Wr(Uh)})});let Ur;try{yield Promise.race([Nn,Vi]),Ur=yield Nn}catch(Ro){let Wr="fetch-client-network";throw"AbortError"===Ro.name&&(Wr="fetch-timeout"),tr.create(Wr,{originalErrorMessage:Ro.message})}let Zi=Ur.status;const Dl=Ur.headers.get("ETag")||void 0;let _c,Xs;if(200===Ur.status){let Ro;try{Ro=yield Ur.json()}catch(Wr){throw tr.create("fetch-client-parse",{originalErrorMessage:Wr.message})}_c=Ro.entries,Xs=Ro.state}if("INSTANCE_STATE_UNSPECIFIED"===Xs?Zi=500:"NO_CHANGE"===Xs?Zi=304:("NO_TEMPLATE"===Xs||"EMPTY_CONFIG"===Xs)&&(_c={}),304!==Zi&&200!==Zi)throw tr.create("fetch-status",{httpStatus:Zi});return{status:Zi,eTag:Dl,config:_c}})()}}class vv{constructor(E,N){this.client=E,this.storage=N}fetch(E){var N=this;return(0,P.Z)(function*(){const G=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(E,G)})()}attemptFetch(E,{throttleEndTimeMillis:N,backoffCount:G}){var ne=this;return(0,P.Z)(function*(){yield function js(A,E){return new Promise((N,G)=>{const ne=Math.max(E-Date.now(),0),De=setTimeout(N,ne);A.addEventListener(()=>{clearTimeout(De),G(tr.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(E.signal,N);try{const De=yield ne.client.fetch(E);return yield ne.storage.deleteThrottleMetadata(),De}catch(De){if(!function Eo(A){if(!(A instanceof z.ZR&&A.customData))return!1;const E=Number(A.customData.httpStatus);return 429===E||500===E||503===E||504===E}(De))throw De;const Re={throttleEndTimeMillis:Date.now()+(0,z.$s)(G),backoffCount:G+1};return yield ne.storage.setThrottleMetadata(Re),ne.attemptFetch(E,Re)}})()}}class td{constructor(E,N,G,ne,De){this.app=E,this._client=N,this._storageCache=G,this._storage=ne,this._logger=De,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yh(A,E){const N=A.target.error||void 0;return tr.create(E,{originalErrorMessage:N&&N.message})}const Ma="app_namespace_store";class Cs{constructor(E,N,G,ne=function tp(){return new Promise((A,E)=>{try{const N=indexedDB.open("firebase_remote_config",1);N.onerror=G=>{E(yh(G,"storage-open"))},N.onsuccess=G=>{A(G.target.result)},N.onupgradeneeded=G=>{0===G.oldVersion&&G.target.result.createObjectStore(Ma,{keyPath:"compositeKey"})}}catch(N){E(tr.create("storage-open",{originalErrorMessage:N}))}})}()){this.appId=E,this.appName=N,this.namespace=G,this.openDbPromise=ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(E){return this.set("last_fetch_status",E)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(E){return this.set("last_successful_fetch_timestamp_millis",E)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(E){return this.set("last_successful_fetch_response",E)}getActiveConfig(){return this.get("active_config")}setActiveConfig(E){return this.set("active_config",E)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(E){return this.set("active_config_etag",E)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(E){return this.set("throttle_metadata",E)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(E){var N=this;return(0,P.Z)(function*(){const G=yield N.openDbPromise;return new Promise((ne,De)=>{const We=G.transaction([Ma],"readonly").objectStore(Ma),pt=N.createCompositeKey(E);try{const bt=We.get(pt);bt.onerror=Nn=>{De(yh(Nn,"storage-get"))},bt.onsuccess=Nn=>{const Vi=Nn.target.result;ne(Vi?Vi.value:void 0)}}catch(bt){De(tr.create("storage-get",{originalErrorMessage:bt&&bt.message}))}})})()}set(E,N){var G=this;return(0,P.Z)(function*(){const ne=yield G.openDbPromise;return new Promise((De,Re)=>{const pt=ne.transaction([Ma],"readwrite").objectStore(Ma),bt=G.createCompositeKey(E);try{const Nn=pt.put({compositeKey:bt,value:N});Nn.onerror=Vi=>{Re(yh(Vi,"storage-set"))},Nn.onsuccess=()=>{De()}}catch(Nn){Re(tr.create("storage-set",{originalErrorMessage:Nn&&Nn.message}))}})})()}delete(E){var N=this;return(0,P.Z)(function*(){const G=yield N.openDbPromise;return new Promise((ne,De)=>{const We=G.transaction([Ma],"readwrite").objectStore(Ma),pt=N.createCompositeKey(E);try{const bt=We.delete(pt);bt.onerror=Nn=>{De(yh(Nn,"storage-delete"))},bt.onsuccess=()=>{ne()}}catch(bt){De(tr.create("storage-delete",{originalErrorMessage:bt&&bt.message}))}})})()}createCompositeKey(E){return[this.appId,this.appName,this.namespace,E].join()}}class Cv{constructor(E){this.storage=E}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var E=this;return(0,P.Z)(function*(){const N=E.storage.getLastFetchStatus(),G=E.storage.getLastSuccessfulFetchTimestampMillis(),ne=E.storage.getActiveConfig(),De=yield N;De&&(E.lastFetchStatus=De);const Re=yield G;Re&&(E.lastSuccessfulFetchTimestampMillis=Re);const We=yield ne;We&&(E.activeConfig=We)})()}setLastFetchStatus(E){return this.lastFetchStatus=E,this.storage.setLastFetchStatus(E)}setLastSuccessfulFetchTimestampMillis(E){return this.lastSuccessfulFetchTimestampMillis=E,this.storage.setLastSuccessfulFetchTimestampMillis(E)}setActiveConfig(E){return this.activeConfig=E,this.storage.setActiveConfig(E)}}function nd(){return ls.apply(this,arguments)}function ls(){return(ls=(0,P.Z)(function*(){if(!(0,z.hl)())return!1;try{return yield(0,z.eu)()}catch{return!1}})).apply(this,arguments)}!function Tv(){(0,Q._registerComponent)(new fe.wA("remote-config",function A(E,{instanceIdentifier:N}){const G=E.getProvider("app").getImmediate(),ne=E.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw tr.create("registration-window");if(!(0,z.hl)())throw tr.create("indexed-db-unavailable");const{projectId:De,apiKey:Re,appId:We}=G.options;if(!De)throw tr.create("registration-project-id");if(!Re)throw tr.create("registration-api-key");if(!We)throw tr.create("registration-app-id");const pt=new Cs(We,G.name,N=N||"firebase"),bt=new Cv(pt),Nn=new se.Yd(cl);Nn.logLevel=se.in.ERROR;const Vi=new Ym(ne,Q.SDK_VERSION,N,De,Re,We),Ur=new vv(Vi,pt),Zi=new Rr(Ur,pt,bt,Nn),Dl=new td(G,Zi,bt,pt,Nn);return function kt(A){const E=(0,z.m9)(A);E._initializePromise||(E._initializePromise=E._storageCache.loadFromStorage().then(()=>{E._isInitializationComplete=!0}))}(Dl),Dl},"PUBLIC").setMultipleInstances(!0)),(0,Q.registerVersion)(cl,"0.3.4"),(0,Q.registerVersion)(cl,"0.3.4","esm2017")}();const rc="/firebase-messaging-sw.js",lu="/firebase-cloud-messaging-push-scope",Zm="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",id="google.c.a.c_id",cu="google.c.a.c_l",fl="google.c.a.ts",wv="google.c.a.e";var Ia=(()=>{return(A=Ia||(Ia={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",Ia;var A})();function Zs(A){const E=new Uint8Array(A);return btoa(String.fromCharCode(...E)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xh(A){const N=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),G=atob(N),ne=new Uint8Array(G.length);for(let De=0;De<G.length;++De)ne[De]=G.charCodeAt(De);return ne}const xr="fcm_token_details_db",fr="fcm_token_object_Store";function rd(A){return uu.apply(this,arguments)}function uu(){return uu=(0,P.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(De=>De.name).includes(xr))return null;let E=null;return(yield(0,xe.openDb)(xr,5,function(){var G=(0,P.Z)(function*(ne){var De;if(ne.oldVersion<2||!ne.objectStoreNames.contains(fr))return;const Re=ne.transaction.objectStore(fr),We=yield Re.index("fcmSenderId").get(A);if(yield Re.clear(),We)if(2===ne.oldVersion){const pt=We;if(!pt.auth||!pt.p256dh||!pt.endpoint)return;E={token:pt.fcmToken,createTime:null!==(De=pt.createTime)&&void 0!==De?De:Date.now(),subscriptionOptions:{auth:pt.auth,p256dh:pt.p256dh,endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:"string"==typeof pt.vapidKey?pt.vapidKey:Zs(pt.vapidKey)}}}else if(3===ne.oldVersion){const pt=We;E={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:Zs(pt.auth),p256dh:Zs(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:Zs(pt.vapidKey)}}}else if(4===ne.oldVersion){const pt=We;E={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:Zs(pt.auth),p256dh:Zs(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:Zs(pt.vapidKey)}}}});return function(ne){return G.apply(this,arguments)}}())).close(),yield(0,xe.deleteDb)(xr),yield(0,xe.deleteDb)("fcm_vapid_details_db"),yield(0,xe.deleteDb)("undefined"),Ch(E)?E:null}),uu.apply(this,arguments)}function Ch(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:E}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof E.auth&&E.auth.length>0&&"string"==typeof E.p256dh&&E.p256dh.length>0&&"string"==typeof E.endpoint&&E.endpoint.length>0&&"string"==typeof E.swScope&&E.swScope.length>0&&"string"==typeof E.vapidKey&&E.vapidKey.length>0}const $n="firebase-messaging-store";let du=null;function Th(){return du||(du=(0,xe.openDb)("firebase-messaging-database",1,A=>{0===A.oldVersion&&A.createObjectStore($n)})),du}function Na(A){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,P.Z)(function*(A){const E=ml(A),G=yield(yield Th()).transaction($n).objectStore($n).get(E);if(G)return G;{const ne=yield rd(A.appConfig.senderId);if(ne)return yield sc(A,ne),ne}})).apply(this,arguments)}function sc(A,E){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,P.Z)(function*(A,E){const N=ml(A),ne=(yield Th()).transaction($n,"readwrite");return yield ne.objectStore($n).put(E,N),yield ne.complete,E})).apply(this,arguments)}function pl(A){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,P.Z)(function*(A){const E=ml(A),G=(yield Th()).transaction($n,"readwrite");yield G.objectStore($n).delete(E),yield G.complete})).apply(this,arguments)}function ml({appConfig:A}){return A.appId}const nr=new z.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ko(A,E){return hu.apply(this,arguments)}function hu(){return(hu=(0,P.Z)(function*(A,E){const N=yield Mo(A),G=Oa(E),ne={method:"POST",headers:N,body:JSON.stringify(G)};let De;try{De=yield(yield fetch(ac(A.appConfig),ne)).json()}catch(Re){throw nr.create("token-subscribe-failed",{errorInfo:Re})}if(De.error)throw nr.create("token-subscribe-failed",{errorInfo:De.error.message});if(!De.token)throw nr.create("token-subscribe-no-token");return De.token})).apply(this,arguments)}function fu(A,E){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,P.Z)(function*(A,E){const N=yield Mo(A),G=Oa(E.subscriptionOptions),ne={method:"PATCH",headers:N,body:JSON.stringify(G)};let De;try{De=yield(yield fetch(`${ac(A.appConfig)}/${E.token}`,ne)).json()}catch(Re){throw nr.create("token-update-failed",{errorInfo:Re})}if(De.error)throw nr.create("token-update-failed",{errorInfo:De.error.message});if(!De.token)throw nr.create("token-update-no-token");return De.token})).apply(this,arguments)}function La(A,E){return wh.apply(this,arguments)}function wh(){return(wh=(0,P.Z)(function*(A,E){const G={method:"DELETE",headers:yield Mo(A)};try{const De=yield(yield fetch(`${ac(A.appConfig)}/${E}`,G)).json();if(De.error)throw nr.create("token-unsubscribe-failed",{errorInfo:De.error.message})}catch(ne){throw nr.create("token-unsubscribe-failed",{errorInfo:ne})}})).apply(this,arguments)}function ac({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function Mo(A){return lc.apply(this,arguments)}function lc(){return(lc=(0,P.Z)(function*({appConfig:A,installations:E}){const N=yield E.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function Oa({p256dh:A,auth:E,endpoint:N,vapidKey:G}){const ne={web:{endpoint:N,auth:E,p256dh:A}};return G!==Zm&&(ne.web.applicationPubKey=G),ne}const Dh=6048e5;function sd(A){return Be.apply(this,arguments)}function Be(){return(Be=(0,P.Z)(function*(A){const E=yield $s(A.swRegistration,A.vapidKey),N={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:E.endpoint,auth:Zs(E.getKey("auth")),p256dh:Zs(E.getKey("p256dh"))},G=yield Na(A.firebaseDependencies);if(G){if(gl(G.subscriptionOptions,N))return Date.now()>=G.createTime+Dh?ad(A,{token:G.token,createTime:Date.now(),subscriptionOptions:N}):G.token;try{yield La(A.firebaseDependencies,G.token)}catch(ne){console.warn(ne)}return Ra(A.firebaseDependencies,N)}return Ra(A.firebaseDependencies,N)})).apply(this,arguments)}function hn(A){return od.apply(this,arguments)}function od(){return(od=(0,P.Z)(function*(A){const E=yield Na(A.firebaseDependencies);E&&(yield La(A.firebaseDependencies,E.token),yield pl(A.firebaseDependencies));const N=yield A.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function ad(A,E){return xi.apply(this,arguments)}function xi(){return(xi=(0,P.Z)(function*(A,E){try{const N=yield fu(A.firebaseDependencies,E),G=Object.assign(Object.assign({},E),{token:N,createTime:Date.now()});return yield sc(A.firebaseDependencies,G),N}catch(N){throw yield hn(A),N}})).apply(this,arguments)}function Ra(A,E){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,P.Z)(function*(A,E){const G={token:yield ko(A,E),createTime:Date.now(),subscriptionOptions:E};return yield sc(A,G),G.token})).apply(this,arguments)}function $s(A,E){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,P.Z)(function*(A,E){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xh(E)})})).apply(this,arguments)}function gl(A,E){return E.vapidKey===A.vapidKey&&E.endpoint===A.endpoint&&E.auth===A.auth&&E.p256dh===A.p256dh}function Gm(A){const E={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function ip(A,E){if(!E.notification)return;A.notification={};const N=E.notification.title;N&&(A.notification.title=N);const G=E.notification.body;G&&(A.notification.body=G);const ne=E.notification.image;ne&&(A.notification.image=ne)}(E,A),function Sh(A,E){!E.data||(A.data=E.data)}(E,A),function ld(A,E){if(!E.fcmOptions)return;A.fcmOptions={};const N=E.fcmOptions.link;N&&(A.fcmOptions.link=N);const G=E.fcmOptions.analytics_label;G&&(A.fcmOptions.analyticsLabel=G)}(E,A),E}function Fr(A){return"object"==typeof A&&!!A&&id in A}function Ts(A,E){const N=[];for(let G=0;G<A.length;G++)N.push(A.charAt(G)),G<E.length&&N.push(E.charAt(G));return N.join("")}function Io(A){return nr.create("missing-app-config-values",{valueName:A})}Ts("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ts("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ra{constructor(E,N,G){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ne=function Ah(A){if(!A||!A.options)throw Io("App Configuration Object");if(!A.name)throw Io("App Name");const E=["projectId","apiKey","appId","messagingSenderId"],{options:N}=A;for(const G of E)if(!N[G])throw Io(G);return{appName:A.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(E);this.firebaseDependencies={app:E,appConfig:ne,installations:N,analyticsProvider:G}}_delete(){return Promise.resolve()}}function pu(A){return cd.apply(this,arguments)}function cd(){return(cd=(0,P.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(rc,{scope:lu}),A.swRegistration.update().catch(()=>{})}catch(E){throw nr.create("failed-service-worker-registration",{browserErrorMessage:E.message})}})).apply(this,arguments)}function Eh(A,E){return kh.apply(this,arguments)}function kh(){return(kh=(0,P.Z)(function*(A,E){if(!E&&!A.swRegistration&&(yield pu(A)),E||!A.swRegistration){if(!(E instanceof ServiceWorkerRegistration))throw nr.create("invalid-sw-registration");A.swRegistration=E}})).apply(this,arguments)}function _l(A,E){return ud.apply(this,arguments)}function ud(){return(ud=(0,P.Z)(function*(A,E){E?A.vapidKey=E:A.vapidKey||(A.vapidKey=Zm)})).apply(this,arguments)}function mu(){return(mu=(0,P.Z)(function*(A,E){if(!navigator)throw nr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw nr.create("permission-blocked");return yield _l(A,E?.vapidKey),yield Eh(A,E?.serviceWorkerRegistration),sd(A)})).apply(this,arguments)}function Mh(A,E,N){return hd.apply(this,arguments)}function hd(){return(hd=(0,P.Z)(function*(A,E,N){const G=fd(E);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(G,{message_id:N[id],message_name:N[cu],message_time:N[fl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fd(A){switch(A){case Ia.NOTIFICATION_CLICKED:return"notification_open";case Ia.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function vl(){return(vl=(0,P.Z)(function*(A,E){const N=E.data;if(!N.isFirebaseMessaging)return;A.onMessageHandler&&N.messageType===Ia.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(Gm(N)):A.onMessageHandler.next(Gm(N)));const G=N.data;Fr(G)&&"1"===G[wv]&&(yield Mh(A,N.messageType,G))})).apply(this,arguments)}const pd="@firebase/messaging",gu=A=>{const E=new ra(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function Ih(A,E){return vl.apply(this,arguments)}(E,N)),E},Sv=A=>{const E=A.getProvider("messaging").getImmediate();return{getToken:G=>function dd(A,E){return mu.apply(this,arguments)}(E,G)}};function Vr(){return No.apply(this,arguments)}function No(){return(No=(0,P.Z)(function*(){try{yield(0,z.eu)()}catch{return!1}return typeof window<"u"&&(0,z.hl)()&&(0,z.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $m(){(0,Q._registerComponent)(new fe.wA("messaging",gu,"PUBLIC")),(0,Q._registerComponent)(new fe.wA("messaging-internal",Sv,"PRIVATE")),(0,Q.registerVersion)(pd,"0.9.8"),(0,Q.registerVersion)(pd,"0.9.8","esm2017")}();const oa="analytics",ws="firebase_id",Ev="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Va="https://www.googletagmanager.com/gtag/js",Di=new se.Yd("@firebase/analytics");function Oh(A){return Promise.all(A.map(E=>E.catch(N=>N)))}function sp(A,E){const N=document.createElement("script");N.src=`${Va}?l=${A}&id=${E}`,N.async=!0,document.head.appendChild(N)}function _u(A,E,N,G,ne,De){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,P.Z)(function*(A,E,N,G,ne,De){const Re=G[ne];try{if(Re)yield E[Re];else{const pt=(yield Oh(N)).find(bt=>bt.measurementId===ne);pt&&(yield E[pt.appId])}}catch(We){Di.error(We)}A("config",ne,De)})).apply(this,arguments)}function Wm(A,E,N,G,ne){return zm.apply(this,arguments)}function zm(){return(zm=(0,P.Z)(function*(A,E,N,G,ne){try{let De=[];if(ne&&ne.send_to){let Re=ne.send_to;Array.isArray(Re)||(Re=[Re]);const We=yield Oh(N);for(const pt of Re){const bt=We.find(Vi=>Vi.measurementId===pt),Nn=bt&&E[bt.appId];if(!Nn){De=[];break}De.push(Nn)}}0===De.length&&(De=Object.values(E)),yield Promise.all(De),A("event",G,ne||{})}catch(De){Di.error(De)}})).apply(this,arguments)}function ap(){const A=window.document.getElementsByTagName("script");for(const E of Object.values(A))if(E.src&&E.src.includes(Va))return E;return null}const pr=new z.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Km=new class qs{constructor(E={},N=1e3){this.throttleMetadata=E,this.intervalMillis=N}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,N){this.throttleMetadata[E]=N}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}};function li(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function Tr(A){return wr.apply(this,arguments)}function wr(){return(wr=(0,P.Z)(function*(A){var E;const{appId:N,apiKey:G}=A,ne={method:"GET",headers:li(G)},De=Ev.replace("{app-id}",N),Re=yield fetch(De,ne);if(200!==Re.status&&304!==Re.status){let We="";try{const pt=yield Re.json();null!==(E=pt.error)&&void 0!==E&&E.message&&(We=pt.error.message)}catch{}throw pr.create("config-fetch-failed",{httpStatus:Re.status,responseMessage:We})}return Re.json()})).apply(this,arguments)}function yl(A){return ci.apply(this,arguments)}function ci(){return(ci=(0,P.Z)(function*(A,E=Km,N){const{appId:G,apiKey:ne,measurementId:De}=A.options;if(!G)throw pr.create("no-app-id");if(!ne){if(De)return{measurementId:De,appId:G};throw pr.create("no-api-key")}const Re=E.getThrottleMetadata(G)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new Ba;return setTimeout((0,P.Z)(function*(){We.abort()}),void 0!==N?N:6e4),At({appId:G,apiKey:ne,measurementId:De},Re,We,E)})).apply(this,arguments)}function At(A,E,N){return sn.apply(this,arguments)}function sn(){return(sn=(0,P.Z)(function*(A,{throttleEndTimeMillis:E,backoffCount:N},G,ne=Km){const{appId:De,measurementId:Re}=A;try{yield Pi(G,E)}catch(We){if(Re)return Di.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${We.message}]`),{appId:De,measurementId:Re};throw We}try{const We=yield Tr(A);return ne.deleteThrottleMetadata(De),We}catch(We){if(!mr(We)){if(ne.deleteThrottleMetadata(De),Re)return Di.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${We.message}]`),{appId:De,measurementId:Re};throw We}const pt=503===Number(We.customData.httpStatus)?(0,z.$s)(N,ne.intervalMillis,30):(0,z.$s)(N,ne.intervalMillis),bt={throttleEndTimeMillis:Date.now()+pt,backoffCount:N+1};return ne.setThrottleMetadata(De,bt),Di.debug(`Calling attemptFetch again in ${pt} millis`),At(A,bt,G,ne)}})).apply(this,arguments)}function Pi(A,E){return new Promise((N,G)=>{const ne=Math.max(E-Date.now(),0),De=setTimeout(N,ne);A.addEventListener(()=>{clearTimeout(De),G(pr.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}function mr(A){if(!(A instanceof z.ZR&&A.customData))return!1;const E=Number(A.customData.httpStatus);return 429===E||500===E||503===E||504===E}class Ba{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}function cs(){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,P.Z)(function*(){if(!(0,z.hl)())return Di.warn(pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,z.eu)()}catch(A){return Di.warn(pr.create("indexeddb-unavailable",{errorInfo:A}).message),!1}return!0})).apply(this,arguments)}function dc(){return(dc=(0,P.Z)(function*(A,E,N,G,ne,De,Re){var We;const pt=yl(A);pt.then(Zi=>{N[Zi.measurementId]=Zi.appId,A.options.measurementId&&Zi.measurementId!==A.options.measurementId&&Di.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${Zi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Zi=>Di.error(Zi)),E.push(pt);const bt=cs().then(Zi=>{if(Zi)return G.getId()}),[Nn,Vi]=yield Promise.all([pt,bt]);ap()||sp(De,Nn.measurementId),ne("js",new Date);const Ur=null!==(We=Re?.config)&&void 0!==We?We:{};return Ur.origin="firebase",Ur.update=!0,null!=Vi&&(Ur[ws]=Vi),ne("config",Nn.measurementId,Ur),Nn.measurementId})).apply(this,arguments)}class vu{constructor(E){this.app=E}_delete(){return delete Ws[this.app.options.appId],Promise.resolve()}}let Ws={},yu=[];const Ph={};let bu,aa,ui="dataLayer",cp=!1;function la(A,E,N){!function up(){const A=[];if((0,z.ru)()&&A.push("This is a browser extension environment."),(0,z.zI)()||A.push("Cookies are not available."),A.length>0){const E=A.map((G,ne)=>`(${ne+1}) ${G}`).join(" "),N=pr.create("invalid-analytics-context",{errorInfo:E});Di.warn(N.message)}}();const G=A.options.appId;if(!G)throw pr.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw pr.create("no-api-key");Di.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ws[G])throw pr.create("already-exists",{id:G});if(!cp){!function md(A){let E=[];Array.isArray(window[A])?E=window[A]:window[A]=E}(ui);const{wrappedGtag:De,gtagCore:Re}=function op(A,E,N,G,ne){let De=function(...Re){window[G].push(arguments)};return window[ne]&&"function"==typeof window[ne]&&(De=window[ne]),window[ne]=function jb(A,E,N,G){function De(){return(De=(0,P.Z)(function*(Re,We,pt){try{"event"===Re?yield Wm(A,E,N,We,pt):"config"===Re?yield _u(A,E,N,G,We,pt):A("set",We)}catch(bt){Di.error(bt)}})).apply(this,arguments)}return function ne(Re,We,pt){return De.apply(this,arguments)}}(De,A,E,N),{gtagCore:De,wrappedGtag:window[ne]}}(Ws,yu,Ph,ui,"gtag");aa=De,bu=Re,cp=!0}return Ws[G]=function bl(A,E,N,G,ne,De,Re){return dc.apply(this,arguments)}(A,yu,Ph,E,bu,ui,N),new vu(A)}function Ua(){return(Ua=(0,P.Z)(function*(A,E,N,G,ne){if(ne&&ne.global)A("event",N,G);else{const De=yield E;A("event",N,Object.assign(Object.assign({},G),{send_to:De}))}})).apply(this,arguments)}function Ci(){return yd.apply(this,arguments)}function yd(){return(yd=(0,P.Z)(function*(){if((0,z.ru)()||!(0,z.zI)()||!(0,z.hl)())return!1;try{return yield(0,z.eu)()}catch{return!1}})).apply(this,arguments)}const Qm="@firebase/analytics";!function fp(){(0,Q._registerComponent)(new fe.wA(oa,(E,{options:N})=>la(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,Q._registerComponent)(new fe.wA("analytics-internal",function A(E){try{const N=E.getProvider(oa).getImmediate();return{logEvent:(G,ne,De)=>function Iv(A,E,N,G){A=(0,z.m9)(A),function Jm(A,E,N,G,ne){return Ua.apply(this,arguments)}(aa,Ws[A.app.options.appId],E,N,G).catch(ne=>Di.error(ne))}(N,G,ne,De)}}catch(N){throw pr.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,Q.registerVersion)(Qm,"0.7.5"),(0,Q.registerVersion)(Qm,"0.7.5","esm2017")}();var Ks=I(3289),Fh=I(1659),Nv=I(1938);function kn(){}var Vh=I(4467);class pc{constructor(E,N,G){this.nextOrObserver=E,this.error=N,this.complete=G}call(E,N){return N.subscribe(new bd(E,this.nextOrObserver,this.error,this.complete))}}class bd extends Nv.L{constructor(E,N,G,ne){super(E),this._tapNext=kn,this._tapError=kn,this._tapComplete=kn,this._tapError=G||kn,this._tapComplete=ne||kn,(0,Vh.m)(N)?(this._context=this,this._tapNext=N):N&&(this._context=N,this._tapNext=N.next||kn,this._tapError=N.error||kn,this._tapComplete=N.complete||kn)}_next(E){try{this._tapNext.call(this._context,E)}catch(N){return void this.destination.error(N)}this.destination.next(E)}_error(E){try{this._tapError.call(this._context,E)}catch(N){return void this.destination.error(N)}this.destination.error(E)}_complete(){try{this._tapComplete.call(this._context)}catch(E){return void this.destination.error(E)}return this.destination.complete()}}var us=I(1949),qr=I(6893);const mc=new s.GfV("7.2.0"),ds="__angularfire_symbol__analyticsIsSupported",Si="__angularfire_symbol__remoteConfigIsSupported",bn="__angularfire_symbol__messagingIsSupported";function _r(A,E,N){if(E){if(1===E.length)return E[0];const De=E.filter(Re=>Re.app===N);if(1===De.length)return De[0]}return N.container.getProvider(A).getImmediate({optional:!0})}globalThis[ds]||(globalThis[ds]=Ci().then(A=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=A)),globalThis[bn]||(globalThis[bn]=Vr().then(A=>globalThis.__angularfire_symbol__messagingIsSupportedValue=A)),globalThis[Si]||(globalThis[Si]=nd().then(A=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=A));const Fi=(A,E)=>{const N=E?[E]:(0,H.C6)(),G=[];return N.forEach(ne=>{ne.container.getProvider(A).instances.forEach(Re=>{G.includes(Re)||G.push(Re)})}),G};function ua(){}class Cd{constructor(E,N=Ks.N){this.zone=E,this.delegate=N}now(){return this.delegate.now()}schedule(E,N,G){const ne=this.zone;return this.delegate.schedule(function(Re){ne.runGuarded(()=>{E.apply(this,[Re])})},N,G)}}class Td{constructor(E){this.zone=E,this.task=null}call(E,N){const G=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ua,{},ua,ua)),N.pipe(function Ya(A,E,N){return function(ne){return ne.lift(new pc(A,E,N))}}({next:G,complete:G,error:G})).subscribe(E).add(G)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pp=(()=>{class A{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new Cd(Zone.current)),this.insideAngular=N.run(()=>new Cd(Zone.current,Fh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(N){return new(N||A)(s.LFG(s.R0b))},A.\u0275prov=s.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function Oo(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function gc(A){return A.pipe((0,us.QV)(Oo().outsideAngular))}function Br(A){return Oo(),function Cu(A){return function(N){return(N=N.lift(new Td(A.ngZone))).pipe((0,qr.R)(A.outsideAngular),(0,us.QV)(A.insideAngular))}}(Oo())(A)}},149:(Ke,ve,I)=>{"use strict";I.d(ve,{y:()=>Z});var s=I(1938),P=I(3388),Q=I(1166),fe=I(8655),se=I(4635);var F=I(8158);let Z=(()=>{class Se{constructor(Ie){this._isScalar=!1,Ie&&(this._subscribe=Ie)}lift(Ie){const ye=new Se;return ye.source=this,ye.operator=Ie,ye}subscribe(Ie,ye,Ce){const{operator:Ee}=this,oe=function z(Se,pe,Ie){if(Se){if(Se instanceof s.L)return Se;if(Se[P.b])return Se[P.b]()}return Se||pe||Ie?new s.L(Se,pe,Ie):new s.L(Q.c)}(Ie,ye,Ce);if(oe.add(Ee?Ee.call(oe,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!oe.syncErrorThrowable?this._subscribe(oe):this._trySubscribe(oe)),F.v.useDeprecatedSynchronousErrorHandling&&oe.syncErrorThrowable&&(oe.syncErrorThrowable=!1,oe.syncErrorThrown))throw oe.syncErrorValue;return oe}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(ye){F.v.useDeprecatedSynchronousErrorHandling&&(Ie.syncErrorThrown=!0,Ie.syncErrorValue=ye),function H(Se){for(;Se;){const{closed:pe,destination:Ie,isStopped:ye}=Se;if(pe||ye)return!1;Se=Ie&&Ie instanceof s.L?Ie:null}return!0}(Ie)?Ie.error(ye):console.warn(ye)}}forEach(Ie,ye){return new(ye=ie(ye))((Ce,Ee)=>{let oe;oe=this.subscribe(Ae=>{try{Ie(Ae)}catch(X){Ee(X),oe&&oe.unsubscribe()}},Ee,Ce)})}_subscribe(Ie){const{source:ye}=this;return ye&&ye.subscribe(Ie)}[fe.L](){return this}pipe(...Ie){return 0===Ie.length?this:function q(Se){return 0===Se.length?se.y:1===Se.length?Se[0]:function(Ie){return Se.reduce((ye,Ce)=>Ce(ye),Ie)}}(Ie)(this)}toPromise(Ie){return new(Ie=ie(Ie))((ye,Ce)=>{let Ee;this.subscribe(oe=>Ee=oe,oe=>Ce(oe),()=>ye(Ee))})}}return Se.create=pe=>new Se(pe),Se})();function ie(Se){if(Se||(Se=F.v.Promise||Promise),!Se)throw new Error("no Promise impl found");return Se}},1166:(Ke,ve,I)=>{"use strict";I.d(ve,{c:()=>P});var s=I(8158),H=I(9477);const P={closed:!0,next(Q){},error(Q){if(s.v.useDeprecatedSynchronousErrorHandling)throw Q;(0,H.z)(Q)},complete(){}}},1938:(Ke,ve,I)=>{"use strict";I.d(ve,{L:()=>se});var s=I(4467),H=I(1166),P=I(393),Q=I(3388),z=I(8158),fe=I(9477);class se extends P.w{constructor(F,Z,ie){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=H.c;break;case 1:if(!F){this.destination=H.c;break}if("object"==typeof F){F instanceof se?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new xe(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new xe(this,F,Z,ie)}}[Q.b](){return this}static create(F,Z,ie){const Se=new se(F,Z,ie);return Se.syncErrorThrowable=!1,Se}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class xe extends se{constructor(F,Z,ie,Se){super(),this._parentSubscriber=F;let pe,Ie=this;(0,s.m)(Z)?pe=Z:Z&&(pe=Z.next,ie=Z.error,Se=Z.complete,Z!==H.c&&(Ie=Object.create(Z),(0,s.m)(Ie.unsubscribe)&&this.add(Ie.unsubscribe.bind(Ie)),Ie.unsubscribe=this.unsubscribe.bind(this))),this._context=Ie,this._next=pe,this._error=ie,this._complete=Se}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:Z}=this;z.v.useDeprecatedSynchronousErrorHandling&&Z.syncErrorThrowable?this.__tryOrSetError(Z,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:Z}=this,{useDeprecatedSynchronousErrorHandling:ie}=z.v;if(this._error)ie&&Z.syncErrorThrowable?(this.__tryOrSetError(Z,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(Z.syncErrorThrowable)ie?(Z.syncErrorValue=F,Z.syncErrorThrown=!0):(0,fe.z)(F),this.unsubscribe();else{if(this.unsubscribe(),ie)throw F;(0,fe.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const Z=()=>this._complete.call(this._context);z.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,Z),this.unsubscribe()):(this.__tryOrUnsub(Z),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,Z){try{F.call(this._context,Z)}catch(ie){if(this.unsubscribe(),z.v.useDeprecatedSynchronousErrorHandling)throw ie;(0,fe.z)(ie)}}__tryOrSetError(F,Z,ie){if(!z.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Z.call(this._context,ie)}catch(Se){return z.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=Se,F.syncErrorThrown=!0,!0):((0,fe.z)(Se),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},393:(Ke,ve,I)=>{"use strict";I.d(ve,{w:()=>fe});var s=I(8521),H=I(5414),P=I(4467);const z=(()=>{function xe(q){return Error.call(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((F,Z)=>`${Z+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q,this}return xe.prototype=Object.create(Error.prototype),xe})();class fe{constructor(q){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,q&&(this._ctorUnsubscribe=!0,this._unsubscribe=q)}unsubscribe(){let q;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:Z,_unsubscribe:ie,_subscriptions:Se}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof fe)F.remove(this);else if(null!==F)for(let pe=0;pe<F.length;++pe)F[pe].remove(this);if((0,P.m)(ie)){Z&&(this._unsubscribe=void 0);try{ie.call(this)}catch(pe){q=pe instanceof z?se(pe.errors):[pe]}}if((0,s.k)(Se)){let pe=-1,Ie=Se.length;for(;++pe<Ie;){const ye=Se[pe];if((0,H.K)(ye))try{ye.unsubscribe()}catch(Ce){q=q||[],Ce instanceof z?q=q.concat(se(Ce.errors)):q.push(Ce)}}}if(q)throw new z(q)}add(q){let F=q;if(!q)return fe.EMPTY;switch(typeof q){case"function":F=new fe(q);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof fe)){const Se=F;F=new fe,F._subscriptions=[Se]}break;default:throw new Error("unrecognized teardown "+q+" added to Subscription.")}let{_parentOrParents:Z}=F;if(null===Z)F._parentOrParents=this;else if(Z instanceof fe){if(Z===this)return F;F._parentOrParents=[Z,this]}else{if(-1!==Z.indexOf(this))return F;Z.push(this)}const ie=this._subscriptions;return null===ie?this._subscriptions=[F]:ie.push(F),F}remove(q){const F=this._subscriptions;if(F){const Z=F.indexOf(q);-1!==Z&&F.splice(Z,1)}}}var xe;function se(xe){return xe.reduce((q,F)=>q.concat(F instanceof z?F.errors:F),[])}fe.EMPTY=((xe=new fe).closed=!0,xe)},8158:(Ke,ve,I)=>{"use strict";I.d(ve,{v:()=>H});let s=!1;const H={Promise:void 0,set useDeprecatedSynchronousErrorHandling(P){if(P){const Q=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Q.stack)}else s&&console.log("RxJS: Back to a better error behavior. Thank you. <3");s=P},get useDeprecatedSynchronousErrorHandling(){return s}}},5019:(Ke,ve,I)=>{"use strict";I.d(ve,{c:()=>P});var s=I(149);const H=new s.y(z=>z.complete());function P(z){return z?function Q(z){return new s.y(fe=>z.schedule(()=>fe.complete()))}(z):H}},8026:(Ke,ve,I)=>{"use strict";I.d(ve,{n:()=>Q});var s=I(149),H=I(8721),P=I(5001);function Q(z,fe){return fe?(0,P.r)(z,fe):new s.y((0,H.V)(z))}},9425:(Ke,ve,I)=>{"use strict";I.d(ve,{of:()=>Q});var s=I(8456),H=I(8026),P=I(5001);function Q(...z){let fe=z[z.length-1];return(0,s.K)(fe)?(z.pop(),(0,P.r)(z,fe)):(0,H.n)(z)}},1949:(Ke,ve,I)=>{"use strict";I.d(ve,{ht:()=>Z,QV:()=>q});var s=I(1938),H=I(5019),P=I(9425),Q=I(149);function fe({error:Se,subscriber:pe}){pe.error(Se)}class xe{constructor(pe,Ie,ye){this.kind=pe,this.value=Ie,this.error=ye,this.hasValue="N"===pe}observe(pe){switch(this.kind){case"N":return pe.next&&pe.next(this.value);case"E":return pe.error&&pe.error(this.error);case"C":return pe.complete&&pe.complete()}}do(pe,Ie,ye){switch(this.kind){case"N":return pe&&pe(this.value);case"E":return Ie&&Ie(this.error);case"C":return ye&&ye()}}accept(pe,Ie,ye){return pe&&"function"==typeof pe.next?this.observe(pe):this.do(pe,Ie,ye)}toObservable(){switch(this.kind){case"N":return(0,P.of)(this.value);case"E":return function z(Se,pe){return new Q.y(pe?Ie=>pe.schedule(fe,0,{error:Se,subscriber:Ie}):Ie=>Ie.error(Se))}(this.error);case"C":return(0,H.c)()}throw new Error("unexpected notification kind value")}static createNext(pe){return typeof pe<"u"?new xe("N",pe):xe.undefinedValueNotification}static createError(pe){return new xe("E",void 0,pe)}static createComplete(){return xe.completeNotification}}function q(Se,pe=0){return function(ye){return ye.lift(new F(Se,pe))}}xe.completeNotification=new xe("C"),xe.undefinedValueNotification=new xe("N",void 0);class F{constructor(pe,Ie=0){this.scheduler=pe,this.delay=Ie}call(pe,Ie){return Ie.subscribe(new Z(pe,this.scheduler,this.delay))}}class Z extends s.L{constructor(pe,Ie,ye=0){super(pe),this.scheduler=Ie,this.delay=ye}static dispatch(pe){const{notification:Ie,destination:ye}=pe;Ie.observe(ye),this.unsubscribe()}scheduleMessage(pe){this.destination.add(this.scheduler.schedule(Z.dispatch,this.delay,new ie(pe,this.destination)))}_next(pe){this.scheduleMessage(xe.createNext(pe))}_error(pe){this.scheduleMessage(xe.createError(pe)),this.unsubscribe()}_complete(){this.scheduleMessage(xe.createComplete()),this.unsubscribe()}}class ie{constructor(pe,Ie){this.notification=pe,this.destination=Ie}}},6893:(Ke,ve,I)=>{"use strict";I.d(ve,{R:()=>Ce});var s=I(149);let H=1;const P=(()=>Promise.resolve())(),Q={};function z(oe){return oe in Q&&(delete Q[oe],!0)}const fe={setImmediate(oe){const Ae=H++;return Q[Ae]=!0,P.then(()=>z(Ae)&&oe()),Ae},clearImmediate(oe){z(oe)}};var xe=I(1773);class q extends xe.o{constructor(Ae,X){super(Ae,X),this.scheduler=Ae,this.work=X}requestAsyncId(Ae,X,de=0){return null!==de&&de>0?super.requestAsyncId(Ae,X,de):(Ae.actions.push(this),Ae.scheduled||(Ae.scheduled=fe.setImmediate(Ae.flush.bind(Ae,null))))}recycleAsyncId(Ae,X,de=0){if(null!==de&&de>0||null===de&&this.delay>0)return super.recycleAsyncId(Ae,X,de);0===Ae.actions.length&&(fe.clearImmediate(X),Ae.scheduled=void 0)}}var F=I(6925);class Z extends F.v{flush(Ae){this.active=!0,this.scheduled=void 0;const{actions:X}=this;let de,Qe=-1,Xe=X.length;Ae=Ae||X.shift();do{if(de=Ae.execute(Ae.state,Ae.delay))break}while(++Qe<Xe&&(Ae=X.shift()));if(this.active=!1,de){for(;++Qe<Xe&&(Ae=X.shift());)Ae.unsubscribe();throw de}}}const Se=new Z(q);var pe=I(8521);class ye extends s.y{constructor(Ae,X=0,de=Se){super(),this.source=Ae,this.delayTime=X,this.scheduler=de,(!function Ie(oe){return!(0,pe.k)(oe)&&oe-parseFloat(oe)+1>=0}(X)||X<0)&&(this.delayTime=0),(!de||"function"!=typeof de.schedule)&&(this.scheduler=Se)}static create(Ae,X=0,de=Se){return new ye(Ae,X,de)}static dispatch(Ae){const{source:X,subscriber:de}=Ae;return this.add(X.subscribe(de))}_subscribe(Ae){return this.scheduler.schedule(ye.dispatch,this.delayTime,{source:this.source,subscriber:Ae})}}function Ce(oe,Ae=0){return function(de){return de.lift(new Ee(oe,Ae))}}class Ee{constructor(Ae,X){this.scheduler=Ae,this.delay=X}call(Ae,X){return new ye(X,this.delay,this.scheduler).subscribe(Ae)}}},5001:(Ke,ve,I)=>{"use strict";I.d(ve,{r:()=>P});var s=I(149),H=I(393);function P(Q,z){return new s.y(fe=>{const se=new H.w;let xe=0;return se.add(z.schedule(function(){xe!==Q.length?(fe.next(Q[xe++]),fe.closed||se.add(this.schedule())):fe.complete()})),se})}},1773:(Ke,ve,I)=>{"use strict";I.d(ve,{o:()=>P});var s=I(393);class H extends s.w{constructor(z,fe){super()}schedule(z,fe=0){return this}}class P extends H{constructor(z,fe){super(z,fe),this.scheduler=z,this.work=fe,this.pending=!1}schedule(z,fe=0){if(this.closed)return this;this.state=z;const se=this.id,xe=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(xe,se,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId(xe,this.id,fe),this}requestAsyncId(z,fe,se=0){return setInterval(z.flush.bind(z,this),se)}recycleAsyncId(z,fe,se=0){if(null!==se&&this.delay===se&&!1===this.pending)return fe;clearInterval(fe)}execute(z,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(z,fe);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(z,fe){let xe,se=!1;try{this.work(z)}catch(q){se=!0,xe=!!q&&q||new Error(q)}if(se)return this.unsubscribe(),xe}_unsubscribe(){const z=this.id,fe=this.scheduler,se=fe.actions,xe=se.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==xe&&se.splice(xe,1),null!=z&&(this.id=this.recycleAsyncId(fe,z,null)),this.delay=null}}},6925:(Ke,ve,I)=>{"use strict";I.d(ve,{v:()=>H});let s=(()=>{class P{constructor(z,fe=P.now){this.SchedulerAction=z,this.now=fe}schedule(z,fe=0,se){return new this.SchedulerAction(this,z).schedule(se,fe)}}return P.now=()=>Date.now(),P})();class H extends s{constructor(Q,z=s.now){super(Q,()=>H.delegate&&H.delegate!==this?H.delegate.now():z()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Q,z=0,fe){return H.delegate&&H.delegate!==this?H.delegate.schedule(Q,z,fe):super.schedule(Q,z,fe)}flush(Q){const{actions:z}=this;if(this.active)return void z.push(Q);let fe;this.active=!0;do{if(fe=Q.execute(Q.state,Q.delay))break}while(Q=z.shift());if(this.active=!1,fe){for(;Q=z.shift();)Q.unsubscribe();throw fe}}}},1659:(Ke,ve,I)=>{"use strict";I.d(ve,{P:()=>Q,z:()=>P});var s=I(1773);const P=new(I(6925).v)(s.o),Q=P},3289:(Ke,ve,I)=>{"use strict";I.d(ve,{c:()=>fe,N:()=>z});var s=I(1773);class H extends s.o{constructor(xe,q){super(xe,q),this.scheduler=xe,this.work=q}schedule(xe,q=0){return q>0?super.schedule(xe,q):(this.delay=q,this.state=xe,this.scheduler.flush(this),this)}execute(xe,q){return q>0||this.closed?super.execute(xe,q):this._execute(xe,q)}requestAsyncId(xe,q,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(xe,q,F):xe.flush(this)}}var P=I(6925);class Q extends P.v{}const z=new Q(H),fe=z},8655:(Ke,ve,I)=>{"use strict";I.d(ve,{L:()=>s});const s=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},3388:(Ke,ve,I)=>{"use strict";I.d(ve,{b:()=>s});const s=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},9477:(Ke,ve,I)=>{"use strict";function s(H){setTimeout(()=>{throw H},0)}I.d(ve,{z:()=>s})},4635:(Ke,ve,I)=>{"use strict";function s(H){return H}I.d(ve,{y:()=>s})},8521:(Ke,ve,I)=>{"use strict";I.d(ve,{k:()=>s});const s=(()=>Array.isArray||(H=>H&&"number"==typeof H.length))()},4467:(Ke,ve,I)=>{"use strict";function s(H){return"function"==typeof H}I.d(ve,{m:()=>s})},5414:(Ke,ve,I)=>{"use strict";function s(H){return null!==H&&"object"==typeof H}I.d(ve,{K:()=>s})},8456:(Ke,ve,I)=>{"use strict";function s(H){return H&&"function"==typeof H.schedule}I.d(ve,{K:()=>s})},8721:(Ke,ve,I)=>{"use strict";I.d(ve,{V:()=>s});const s=H=>P=>{for(let Q=0,z=H.length;Q<z&&!P.closed;Q++)P.next(H[Q]);P.complete()}},3578:(Ke,ve,I)=>{"use strict";I.d(ve,{$:()=>Dh,A:()=>Z,E:()=>al,G:()=>wo,I:()=>Eo,K:()=>dr,L:()=>nd,M:()=>Zm,N:()=>hl,P:()=>mc,Q:()=>id,R:()=>Qm,T:()=>lu,U:()=>Qn,V:()=>Ia,W:()=>fr,X:()=>ml,Y:()=>nr,Z:()=>hu,_:()=>wh,a:()=>pr,a0:()=>Be,a1:()=>od,a2:()=>xi,a3:()=>Pa,a4:()=>Fa,a5:()=>Gm,a6:()=>ip,a7:()=>ld,a8:()=>Fr,a9:()=>ra,aA:()=>Vi,aB:()=>Cu,aC:()=>pi,aG:()=>qs,aJ:()=>fl,aa:()=>cd,ab:()=>kh,ae:()=>mu,af:()=>hd,ag:()=>fd,aj:()=>Dv,ak:()=>gi,am:()=>qm,an:()=>md,ao:()=>ai,ap:()=>$e,aq:()=>nn,ar:()=>ht,as:()=>Ae,at:()=>Bv,au:()=>mp,av:()=>X,aw:()=>ce,ax:()=>ue,ay:()=>dn,az:()=>Xs,b:()=>ap,c:()=>gr,d:()=>ua,e:()=>_r,f:()=>A,g:()=>Re,h:()=>G,i:()=>Lo,j:()=>bt,k:()=>Hv,l:()=>Nv,m:()=>xc,n:()=>Po,o:()=>xe,r:()=>Vh,s:()=>Ks,u:()=>us,z:()=>pe});var s=I(5861),H=I(2090),P=I(9681),Q=I(655),z=I(1877),fe=I(4859);const xe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const pe=function ie(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ie=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new z.Yd("@firebase/auth");function oe(C,..._){Ee.logLevel<=z.in.ERROR&&Ee.error(`Auth (${P.SDK_VERSION}): ${C}`,..._)}function Ae(C,..._){throw Xe(C,..._)}function X(C,..._){return Xe(C,..._)}function de(C,_,y){const w=Object.assign(Object.assign({},Ie()),{[_]:y});return new H.LL("auth","Firebase",w).create(_,{appName:C.name})}function Qe(C,_,y){if(!(_ instanceof y))throw y.name!==_.constructor.name&&Ae(C,"argument-error"),de(C,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xe(C,..._){if("string"!=typeof C){const y=_[0],w=[..._.slice(1)];return w[0]&&(w[0].appName=C.name),C._errorFactory.create(y,...w)}return ye.create(C,..._)}function ce(C,_,...y){if(!C)throw Xe(_,...y)}function Je(C){const _="INTERNAL ASSERTION FAILED: "+C;throw oe(_),new Error(_)}function $e(C,_){C||Je(_)}const me=new Map;function ue(C){$e(C instanceof Function,"Expected a class definition");let _=me.get(C);return _?($e(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,me.set(C,_),_)}function it(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function qe(){return"http:"===qt()||"https:"===qt()}function qt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Dt{constructor(_,y){this.shortDelay=_,this.longDelay=y,$e(y>_,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function Cn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qe()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ri(C,_){$e(C.emulator,"Emulator should always be set here");const{url:y}=C.emulator;return _?`${y}${_.startsWith("/")?_.slice(1):_}`:y}class Ji{static initialize(_,y,w){this.fetchImpl=_,y&&(this.headersImpl=y),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ut=new Dt(3e4,6e4);function yn(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function _n(C,_,y,w){return bs.apply(this,arguments)}function bs(){return(bs=(0,s.Z)(function*(C,_,y,w,L={}){return bi(C,L,(0,s.Z)(function*(){let j={},he={};w&&("GET"===_?he=w:j={body:JSON.stringify(w)});const Ue=(0,H.xO)(Object.assign({key:C.config.apiKey},he)).slice(1),xt=yield C._getAdditionalHeaders();return xt["Content-Type"]="application/json",C.languageCode&&(xt["X-Firebase-Locale"]=C.languageCode),Ji.fetch()(bo(C,C.config.apiHost,y,Ue),Object.assign({method:_,headers:xt,referrerPolicy:"no-referrer"},j))}))})).apply(this,arguments)}function bi(C,_,y){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,s.Z)(function*(C,_,y){C._canInitEmulator=!1;const w=Object.assign(Object.assign({},Wt),_);try{const L=new xo(C),j=yield Promise.race([y(),L.promise]);L.clearNetworkTimeout();const he=yield j.json();if("needConfirmation"in he)throw Xi(C,"account-exists-with-different-credential",he);if(j.ok&&!("errorMessage"in he))return he;{const Ue=j.ok?he.errorMessage:he.error.message,[xt,Bt]=Ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xt)throw Xi(C,"credential-already-in-use",he);if("EMAIL_EXISTS"===xt)throw Xi(C,"email-already-in-use",he);const Qt=w[xt]||xt.toLowerCase().replace(/[_\s]+/g,"-");if(Bt)throw de(C,Qt,Bt);Ae(C,Qt)}}catch(L){if(L instanceof H.ZR)throw L;Ae(C,"network-request-failed")}})).apply(this,arguments)}function Hi(C,_,y,w){return xs.apply(this,arguments)}function xs(){return(xs=(0,s.Z)(function*(C,_,y,w,L={}){const j=yield _n(C,_,y,w,L);return"mfaPendingCredential"in j&&Ae(C,"multi-factor-auth-required",{_serverResponse:j}),j})).apply(this,arguments)}function bo(C,_,y,w){const L=`${_}${y}?${w}`;return C.config.emulator?ri(C.config,L):`${C.config.apiScheme}://${L}`}class xo{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((y,w)=>{this.timer=setTimeout(()=>w(X(this.auth,"network-request-failed")),Ut.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xi(C,_,y){const w={appName:C.name};y.email&&(w.email=y.email),y.phoneNumber&&(w.phoneNumber=y.phoneNumber);const L=X(C,_,w);return L.customData._tokenResponse=y,L}function Ir(){return(Ir=(0,s.Z)(function*(C,_){return _n(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Jn(C,_){return $r.apply(this,arguments)}function $r(){return($r=(0,s.Z)(function*(C,_){return _n(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function hi(C,_){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,s.Z)(function*(C,_){return _n(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function St(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function Yn(){return(Yn=(0,s.Z)(function*(C,_=!1){const y=(0,H.m9)(C),w=yield y.getIdToken(_),L=dt(w);ce(L&&L.exp&&L.auth_time&&L.iat,y.auth,"internal-error");const j="object"==typeof L.firebase?L.firebase:void 0,he=j?.sign_in_provider;return{claims:L,token:w,authTime:St(vn(L.auth_time)),issuedAtTime:St(vn(L.iat)),expirationTime:St(vn(L.exp)),signInProvider:he||null,signInSecondFactor:j?.sign_in_second_factor||null}})).apply(this,arguments)}function vn(C){return 1e3*Number(C)}function dt(C){const[_,y,w]=C.split(".");if(void 0===_||void 0===y||void 0===w)return oe("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,H.tV)(y);return L?JSON.parse(L):(oe("Failed to decode base64 JWT payload"),null)}catch(L){return oe("Caught error parsing JWT payload as JSON",L),null}}function jn(C,_){return Co.apply(this,arguments)}function Co(){return(Co=(0,s.Z)(function*(C,_,y=!1){if(y)return _;try{return yield _}catch(w){throw w instanceof H.ZR&&fi(w)&&C.auth.currentUser===C&&(yield C.auth.signOut()),w}})).apply(this,arguments)}function fi({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class Vn{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var y;if(_){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const L=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(_=!1){var y=this;if(!this.isRunning)return;const w=this.getInterval(_);this.timerId=setTimeout((0,s.Z)(function*(){yield y.iteration()}),w)}iteration(){var _=this;return(0,s.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&_.schedule(!0))}_.schedule()})()}}class Nr{constructor(_,y){this.createdAt=_,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=St(this.lastLoginAt),this.creationTime=St(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ta(C){return zt.apply(this,arguments)}function zt(){return(zt=(0,s.Z)(function*(C){var _;const y=C.auth,w=yield C.getIdToken(),L=yield jn(C,hi(y,{idToken:w}));ce(L?.users.length,y,"internal-error");const j=L.users[0];C._notifyReloadListener(j);const he=null!==(_=j.providerUserInfo)&&void 0!==_&&_.length?Le(j.providerUserInfo):[],Ue=ae(C.providerData,he),Qt=!!C.isAnonymous&&!(C.email&&j.passwordHash||Ue?.length),Ei={uid:j.localId,displayName:j.displayName||null,photoURL:j.photoUrl||null,email:j.email||null,emailVerified:j.emailVerified||!1,phoneNumber:j.phoneNumber||null,tenantId:j.tenantId||null,providerData:Ue,metadata:new Nr(j.createdAt,j.lastLoginAt),isAnonymous:Qt};Object.assign(C,Ei)})).apply(this,arguments)}function $(){return($=(0,s.Z)(function*(C){const _=(0,H.m9)(C);yield ta(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function ae(C,_){return[...C.filter(w=>!_.some(L=>L.providerId===w.providerId)),..._]}function Le(C){return C.map(_=>{var{providerId:y}=_,w=(0,Q._T)(_,["providerId"]);return{providerId:y,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function st(){return(st=(0,s.Z)(function*(C,_){const y=yield bi(C,{},(0,s.Z)(function*(){const w=(0,H.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:L,apiKey:j}=C.config,he=bo(C,L,"/v1/token",`key=${j}`),Ue=yield C._getAdditionalHeaders();return Ue["Content-Type"]="application/x-www-form-urlencoded",Ji.fetch()(he,{method:"POST",headers:Ue,body:w})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class It{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){ce(_.idToken,"internal-error"),ce(typeof _.idToken<"u","internal-error"),ce(typeof _.refreshToken<"u","internal-error");const y="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function yt(C){const _=dt(C);return ce(_,"internal-error"),ce(typeof _.exp<"u","internal-error"),ce(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,y)}getToken(_,y=!1){var w=this;return(0,s.Z)(function*(){return ce(!w.accessToken||w.refreshToken,_,"user-token-expired"),y||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(_,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,y){var w=this;return(0,s.Z)(function*(){const{accessToken:L,refreshToken:j,expiresIn:he}=yield function _e(C,_){return st.apply(this,arguments)}(_,y);w.updateTokensAndExpiration(L,j,Number(he))})()}updateTokensAndExpiration(_,y,w){this.refreshToken=y||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(_,y){const{refreshToken:w,accessToken:L,expirationTime:j}=y,he=new It;return w&&(ce("string"==typeof w,"internal-error",{appName:_}),he.refreshToken=w),L&&(ce("string"==typeof L,"internal-error",{appName:_}),he.accessToken=L),j&&(ce("number"==typeof j,"internal-error",{appName:_}),he.expirationTime=j),he}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new It,this.toJSON())}_performRefresh(){return Je("not implemented")}}function Sn(C,_){ce("string"==typeof C||typeof C>"u","internal-error",{appName:_})}class Zn{constructor(_){var{uid:y,auth:w,stsTokenManager:L}=_,j=(0,Q._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=w,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=j.displayName||null,this.email=j.email||null,this.emailVerified=j.emailVerified||!1,this.phoneNumber=j.phoneNumber||null,this.photoURL=j.photoURL||null,this.isAnonymous=j.isAnonymous||!1,this.tenantId=j.tenantId||null,this.providerData=j.providerData?[...j.providerData]:[],this.metadata=new Nr(j.createdAt||void 0,j.lastLoginAt||void 0)}getIdToken(_){var y=this;return(0,s.Z)(function*(){const w=yield jn(y,y.stsTokenManager.getToken(y.auth,_));return ce(w,y.auth,"internal-error"),y.accessToken!==w&&(y.accessToken=w,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),w})()}getIdTokenResult(_){return function Ht(C){return Yn.apply(this,arguments)}(this,_)}reload(){return function W(C){return $.apply(this,arguments)}(this)}_assign(_){this!==_&&(ce(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(y=>Object.assign({},y)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new Zn(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,y=!1){var w=this;return(0,s.Z)(function*(){let L=!1;_.idToken&&_.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(_),L=!0),y&&(yield ta(w)),yield w.auth._persistUserIfCurrent(w),L&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var _=this;return(0,s.Z)(function*(){const y=yield _.getIdToken();return yield jn(_,function Ys(C,_){return Ir.apply(this,arguments)}(_.auth,{idToken:y})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,y){var w,L,j,he,Ue,xt,Bt,Qt;const Ei=null!==(w=y.displayName)&&void 0!==w?w:void 0,Cc=null!==(L=y.email)&&void 0!==L?L:void 0,Tc=null!==(j=y.phoneNumber)&&void 0!==j?j:void 0,wu=null!==(he=y.photoURL)&&void 0!==he?he:void 0,kd=null!==(Ue=y.tenantId)&&void 0!==Ue?Ue:void 0,Kr=null!==(xt=y._redirectEventId)&&void 0!==xt?xt:void 0,Sl=null!==(Bt=y.createdAt)&&void 0!==Bt?Bt:void 0,Md=null!==(Qt=y.lastLoginAt)&&void 0!==Qt?Qt:void 0,{uid:xp,emailVerified:qh,isAnonymous:Cp,providerData:Zv,stsTokenManager:zb}=y;ce(xp&&zb,_,"internal-error");const Tp=It.fromJSON(this.name,zb);ce("string"==typeof xp,_,"internal-error"),Sn(Ei,_.name),Sn(Cc,_.name),ce("boolean"==typeof qh,_,"internal-error"),ce("boolean"==typeof Cp,_,"internal-error"),Sn(Tc,_.name),Sn(wu,_.name),Sn(kd,_.name),Sn(Kr,_.name),Sn(Sl,_.name),Sn(Md,_.name);const Wh=new Zn({uid:xp,auth:_,email:Cc,emailVerified:qh,displayName:Ei,isAnonymous:Cp,photoURL:wu,phoneNumber:Tc,tenantId:kd,stsTokenManager:Tp,createdAt:Sl,lastLoginAt:Md});return Zv&&Array.isArray(Zv)&&(Wh.providerData=Zv.map(wp=>Object.assign({},wp))),Kr&&(Wh._redirectEventId=Kr),Wh}static _fromIdTokenResponse(_,y,w=!1){return(0,s.Z)(function*(){const L=new It;L.updateFromServerResponse(y);const j=new Zn({uid:y.localId,auth:_,stsTokenManager:L,isAnonymous:w});return yield ta(j),j})()}}const dr=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(y,w){var L=this;return(0,s.Z)(function*(){L.storage[y]=w})()}_get(y){var w=this;return(0,s.Z)(function*(){const L=w.storage[y];return void 0===L?null:L})()}_remove(y){var w=this;return(0,s.Z)(function*(){delete w.storage[y]})()}_addListener(y,w){}_removeListener(y,w){}}return C.type="NONE",C})();function dn(C,_,y){return`firebase:${C}:${_}:${y}`}class Yi{constructor(_,y,w){this.persistence=_,this.auth=y,this.userKey=w;const{config:L,name:j}=this.auth;this.fullUserKey=dn(this.userKey,L.apiKey,j),this.fullPersistenceKey=dn("persistence",L.apiKey,j),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,s.Z)(function*(){const y=yield _.persistence._get(_.fullUserKey);return y?Zn._fromJSON(_.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var y=this;return(0,s.Z)(function*(){if(y.persistence===_)return;const w=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=_,w?y.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,y,w="authUser"){return(0,s.Z)(function*(){if(!y.length)return new Yi(ue(dr),_,w);const L=(yield Promise.all(y.map(function(){var Bt=(0,s.Z)(function*(Qt){if(yield Qt._isAvailable())return Qt});return function(Qt){return Bt.apply(this,arguments)}}()))).filter(Bt=>Bt);let j=L[0]||ue(dr);const he=dn(w,_.config.apiKey,_.name);let Ue=null;for(const Bt of y)try{const Qt=yield Bt._get(he);if(Qt){const Ei=Zn._fromJSON(_,Qt);Bt!==j&&(Ue=Ei),j=Bt;break}}catch{}const xt=L.filter(Bt=>Bt._shouldAllowMigration);return j._shouldAllowMigration&&xt.length?(j=xt[0],Ue&&(yield j._set(he,Ue.toJSON())),yield Promise.all(y.map(function(){var Bt=(0,s.Z)(function*(Qt){if(Qt!==j)try{yield Qt._remove(he)}catch{}});return function(Qt){return Bt.apply(this,arguments)}}())),new Yi(j,_,w)):new Yi(j,_,w)})()}}function be(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(ot(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(ee(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Ft(_))return"Blackberry";if(Zt(_))return"Webos";if(J(_))return"Safari";if((_.includes("chrome/")||Fe(_))&&!_.includes("edge/"))return"Chrome";if(ht(_))return"Android";{const w=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function ee(C=(0,H.z$)()){return/firefox\//i.test(C)}function J(C=(0,H.z$)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function Fe(C=(0,H.z$)()){return/crios\//i.test(C)}function ot(C=(0,H.z$)()){return/iemobile/i.test(C)}function ht(C=(0,H.z$)()){return/android/i.test(C)}function Ft(C=(0,H.z$)()){return/blackberry/i.test(C)}function Zt(C=(0,H.z$)()){return/webos/i.test(C)}function nn(C=(0,H.z$)()){return/iphone|ipad|ipod/i.test(C)}function ai(C=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Tn(C=(0,H.z$)()){return nn(C)||ht(C)||Zt(C)||Ft(C)||/windows phone/i.test(C)||ot(C)}function To(C,_=[]){let y;switch(C){case"Browser":y=be((0,H.z$)());break;case"Worker":y=`${be((0,H.z$)())}-${C}`;break;default:y=C}const w=_.length?_.join(","):"FirebaseCore-web";return`${y}/JsCore/${P.SDK_VERSION}/${w}`}class Oi{constructor(_,y){this.app=_,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mi(this),this.idTokenSubscription=new mi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(_,y){var w=this;return y&&(this._popupRedirectResolver=ue(y)),this._initializationPromise=this.queue((0,s.Z)(function*(){var L,j;if(!w._deleted&&(w.persistenceManager=yield Yi.create(w,_),!w._deleted)){if(null!==(L=w._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(y),w.lastNotifiedUid=(null===(j=w.currentUser)||void 0===j?void 0:j.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,s.Z)(function*(){if(_._deleted)return;const y=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||y){if(_.currentUser&&y&&_.currentUser.uid===y.uid)return _._currentUser._assign(y),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(y)}})()}initializeCurrentUser(_){var y=this;return(0,s.Z)(function*(){var w;let L=yield y.assertedPersistence.getCurrentUser();if(_&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const j=null===(w=y.redirectUser)||void 0===w?void 0:w._redirectEventId,he=L?._redirectEventId,Ue=yield y.tryRedirectSignIn(_);(!j||j===he)&&Ue?.user&&(L=Ue.user)}return L?L._redirectEventId?(ce(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===L._redirectEventId?y.directlySetCurrentUser(L):y.reloadAndSetCurrentUserOrClear(L)):y.reloadAndSetCurrentUserOrClear(L):y.directlySetCurrentUser(null)})()}tryRedirectSignIn(_){var y=this;return(0,s.Z)(function*(){let w=null;try{w=yield y._popupRedirectResolver._completeRedirectFn(y,_,!0)}catch{yield y._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(_){var y=this;return(0,s.Z)(function*(){try{yield ta(_)}catch(w){if("auth/network-request-failed"!==w.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Ui(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,s.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var y=this;return(0,s.Z)(function*(){const w=_?(0,H.m9)(_):null;return w&&ce(w.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(w&&w._clone(y))})()}_updateCurrentUser(_){var y=this;return(0,s.Z)(function*(){if(!y._deleted)return _&&ce(y.tenantId===_.tenantId,y,"tenant-id-mismatch"),y.queue((0,s.Z)(function*(){yield y.directlySetCurrentUser(_),y.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,s.Z)(function*(){return(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null)})()}setPersistence(_){var y=this;return this.queue((0,s.Z)(function*(){yield y.assertedPersistence.setPersistence(ue(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new H.LL("auth","Firebase",_())}onAuthStateChanged(_,y,w){return this.registerStateListener(this.authStateSubscription,_,y,w)}onIdTokenChanged(_,y,w){return this.registerStateListener(this.idTokenSubscription,_,y,w)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,y){var w=this;return(0,s.Z)(function*(){const L=yield w.getOrInitRedirectPersistenceManager(y);return null===_?L.removeCurrentUser():L.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var y=this;return(0,s.Z)(function*(){if(!y.redirectPersistenceManager){const w=_&&ue(_)||y._popupRedirectResolver;ce(w,y,"argument-error"),y.redirectPersistenceManager=yield Yi.create(y,[ue(w._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(_){var y=this;return(0,s.Z)(function*(){var w,L;return y._isInitialized&&(yield y.queue((0,s.Z)(function*(){}))),(null===(w=y._currentUser)||void 0===w?void 0:w._redirectEventId)===_?y._currentUser:(null===(L=y.redirectUser)||void 0===L?void 0:L._redirectEventId)===_?y.redirectUser:null})()}_persistUserIfCurrent(_){var y=this;return(0,s.Z)(function*(){if(_===y.currentUser)return y.queue((0,s.Z)(function*(){return y.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(y=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,y,w,L){if(this._deleted)return()=>{};const j="function"==typeof y?y:y.next.bind(y),he=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(he,this,"internal-error"),he.then(()=>j(this.currentUser)),"function"==typeof y?_.addObserver(y,w,L):_.addObserver(y)}directlySetCurrentUser(_){var y=this;return(0,s.Z)(function*(){y.currentUser&&y.currentUser!==_&&(y._currentUser._stopProactiveRefresh(),_&&y.isProactiveRefreshEnabled&&_._startProactiveRefresh()),y.currentUser=_,_?yield y.assertedPersistence.setCurrentUser(_):yield y.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=To(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,s.Z)(function*(){const y={"X-Client-Version":_.clientVersion};return _.app.options.appId&&(y["X-Firebase-gmpid"]=_.app.options.appId),y})()}}function pi(C){return(0,H.m9)(C)}class mi{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,H.ne)(y=>this.observer=y)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function al(C,_,y){const w=pi(C);ce(w._canInitEmulator,w,"emulator-config-failed"),ce(/^https?:\/\//.test(_),w,"invalid-emulator-scheme");const L=!!y?.disableWarnings,j=ll(_),{host:he,port:Ue}=function rn(C){const _=ll(C),y=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!y)return{host:"",port:null};const w=y[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(w);if(L){const j=L[1];return{host:j,port:cl(w.substr(j.length+1))}}{const[j,he]=w.split(":");return{host:j,port:cl(he)}}}(_);w.config.emulator={url:`${j}//${he}${null===Ue?"":`:${Ue}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:he,port:Ue,protocol:j.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function na(){function C(){const _=document.createElement("p"),y=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function ll(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function cl(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class wo{constructor(_,y){this.providerId=_,this.signInMethod=y}toJSON(){return Je("not implemented")}_getIdTokenResponse(_){return Je("not implemented")}_linkToIdToken(_,y){return Je("not implemented")}_getReauthenticationResolver(_){return Je("not implemented")}}function Do(C,_){return er.apply(this,arguments)}function er(){return(er=(0,s.Z)(function*(C,_){return _n(C,"POST","/v1/accounts:resetPassword",yn(C,_))})).apply(this,arguments)}function tr(C,_){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,s.Z)(function*(C,_){return _n(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Or(C,_){return ka.apply(this,arguments)}function ka(){return(ka=(0,s.Z)(function*(C,_){return _n(C,"POST","/v1/accounts:update",yn(C,_))})).apply(this,arguments)}function Gn(){return(Gn=(0,s.Z)(function*(C,_){return Hi(C,"POST","/v1/accounts:signInWithPassword",yn(C,_))})).apply(this,arguments)}function tc(C,_){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,s.Z)(function*(C,_){return _n(C,"POST","/v1/accounts:sendOobCode",yn(C,_))})).apply(this,arguments)}function au(C,_){return ul.apply(this,arguments)}function ul(){return(ul=(0,s.Z)(function*(C,_){return tc(C,_)})).apply(this,arguments)}function kt(C,_){return nc.apply(this,arguments)}function nc(){return(nc=(0,s.Z)(function*(C,_){return tc(C,_)})).apply(this,arguments)}function So(C,_){return ji.apply(this,arguments)}function ji(){return(ji=(0,s.Z)(function*(C,_){return tc(C,_)})).apply(this,arguments)}function Xu(C,_){return hr.apply(this,arguments)}function hr(){return(hr=(0,s.Z)(function*(C,_){return tc(C,_)})).apply(this,arguments)}function dl(){return(dl=(0,s.Z)(function*(C,_){return Hi(C,"POST","/v1/accounts:signInWithEmailLink",yn(C,_))})).apply(this,arguments)}function ic(){return(ic=(0,s.Z)(function*(C,_){return Hi(C,"POST","/v1/accounts:signInWithEmailLink",yn(C,_))})).apply(this,arguments)}class Rr extends wo{constructor(_,y,w,L=null){super("password",w),this._email=_,this._password=y,this._tenantId=L}static _fromEmailAndPassword(_,y){return new Rr(_,y,"password")}static _fromEmailAndCode(_,y,w=null){return new Rr(_,y,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(_){var y=this;return(0,s.Z)(function*(){switch(y.signInMethod){case"password":return function Qu(C,_){return Gn.apply(this,arguments)}(_,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Ao(C,_){return dl.apply(this,arguments)}(_,{email:y._email,oobCode:y._password});default:Ae(_,"internal-error")}})()}_linkToIdToken(_,y){var w=this;return(0,s.Z)(function*(){switch(w.signInMethod){case"password":return tr(_,{idToken:y,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function ed(C,_){return ic.apply(this,arguments)}(_,{idToken:y,email:w._email,oobCode:w._password});default:Ae(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Pr(C,_){return Ym.apply(this,arguments)}function Ym(){return(Ym=(0,s.Z)(function*(C,_){return Hi(C,"POST","/v1/accounts:signInWithIdp",yn(C,_))})).apply(this,arguments)}class Eo extends wo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const y=new Eo(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(y.idToken=_.idToken),_.accessToken&&(y.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(y.nonce=_.nonce),_.pendingToken&&(y.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(y.accessToken=_.oauthToken,y.secret=_.oauthTokenSecret):Ae("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_,{providerId:w,signInMethod:L}=y,j=(0,Q._T)(y,["providerId","signInMethod"]);if(!w||!L)return null;const he=new Eo(w,L);return he.idToken=j.idToken||void 0,he.accessToken=j.accessToken||void 0,he.secret=j.secret,he.nonce=j.nonce,he.pendingToken=j.pendingToken||null,he}_getIdTokenResponse(_){return Pr(_,this.buildRequest())}_linkToIdToken(_,y){const w=this.buildRequest();return w.idToken=y,Pr(_,w)}_getReauthenticationResolver(_){const y=this.buildRequest();return y.autoCreate=!1,Pr(_,y)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),_.postBody=(0,H.xO)(y)}return _}}function vv(C,_){return ep.apply(this,arguments)}function ep(){return(ep=(0,s.Z)(function*(C,_){return _n(C,"POST","/v1/accounts:sendVerificationCode",yn(C,_))})).apply(this,arguments)}function td(){return(td=(0,s.Z)(function*(C,_){return Hi(C,"POST","/v1/accounts:signInWithPhoneNumber",yn(C,_))})).apply(this,arguments)}function Ma(){return(Ma=(0,s.Z)(function*(C,_){const y=yield Hi(C,"POST","/v1/accounts:signInWithPhoneNumber",yn(C,_));if(y.temporaryProof)throw Xi(C,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const bv={USER_NOT_FOUND:"user-not-found"};function tp(){return(tp=(0,s.Z)(function*(C,_){return Hi(C,"POST","/v1/accounts:signInWithPhoneNumber",yn(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),bv)})).apply(this,arguments)}class Cs extends wo{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,y){return new Cs({verificationId:_,verificationCode:y})}static _fromTokenResponse(_,y){return new Cs({phoneNumber:_,temporaryProof:y})}_getIdTokenResponse(_){return function yv(C,_){return td.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,y){return function yh(C,_){return Ma.apply(this,arguments)}(_,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function xv(C,_){return tp.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:y,verificationId:w,verificationCode:L}=this.params;return _&&y?{temporaryProof:_,phoneNumber:y}:{sessionInfo:w,code:L}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:y,verificationCode:w,phoneNumber:L,temporaryProof:j}=_;return w||y||L||j?new Cs({verificationId:y,verificationCode:w,phoneNumber:L,temporaryProof:j}):null}}class bh{constructor(_){var y,w,L,j,he,Ue;const xt=(0,H.zd)((0,H.pd)(_)),Bt=null!==(y=xt.apiKey)&&void 0!==y?y:null,Qt=null!==(w=xt.oobCode)&&void 0!==w?w:null,Ei=function Cv(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=xt.mode)&&void 0!==L?L:null);ce(Bt&&Qt&&Ei,"argument-error"),this.apiKey=Bt,this.operation=Ei,this.code=Qt,this.continueUrl=null!==(j=xt.continueUrl)&&void 0!==j?j:null,this.languageCode=null!==(he=xt.languageCode)&&void 0!==he?he:null,this.tenantId=null!==(Ue=xt.tenantId)&&void 0!==Ue?Ue:null}static parseLink(_){const y=function Tv(C){const _=(0,H.zd)((0,H.pd)(C)).link,y=_?(0,H.zd)((0,H.pd)(_)).deep_link_id:null,w=(0,H.zd)((0,H.pd)(C)).deep_link_id;return(w?(0,H.zd)((0,H.pd)(w)).link:null)||w||y||_||C}(_);try{return new bh(y)}catch{return null}}}let nd=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(y,w){return Rr._fromEmailAndPassword(y,w)}static credentialWithLink(y,w){const L=bh.parseLink(w);return ce(L,"argument-error"),Rr._fromEmailAndCode(y,L.code,L.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class ls{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class rc extends ls{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class lu extends rc{static credentialFromJSON(_){const y="string"==typeof _?JSON.parse(_):_;return ce("providerId"in y&&"signInMethod"in y,"argument-error"),Eo._fromParams(y)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return ce(_.idToken||_.accessToken,"argument-error"),Eo._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return lu.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return lu.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:y,oauthAccessToken:w,oauthTokenSecret:L,pendingToken:j,nonce:he,providerId:Ue}=_;if(!w&&!L&&!y&&!j||!Ue)return null;try{return new lu(Ue)._credential({idToken:y,accessToken:w,nonce:he,pendingToken:j})}catch{return null}}}let Zm=(()=>{class C extends rc{constructor(){super("facebook.com")}static credential(y){return Eo._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return C.credential(y.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),hl=(()=>{class C extends rc{constructor(){super("google.com"),this.addScope("profile")}static credential(y,w){return Eo._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:w})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:w,oauthAccessToken:L}=y;if(!w&&!L)return null;try{return C.credential(w,L)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),id=(()=>{class C extends rc{constructor(){super("github.com")}static credential(y){return Eo._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return C.credential(y.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class fl extends wo{constructor(_,y){super(_,_),this.pendingToken=y}_getIdTokenResponse(_){return Pr(_,this.buildRequest())}_linkToIdToken(_,y){const w=this.buildRequest();return w.idToken=y,Pr(_,w)}_getReauthenticationResolver(_){const y=this.buildRequest();return y.autoCreate=!1,Pr(_,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_,{providerId:w,signInMethod:L,pendingToken:j}=y;return w&&L&&j&&w===L?new fl(w,j):null}static _create(_,y){return new fl(_,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Qn extends ls{constructor(_){ce(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return Qn.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return Qn.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const y=fl.fromJSON(_);return ce(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:y,providerId:w}=_;if(!y||!w)return null;try{return fl._create(w,y)}catch{return null}}}let Ia=(()=>{class C extends rc{constructor(){super("twitter.com")}static credential(y,w){return Eo._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:w})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:w,oauthTokenSecret:L}=y;if(!w||!L)return null;try{return C.credential(w,L)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Zs(C,_){return xh.apply(this,arguments)}function xh(){return(xh=(0,s.Z)(function*(C,_){return Hi(C,"POST","/v1/accounts:signUp",yn(C,_))})).apply(this,arguments)}class xr{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,y,w,L=!1){return(0,s.Z)(function*(){const j=yield Zn._fromIdTokenResponse(_,w,L),he=ia(w);return new xr({user:j,providerId:he,_tokenResponse:w,operationType:y})})()}static _forOperation(_,y,w){return(0,s.Z)(function*(){yield _._updateTokensIfNecessary(w,!0);const L=ia(w);return new xr({user:_,providerId:L,_tokenResponse:w,operationType:y})})()}}function ia(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function fr(C){return rd.apply(this,arguments)}function rd(){return(rd=(0,s.Z)(function*(C){var _;const y=pi(C);if(yield y._initializationPromise,null!==(_=y.currentUser)&&void 0!==_&&_.isAnonymous)return new xr({user:y.currentUser,providerId:null,operationType:"signIn"});const w=yield Zs(y,{returnSecureToken:!0}),L=yield xr._fromIdTokenResponse(y,"signIn",w,!0);return yield y._updateCurrentUser(L.user),L})).apply(this,arguments)}class uu extends H.ZR{constructor(_,y,w,L){var j;super(y.code,y.message),this.operationType=w,this.user=L,Object.setPrototypeOf(this,uu.prototype),this.customData={appName:_.name,tenantId:null!==(j=_.tenantId)&&void 0!==j?j:void 0,_serverResponse:y.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(_,y,w,L){return new uu(_,y,w,L)}}function Ch(C,_,y,w){return("reauthenticate"===_?y._getReauthenticationResolver(C):y._getIdTokenResponse(C)).catch(j=>{throw"auth/multi-factor-auth-required"===j.code?uu._fromErrorAndOperation(C,j,_,w):j})}function np(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function Dv(C,_){return $n.apply(this,arguments)}function $n(){return($n=(0,s.Z)(function*(C,_){const y=(0,H.m9)(C);yield Na(!0,y,_);const{providerUserInfo:w}=yield Jn(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[_]}),L=np(w||[]);return y.providerData=y.providerData.filter(j=>L.has(j.providerId)),L.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function du(C,_){return Th.apply(this,arguments)}function Th(){return(Th=(0,s.Z)(function*(C,_,y=!1){const w=yield jn(C,_._linkToIdToken(C.auth,yield C.getIdToken()),y);return xr._forOperation(C,"link",w)})).apply(this,arguments)}function Na(C,_,y){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,s.Z)(function*(C,_,y){yield ta(_);const L=!1===C?"provider-already-linked":"no-such-provider";ce(np(_.providerData).has(y)===C,_.auth,L)})).apply(this,arguments)}function sc(C,_){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,s.Z)(function*(C,_,y=!1){const{auth:w}=C,L="reauthenticate";try{const j=yield jn(C,Ch(w,L,_,C),y);ce(j.idToken,w,"internal-error");const he=dt(j.idToken);ce(he,w,"internal-error");const{sub:Ue}=he;return ce(C.uid===Ue,w,"user-mismatch"),xr._forOperation(C,L,j)}catch(j){throw"auth/user-not-found"===j?.code&&Ae(w,"user-mismatch"),j}})).apply(this,arguments)}function pl(C,_){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,s.Z)(function*(C,_,y=!1){const w="signIn",L=yield Ch(C,w,_),j=yield xr._fromIdTokenResponse(C,w,L);return y||(yield C._updateCurrentUser(j.user)),j})).apply(this,arguments)}function ml(C,_){return oc.apply(this,arguments)}function oc(){return(oc=(0,s.Z)(function*(C,_){return pl(pi(C),_)})).apply(this,arguments)}function nr(C,_){return ko.apply(this,arguments)}function ko(){return(ko=(0,s.Z)(function*(C,_){const y=(0,H.m9)(C);return yield Na(!1,y,_.providerId),du(y,_)})).apply(this,arguments)}function hu(C,_){return fu.apply(this,arguments)}function fu(){return(fu=(0,s.Z)(function*(C,_){return sc((0,H.m9)(C),_)})).apply(this,arguments)}function Vt(C,_){return La.apply(this,arguments)}function La(){return(La=(0,s.Z)(function*(C,_){return Hi(C,"POST","/v1/accounts:signInWithCustomToken",yn(C,_))})).apply(this,arguments)}function wh(C,_){return ac.apply(this,arguments)}function ac(){return(ac=(0,s.Z)(function*(C,_){const y=pi(C),w=yield Vt(y,{token:_,returnSecureToken:!0}),L=yield xr._fromIdTokenResponse(y,"signIn",w);return yield y._updateCurrentUser(L.user),L})).apply(this,arguments)}class Mo{constructor(_,y){this.factorId=_,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(_,y){return"phoneInfo"in y?lc._fromServerResponse(_,y):Ae(_,"internal-error")}}class lc extends Mo{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,y){return new lc(y)}}function Oa(C,_,y){var w;ce((null===(w=y.url)||void 0===w?void 0:w.length)>0,C,"invalid-continue-uri"),ce(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=y.url,_.dynamicLinkDomain=y.dynamicLinkDomain,_.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(ce(y.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iOSBundleId=y.iOS.bundleId),y.android&&(ce(y.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=y.android.installApp,_.androidMinimumVersionCode=y.android.minimumVersion,_.androidPackageName=y.android.packageName)}function Dh(C,_,y){return sd.apply(this,arguments)}function sd(){return(sd=(0,s.Z)(function*(C,_,y){const w=(0,H.m9)(C),L={requestType:"PASSWORD_RESET",email:_};y&&Oa(w,L,y),yield kt(w,L)})).apply(this,arguments)}function Be(C,_,y){return hn.apply(this,arguments)}function hn(){return(hn=(0,s.Z)(function*(C,_,y){yield Do((0,H.m9)(C),{oobCode:_,newPassword:y})})).apply(this,arguments)}function od(C,_){return ad.apply(this,arguments)}function ad(){return(ad=(0,s.Z)(function*(C,_){yield Or((0,H.m9)(C),{oobCode:_})})).apply(this,arguments)}function xi(C,_){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,s.Z)(function*(C,_){const y=(0,H.m9)(C),w=yield Do(y,{oobCode:_}),L=w.requestType;switch(ce(L,y,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(w.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(w.mfaInfo,y,"internal-error");default:ce(w.email,y,"internal-error")}let j=null;return w.mfaInfo&&(j=Mo._fromServerResponse(pi(y),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:j},operation:L}})).apply(this,arguments)}function Pa(C,_){return $s.apply(this,arguments)}function $s(){return($s=(0,s.Z)(function*(C,_){const{data:y}=yield xi((0,H.m9)(C),_);return y.email})).apply(this,arguments)}function Fa(C,_,y){return gl.apply(this,arguments)}function gl(){return(gl=(0,s.Z)(function*(C,_,y){const w=pi(C),L=yield Zs(w,{returnSecureToken:!0,email:_,password:y}),j=yield xr._fromIdTokenResponse(w,"signIn",L);return yield w._updateCurrentUser(j.user),j})).apply(this,arguments)}function Gm(C,_,y){return ml((0,H.m9)(C),nd.credential(_,y))}function ip(C,_,y){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,s.Z)(function*(C,_,y){const w=(0,H.m9)(C),L={requestType:"EMAIL_SIGNIN",email:_};ce(y.handleCodeInApp,w,"argument-error"),y&&Oa(w,L,y),yield So(w,L)})).apply(this,arguments)}function ld(C,_){return"EMAIL_SIGNIN"===bh.parseLink(_)?.operation}function Fr(C,_,y){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,s.Z)(function*(C,_,y){const w=(0,H.m9)(C),L=nd.credentialWithLink(_,y||it());return ce(L._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),ml(w,L)})).apply(this,arguments)}function Ah(C,_){return Io.apply(this,arguments)}function Io(){return(Io=(0,s.Z)(function*(C,_){return _n(C,"POST","/v1/accounts:createAuthUri",yn(C,_))})).apply(this,arguments)}function ra(C,_){return pu.apply(this,arguments)}function pu(){return(pu=(0,s.Z)(function*(C,_){const w={identifier:_,continueUri:qe()?it():"http://localhost"},{signinMethods:L}=yield Ah((0,H.m9)(C),w);return L||[]})).apply(this,arguments)}function cd(C,_){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,s.Z)(function*(C,_){const y=(0,H.m9)(C),L={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&Oa(y.auth,L,_);const{email:j}=yield au(y.auth,L);j!==C.email&&(yield C.reload())})).apply(this,arguments)}function kh(C,_,y){return _l.apply(this,arguments)}function _l(){return(_l=(0,s.Z)(function*(C,_,y){const w=(0,H.m9)(C),j={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};y&&Oa(w.auth,j,y);const{email:he}=yield Xu(w.auth,j);he!==C.email&&(yield C.reload())})).apply(this,arguments)}function ud(C,_){return dd.apply(this,arguments)}function dd(){return(dd=(0,s.Z)(function*(C,_){return _n(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function mu(C,_){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,s.Z)(function*(C,{displayName:_,photoURL:y}){if(void 0===_&&void 0===y)return;const w=(0,H.m9)(C),j={idToken:yield w.getIdToken(),displayName:_,photoUrl:y,returnSecureToken:!0},he=yield jn(w,ud(w.auth,j));w.displayName=he.displayName||null,w.photoURL=he.photoUrl||null;const Ue=w.providerData.find(({providerId:xt})=>"password"===xt);Ue&&(Ue.displayName=w.displayName,Ue.photoURL=w.photoURL),yield w._updateTokensIfNecessary(he)})).apply(this,arguments)}function hd(C,_){return Ih((0,H.m9)(C),_,null)}function fd(C,_){return Ih((0,H.m9)(C),null,_)}function Ih(C,_,y){return vl.apply(this,arguments)}function vl(){return(vl=(0,s.Z)(function*(C,_,y){const{auth:w}=C,j={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(j.email=_),y&&(j.password=y);const he=yield jn(C,tr(w,j));yield C._updateTokensIfNecessary(he,!0)})).apply(this,arguments)}class sa{constructor(_,y,w={}){this.isNewUser=_,this.providerId=y,this.profile=w}}class gu extends sa{constructor(_,y,w,L){super(_,y,w),this.username=L}}class Sv extends sa{constructor(_,y){super(_,"facebook.com",y)}}class $m extends gu{constructor(_,y){super(_,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Vr extends sa{constructor(_,y){super(_,"google.com",y)}}class No extends gu{constructor(_,y,w){super(_,"twitter.com",y,w)}}function gi(C){const{user:_,_tokenResponse:y}=C;return _.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function pd(C){var _,y;if(!C)return null;const{providerId:w}=C,L=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},j=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!w&&C?.idToken){const he=null===(y=null===(_=dt(C.idToken))||void 0===_?void 0:_.firebase)||void 0===y?void 0:y.sign_in_provider;if(he)return new sa(j,"anonymous"!==he&&"custom"!==he?he:null)}if(!w)return null;switch(w){case"facebook.com":return new Sv(j,L);case"github.com":return new $m(j,L);case"google.com":return new Vr(j,L);case"twitter.com":return new No(j,L,C.screenName||null);case"custom":case"anonymous":return new sa(j,null);default:return new sa(j,w,L)}}(y)}class ws{constructor(_,y){this.type=_,this.credential=y}static _fromIdtoken(_){return new ws("enroll",_)}static _fromMfaPendingCredential(_){return new ws("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var y,w;if(_?.multiFactorSession){if(null!==(y=_.multiFactorSession)&&void 0!==y&&y.pendingCredential)return ws._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(w=_.multiFactorSession)&&void 0!==w&&w.idToken)return ws._fromIdtoken(_.multiFactorSession.idToken)}return null}}class uc{constructor(_,y,w){this.session=_,this.hints=y,this.signInResolver=w}static _fromError(_,y){const w=pi(_),L=y.customData._serverResponse,j=(L.mfaInfo||[]).map(Ue=>Mo._fromServerResponse(w,Ue));ce(L.mfaPendingCredential,w,"internal-error");const he=ws._fromMfaPendingCredential(L.mfaPendingCredential);return new uc(he,j,function(){var Ue=(0,s.Z)(function*(xt){const Bt=yield xt._process(w,he);delete L.mfaInfo,delete L.mfaPendingCredential;const Qt=Object.assign(Object.assign({},L),{idToken:Bt.idToken,refreshToken:Bt.refreshToken});switch(y.operationType){case"signIn":const Ei=yield xr._fromIdTokenResponse(w,y.operationType,Qt);return yield w._updateCurrentUser(Ei.user),Ei;case"reauthenticate":return ce(y.user,w,"internal-error"),xr._forOperation(y.user,y.operationType,Qt);default:Ae(w,"internal-error")}});return function(xt){return Ue.apply(this,arguments)}}())}resolveSignIn(_){var y=this;return(0,s.Z)(function*(){return y.signInResolver(_)})()}}function qm(C,_){var y;const w=(0,H.m9)(C),L=_;return ce(_.customData.operationType,w,"argument-error"),ce(null===(y=L.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,w,"argument-error"),uc._fromError(w,L)}function Ev(C,_){return _n(C,"POST","/v2/accounts/mfaEnrollment:start",yn(C,_))}class Oh{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(w=>Mo._fromServerResponse(_.auth,w)))})}static _fromUser(_){return new Oh(_)}getSession(){var _=this;return(0,s.Z)(function*(){return ws._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,y){var w=this;return(0,s.Z)(function*(){const L=_,j=yield w.getSession(),he=yield jn(w.user,L._process(w.user.auth,j,y));return yield w.user._updateTokensIfNecessary(he),w.user.reload()})()}unenroll(_){var y=this;return(0,s.Z)(function*(){const w="string"==typeof _?_:_.uid,L=yield y.user.getIdToken(),j=yield jn(y.user,function Di(C,_){return _n(C,"POST","/v2/accounts/mfaEnrollment:withdraw",yn(C,_))}(y.user.auth,{idToken:L,mfaEnrollmentId:w}));y.enrolledFactors=y.enrolledFactors.filter(({uid:he})=>he!==w),yield y.user._updateTokensIfNecessary(j);try{yield y.user.reload()}catch(he){if("auth/user-token-expired"!==he.code)throw he}})()}}const sp=new WeakMap;function md(C){const _=(0,H.m9)(C);return sp.has(_)||sp.set(_,Oh._fromUser(_)),sp.get(_)}const _u="__sak";class Rh{constructor(_,y){this.storageRetriever=_,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(_u,"1"),this.storage.removeItem(_u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,y){return this.storage.setItem(_,JSON.stringify(y)),Promise.resolve()}_get(_){const y=this.storage.getItem(_);return Promise.resolve(y?JSON.parse(y):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const ap=(()=>{class C extends Rh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,w)=>this.onStorageEvent(y,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wm(){const C=(0,H.z$)();return J(C)||nn(C)}()&&function Lr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Tn(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const w of Object.keys(this.listeners)){const L=this.storage.getItem(w),j=this.localCache[w];L!==j&&y(w,j,L)}}onStorageEvent(y,w=!1){if(!y.key)return void this.forAllChangedKeys((Ue,xt,Bt)=>{this.notifyListeners(Ue,Bt)});const L=y.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ue=this.storage.getItem(L);if(y.newValue!==Ue)null!==y.newValue?this.storage.setItem(L,y.newValue):this.storage.removeItem(L);else if(this.localCache[L]===y.newValue&&!w)return}const j=()=>{const Ue=this.storage.getItem(L);!w&&this.localCache[L]===Ue||this.notifyListeners(L,Ue)},he=this.storage.getItem(L);!function lt(){return(0,H.w1)()&&10===document.documentMode}()||he===y.newValue||y.newValue===y.oldValue?j():setTimeout(j,10)}notifyListeners(y,w){this.localCache[y]=w;const L=this.listeners[y];if(L)for(const j of Array.from(L))j(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,w,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:w,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(w)}_removeListener(y,w){this.listeners[y]&&(this.listeners[y].delete(w),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,w){var L=()=>super._set,j=this;return(0,s.Z)(function*(){yield L().call(j,y,w),j.localCache[y]=JSON.stringify(w)})()}_get(y){var w=()=>super._get,L=this;return(0,s.Z)(function*(){const j=yield w().call(L,y);return L.localCache[y]=JSON.stringify(j),j})()}_remove(y){var w=()=>super._remove,L=this;return(0,s.Z)(function*(){yield w().call(L,y),delete L.localCache[y]})()}}return C.type="LOCAL",C})(),pr=(()=>{class C extends Rh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,w){}_removeListener(y,w){}}return C.type="SESSION",C})();let lp=(()=>{class C{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const w=this.receivers.find(j=>j.isListeningto(y));if(w)return w;const L=new C(y);return this.receivers.push(L),L}isListeningto(y){return this.eventTarget===y}handleEvent(y){var w=this;return(0,s.Z)(function*(){const L=y,{eventId:j,eventType:he,data:Ue}=L.data,xt=w.handlersMap[he];if(!xt?.size)return;L.ports[0].postMessage({status:"ack",eventId:j,eventType:he});const Bt=Array.from(xt).map(function(){var Ei=(0,s.Z)(function*(Cc){return Cc(L.origin,Ue)});return function(Cc){return Ei.apply(this,arguments)}}()),Qt=yield function gd(C){return Promise.all(C.map(function(){var _=(0,s.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(w){return{fulfilled:!1,reason:w}}});return function(y){return _.apply(this,arguments)}}()))}(Bt);L.ports[0].postMessage({status:"done",eventId:j,eventType:he,response:Qt})})()}_subscribe(y,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(w)}_unsubscribe(y,w){this.handlersMap[y]&&w&&this.handlersMap[y].delete(w),(!w||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function qs(C="",_=10){let y="";for(let w=0;w<_;w++)y+=Math.floor(10*Math.random());return C+y}class Km{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,y,w=50){var L=this;return(0,s.Z)(function*(){const j=typeof MessageChannel<"u"?new MessageChannel:null;if(!j)throw new Error("connection_unavailable");let he,Ue;return new Promise((xt,Bt)=>{const Qt=qs("",20);j.port1.start();const Ei=setTimeout(()=>{Bt(new Error("unsupported_event"))},w);Ue={messageChannel:j,onMessage(Cc){const Tc=Cc;if(Tc.data.eventId===Qt)switch(Tc.data.status){case"ack":clearTimeout(Ei),he=setTimeout(()=>{Bt(new Error("timeout"))},3e3);break;case"done":clearTimeout(he),xt(Tc.data.response);break;default:clearTimeout(Ei),clearTimeout(he),Bt(new Error("invalid_response"))}}},L.handlers.add(Ue),j.port1.addEventListener("message",Ue.onMessage),L.target.postMessage({eventType:_,eventId:Qt,data:y},[j.port2])}).finally(()=>{Ue&&L.removeMessageHandler(Ue)})})()}}function li(){return window}function wr(){return typeof li().WorkerGlobalScope<"u"&&"function"==typeof li().importScripts}function ci(){return(ci=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Pi="firebaseLocalStorageDb",Ba="firebaseLocalStorage",cs="fbase_key";class Nt{constructor(_){this.request=_}toPromise(){return new Promise((_,y)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function bl(C,_){return C.transaction([Ba],_?"readwrite":"readonly").objectStore(Ba)}function vu(){const C=indexedDB.open(Pi,1);return new Promise((_,y)=>{C.addEventListener("error",()=>{y(C.error)}),C.addEventListener("upgradeneeded",()=>{const w=C.result;try{w.createObjectStore(Ba,{keyPath:cs})}catch(L){y(L)}}),C.addEventListener("success",(0,s.Z)(function*(){const w=C.result;w.objectStoreNames.contains(Ba)?_(w):(w.close(),yield function dc(){const C=indexedDB.deleteDatabase(Pi);return new Nt(C).toPromise()}(),_(yield vu()))}))})}function Ws(C,_,y){return yu.apply(this,arguments)}function yu(){return(yu=(0,s.Z)(function*(C,_,y){const w=bl(C,!0).put({[cs]:_,value:y});return new Nt(w).toPromise()})).apply(this,arguments)}function ui(){return(ui=(0,s.Z)(function*(C,_){const y=bl(C,!1).get(_),w=yield new Nt(y).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function _d(C,_){const y=bl(C,!0).delete(_);return new Nt(y).toPromise()}const Lo=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,s.Z)(function*(){return y.db||(y.db=yield vu()),y.db})()}_withRetries(y){var w=this;return(0,s.Z)(function*(){let L=0;for(;;)try{const j=yield w._openDb();return yield y(j)}catch(j){if(L++>3)throw j;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,s.Z)(function*(){return wr()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,s.Z)(function*(){y.receiver=lp._getInstance(function sn(){return wr()?self:null}()),y.receiver._subscribe("keyChanged",function(){var w=(0,s.Z)(function*(L,j){return{keyProcessed:(yield y._poll()).includes(j.key)}});return function(L,j){return w.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var w=(0,s.Z)(function*(L,j){return["keyChanged"]});return function(L,j){return w.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,s.Z)(function*(){var w,L;if(y.activeServiceWorker=yield function yl(){return ci.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Km(y.activeServiceWorker);const j=yield y.sender._send("ping",{},800);!j||(null===(w=j[0])||void 0===w?void 0:w.fulfilled)&&(null===(L=j[0])||void 0===L?void 0:L.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var w=this;return(0,s.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function At(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:y},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const y=yield vu();return yield Ws(y,_u,"1"),yield _d(y,_u),!0}catch{}return!1})()}_withPendingWrite(y){var w=this;return(0,s.Z)(function*(){w.pendingWrites++;try{yield y()}finally{w.pendingWrites--}})()}_set(y,w){var L=this;return(0,s.Z)(function*(){return L._withPendingWrite((0,s.Z)(function*(){return yield L._withRetries(j=>Ws(j,y,w)),L.localCache[y]=w,L.notifyServiceWorker(y)}))})()}_get(y){var w=this;return(0,s.Z)(function*(){const L=yield w._withRetries(j=>function Ph(C,_){return ui.apply(this,arguments)}(j,y));return w.localCache[y]=L,L})()}_remove(y){var w=this;return(0,s.Z)(function*(){return w._withPendingWrite((0,s.Z)(function*(){return yield w._withRetries(L=>_d(L,y)),delete w.localCache[y],w.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,s.Z)(function*(){const w=yield y._withRetries(he=>{const Ue=bl(he,!1).getAll();return new Nt(Ue).toPromise()});if(!w)return[];if(0!==y.pendingWrites)return[];const L=[],j=new Set;for(const{fbase_key:he,value:Ue}of w)j.add(he),JSON.stringify(y.localCache[he])!==JSON.stringify(Ue)&&(y.notifyListeners(he,Ue),L.push(he));for(const he of Object.keys(y.localCache))y.localCache[he]&&!j.has(he)&&(y.notifyListeners(he,null),L.push(he));return L})()}notifyListeners(y,w){this.localCache[y]=w;const L=this.listeners[y];if(L)for(const j of Array.from(L))j(w)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(w)}_removeListener(y,w){this.listeners[y]&&(this.listeners[y].delete(w),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function up(C,_){return _n(C,"POST","/v2/accounts/mfaSignIn:start",yn(C,_))}function Ua(){return(Ua=(0,s.Z)(function*(C){return(yield _n(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ha(C){return new Promise((_,y)=>{const w=document.createElement("script");w.setAttribute("src",C),w.onload=_,w.onerror=L=>{const j=X("internal-error");j.customData=L,y(j)},w.type="text/javascript",w.charset="UTF-8",function vd(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(w)})}function xu(C){return`__${C}${Math.floor(1e6*Math.random())}`}const zs=1e12;class fc{constructor(_){this.auth=_,this.counter=zs,this._widgets=new Map}render(_,y){const w=this.counter;return this._widgets.set(w,new Cl(_,this.auth.name,y||{})),this.counter++,w}reset(_){var y;const w=_||zs;null===(y=this._widgets.get(w))||void 0===y||y.delete(),this._widgets.delete(w)}getResponse(_){var y;return(null===(y=this._widgets.get(_||zs))||void 0===y?void 0:y.getResponse())||""}execute(_){var y=this;return(0,s.Z)(function*(){var w;return null===(w=y._widgets.get(_||zs))||void 0===w||w.execute(),""})()}}class Cl{constructor(_,y,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof _?document.getElementById(_):_;ce(L,"argument-error",{appName:y}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function dp(C){const _=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<C;w++)_.push(y.charAt(Math.floor(Math.random()*y.length)));return _.join("")}(50);const{callback:_,"expired-callback":y}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ca=xu("rcb"),Ci=new Dt(3e4,6e4);class ti{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!li().grecaptcha}load(_,y=""){return ce(function _i(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(y),_,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(li().grecaptcha):new Promise((w,L)=>{const j=li().setTimeout(()=>{L(X(_,"network-request-failed"))},Ci.get());li()[ca]=()=>{li().clearTimeout(j),delete li()[ca];const Ue=li().grecaptcha;if(!Ue)return void L(X(_,"internal-error"));const xt=Ue.render;Ue.render=(Bt,Qt)=>{const Ei=xt(Bt,Qt);return this.counter++,Ei},this.hostLanguage=y,w(Ue)},Ha(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:ca,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(j),L(X(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){return!!li().grecaptcha&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zb{load(_){return(0,s.Z)(function*(){return new fc(_)})()}clearedOneInstance(){}}const Mv="recaptcha",Iv={theme:"light",type:"image"};class Qm{constructor(_,y=Object.assign({},Iv),w){this.parameters=y,this.type=Mv,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pi(w),this.isInvisible="invisible"===this.parameters.size,ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof _?document.getElementById(_):_;ce(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zb:new ti,this.validateStartingState()}verify(){var _=this;return(0,s.Z)(function*(){_.assertNotDestroyed();const y=yield _.render(),w=_.getAssertedRecaptcha();return w.getResponse(y)||new Promise(j=>{const he=Ue=>{!Ue||(_.tokenChangeListeners.delete(he),j(Ue))};_.tokenChangeListeners.add(he),_.isInvisible&&w.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return y=>{if(this.tokenChangeListeners.forEach(w=>w(y)),"function"==typeof _)_(y);else if("string"==typeof _){const w=li()[_];"function"==typeof w&&w(y)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,s.Z)(function*(){if(yield _.init(),!_.widgetId){let y=_.container;if(!_.isInvisible){const w=document.createElement("div");y.appendChild(w),y=w}_.widgetId=_.getAssertedRecaptcha().render(y,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,s.Z)(function*(){ce(qe()&&!wr(),_.auth,"internal-error"),yield function hp(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const y=yield function Jm(C){return Ua.apply(this,arguments)}(_.auth);ce(y,_.auth,"internal-error"),_.parameters.sitekey=y})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fp{constructor(_,y){this.verificationId=_,this.onConfirmation=y}confirm(_){const y=Cs._fromVerification(this.verificationId,_);return this.onConfirmation(y)}}function Ks(C,_,y){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,s.Z)(function*(C,_,y){const w=pi(C),L=yield pc(w,_,(0,H.m9)(y));return new fp(L,j=>ml(w,j))})).apply(this,arguments)}function Nv(C,_,y){return kn.apply(this,arguments)}function kn(){return(kn=(0,s.Z)(function*(C,_,y){const w=(0,H.m9)(C);yield Na(!1,w,"phone");const L=yield pc(w.auth,_,(0,H.m9)(y));return new fp(L,j=>nr(w,j))})).apply(this,arguments)}function Vh(C,_,y){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,s.Z)(function*(C,_,y){const w=(0,H.m9)(C),L=yield pc(w.auth,_,(0,H.m9)(y));return new fp(L,j=>hu(w,j))})).apply(this,arguments)}function pc(C,_,y){return bd.apply(this,arguments)}function bd(){return(bd=(0,s.Z)(function*(C,_,y){var w;const L=yield y.verify();try{let j;if(ce("string"==typeof L,C,"argument-error"),ce(y.type===Mv,C,"argument-error"),j="string"==typeof _?{phoneNumber:_}:_,"session"in j){const he=j.session;if("phoneNumber"in j)return ce("enroll"===he.type,C,"internal-error"),(yield Ev(C,{idToken:he.credential,phoneEnrollmentInfo:{phoneNumber:j.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{ce("signin"===he.type,C,"internal-error");const Ue=(null===(w=j.multiFactorHint)||void 0===w?void 0:w.uid)||j.multiFactorUid;return ce(Ue,C,"missing-multi-factor-info"),(yield up(C,{mfaPendingCredential:he.credential,mfaEnrollmentId:Ue,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:he}=yield vv(C,{phoneNumber:j.phoneNumber,recaptchaToken:L});return he}}finally{y._reset()}})).apply(this,arguments)}function us(C,_){return qr.apply(this,arguments)}function qr(){return(qr=(0,s.Z)(function*(C,_){yield du((0,H.m9)(C),_)})).apply(this,arguments)}let mc=(()=>{class C{constructor(y){this.providerId=C.PROVIDER_ID,this.auth=pi(y)}verifyPhoneNumber(y,w){return pc(this.auth,y,(0,H.m9)(w))}static credential(y,w){return Cs._fromVerification(y,w)}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:w,temporaryProof:L}=y;return w&&L?Cs._fromTokenResponse(w,L):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Js(C,_){return _?ue(_):(ce(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class ds extends wo{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Pr(_,this._buildIdpRequest())}_linkToIdToken(_,y){return Pr(_,this._buildIdpRequest(y))}_getReauthenticationResolver(_){return Pr(_,this._buildIdpRequest())}_buildIdpRequest(_){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(y.idToken=_),y}}function Bh(C){return pl(C.auth,new ds(C),C.bypassAuthState)}function Si(C){const{auth:_,user:y}=C;return ce(y,_,"internal-error"),sc(y,new ds(C),C.bypassAuthState)}function ni(C){return bn.apply(this,arguments)}function bn(){return(bn=(0,s.Z)(function*(C){const{auth:_,user:y}=C;return ce(y,_,"internal-error"),du(y,new ds(C),C.bypassAuthState)})).apply(this,arguments)}class Ai{constructor(_,y,w,L,j=!1){this.auth=_,this.resolver=w,this.user=L,this.bypassAuthState=j,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var _=this;return new Promise(function(){var y=(0,s.Z)(function*(w,L){_.pendingPromise={resolve:w,reject:L};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(j){_.reject(j)}});return function(w,L){return y.apply(this,arguments)}}())}onAuthEvent(_){var y=this;return(0,s.Z)(function*(){const{urlResponse:w,sessionId:L,postBody:j,tenantId:he,error:Ue,type:xt}=_;if(Ue)return void y.reject(Ue);const Bt={auth:y.auth,requestUri:w,sessionId:L,tenantId:he||void 0,postBody:j||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(xt)(Bt))}catch(Qt){y.reject(Qt)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Bh;case"linkViaPopup":case"linkViaRedirect":return ni;case"reauthViaPopup":case"reauthViaRedirect":return Si;default:Ae(this.auth,"internal-error")}}resolve(_){$e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){$e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Tl=new Dt(2e3,1e4);function gr(C,_,y){return xd.apply(this,arguments)}function xd(){return(xd=(0,s.Z)(function*(C,_,y){const w=pi(C);Qe(C,_,ls);const L=Js(w,y);return new Td(w,"signInViaPopup",_,L).executeNotNull()})).apply(this,arguments)}function _r(C,_,y){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,s.Z)(function*(C,_,y){const w=(0,H.m9)(C);Qe(w.auth,_,ls);const L=Js(w.auth,y);return new Td(w.auth,"reauthViaPopup",_,L,w).executeNotNull()})).apply(this,arguments)}function ua(C,_,y){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,s.Z)(function*(C,_,y){const w=(0,H.m9)(C);Qe(w.auth,_,ls);const L=Js(w.auth,y);return new Td(w.auth,"linkViaPopup",_,L,w).executeNotNull()})).apply(this,arguments)}let Td=(()=>{class C extends Ai{constructor(y,w,L,j,he){super(y,w,j,he),this.provider=L,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var y=this;return(0,s.Z)(function*(){const w=yield y.execute();return ce(w,y.auth,"internal-error"),w})()}onExecution(){var y=this;return(0,s.Z)(function*(){$e(1===y.filter.length,"Popup operations only handle one event");const w=qs();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],w),y.authWindow.associatedEvent=w,y.resolver._originValidation(y.auth).catch(L=>{y.reject(L)}),y.resolver._isIframeWebStorageSupported(y.auth,L=>{L||y.reject(X(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(X(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const y=()=>{var w,L;this.pollId=null!==(L=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==L&&L.closed?window.setTimeout(()=>{this.pollId=null,this.reject(X(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Tl.get())};y()}}return C.currentPopupAction=null,C})();const Oo=new Map;class Xm extends Ai{constructor(_,y,w=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,w),this.eventId=null}execute(){var _=()=>super.execute,y=this;return(0,s.Z)(function*(){let w=Oo.get(y.auth._key());if(!w){try{const j=(yield function wl(C,_){return gc.apply(this,arguments)}(y.resolver,y.auth))?yield _().call(y):null;w=()=>Promise.resolve(j)}catch(L){w=()=>Promise.reject(L)}Oo.set(y.auth._key(),w)}return y.bypassAuthState||Oo.set(y.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(_){var y=()=>super.onAuthEvent,w=this;return(0,s.Z)(function*(){if("signInViaRedirect"===_.type)return y().call(w,_);if("unknown"!==_.type){if(_.eventId){const L=yield w.auth._redirectUserForId(_.eventId);if(L)return w.user=L,y().call(w,_);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function gc(){return(gc=(0,s.Z)(function*(C,_){const y=wd(_),w=Tu(C);if(!(yield w._isAvailable()))return!1;const L="true"===(yield w._get(y));return yield w._remove(y),L})).apply(this,arguments)}function Qs(C,_){return Br.apply(this,arguments)}function Br(){return(Br=(0,s.Z)(function*(C,_){return Tu(C)._set(wd(_),"true")})).apply(this,arguments)}function Cu(){Oo.clear()}function Tu(C){return ue(C._redirectPersistence)}function wd(C){return dn("pendingRedirect",C.config.apiKey,C.name)}function A(C,_,y){return function E(C,_,y){return N.apply(this,arguments)}(C,_,y)}function N(){return(N=(0,s.Z)(function*(C,_,y){const w=pi(C);Qe(C,_,ls);const L=Js(w,y);return yield Qs(L,w),L._openRedirect(w,_,"signInViaRedirect")})).apply(this,arguments)}function G(C,_,y){return function ne(C,_,y){return De.apply(this,arguments)}(C,_,y)}function De(){return(De=(0,s.Z)(function*(C,_,y){const w=(0,H.m9)(C);Qe(w.auth,_,ls);const L=Js(w.auth,y);yield Qs(L,w.auth);const j=yield Zi(w);return L._openRedirect(w.auth,_,"reauthViaRedirect",j)})).apply(this,arguments)}function Re(C,_,y){return function We(C,_,y){return pt.apply(this,arguments)}(C,_,y)}function pt(){return(pt=(0,s.Z)(function*(C,_,y){const w=(0,H.m9)(C);Qe(w.auth,_,ls);const L=Js(w.auth,y);yield Na(!1,w,_.providerId),yield Qs(L,w.auth);const j=yield Zi(w);return L._openRedirect(w.auth,_,"linkViaRedirect",j)})).apply(this,arguments)}function bt(C,_){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,s.Z)(function*(C,_){return yield pi(C)._initializationPromise,Vi(C,_,!1)})).apply(this,arguments)}function Vi(C,_){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,s.Z)(function*(C,_,y=!1){const w=pi(C),L=Js(w,_),he=yield new Xm(w,L,y).execute();return he&&!y&&(delete he.user._redirectEventId,yield w._persistUserIfCurrent(he.user),yield w._setRedirectUser(null,_)),he})).apply(this,arguments)}function Zi(C){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,s.Z)(function*(C){const _=qs(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class Xs{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let y=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(_,w)&&(y=!0,this.sendToConsumer(_,w),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Uh(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wr(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=_,y=!0)),y}sendToConsumer(_,y){var w;if(_.error&&!Wr(_)){const L=(null===(w=_.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";y.onError(X(this.auth,L))}else y.onAuthEvent(_)}isEventForConsumer(_,y){const w=null===y.eventId||!!_.eventId&&_.eventId===y.eventId;return y.filter.includes(_.type)&&w}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ro(_))}saveEventToCache(_){this.cachedEventUids.add(Ro(_)),this.lastProcessedEventTime=Date.now()}}function Ro(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function Wr({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===_?.code}function mp(C){return vc.apply(this,arguments)}function vc(){return(vc=(0,s.Z)(function*(C,_={}){return _n(C,"GET","/v1/projects",_)})).apply(this,arguments)}const Hh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lv=/^https?/;function gp(){return(gp=(0,s.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield mp(C);for(const y of _)try{if(yc(y))return}catch{}Ae(C,"unauthorized-domain")})).apply(this,arguments)}function yc(C){const _=it(),{protocol:y,hostname:w}=new URL(_);if(C.startsWith("chrome-extension://")){const he=new URL(C);return""===he.hostname&&""===w?"chrome-extension:"===y&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===y&&he.hostname===w}if(!Lv.test(y))return!1;if(Hh.test(C))return w===C;const L=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(w)}const Dd=new Dt(3e4,6e4);function _p(){const C=li().___jsl;if(C?.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let y=0;y<C.CP.length;y++)C.CP[y]=null}let Sd=null;function Rv(C){return Sd=Sd||function Gb(C){return new Promise((_,y)=>{var w,L,j;function he(){_p(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{_p(),y(X(C,"network-request-failed"))},timeout:Dd.get()})}if(null!==(L=null===(w=li().gapi)||void 0===w?void 0:w.iframes)&&void 0!==L&&L.Iframe)_(gapi.iframes.getContext());else{if(null===(j=li().gapi)||void 0===j||!j.load){const Ue=xu("iframefcb");return li()[Ue]=()=>{gapi.load?he():y(X(C,"network-request-failed"))},Ha(`https://apis.google.com/js/api.js?onload=${Ue}`).catch(xt=>y(xt))}he()}}).catch(_=>{throw Sd=null,_})}(C),Sd}const Pv=new Dt(5e3,15e3),Vv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zr(C){const _=C.config;ce(_.authDomain,C,"auth-domain-config-required");const y=_.emulator?ri(_,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,w={apiKey:_.apiKey,appName:C.name,v:P.SDK_VERSION},L=Yh.get(C.config.apiHost);L&&(w.eid=L);const j=C._getFrameworks();return j.length&&(w.fw=j.join(",")),`${y}?${(0,H.xO)(w).slice(1)}`}function jh(){return jh=(0,s.Z)(function*(C){const _=yield Rv(C),y=li().gapi;return ce(y,C,"internal-error"),_.open({where:document.body,url:zr(C),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vv,dontclear:!0},w=>new Promise(function(){var L=(0,s.Z)(function*(j,he){yield w.restyle({setHideOnLeave:!1});const Ue=X(C,"network-request-failed"),xt=li().setTimeout(()=>{he(Ue)},Pv.get());function Bt(){li().clearTimeout(xt),j(w)}w.ping(Bt).then(Bt,()=>{he(Ue)})});return function(j,he){return L.apply(this,arguments)}}()))}),jh.apply(this,arguments)}const rN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ad{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bv(C,_,y,w,L,j){ce(C.config.authDomain,C,"auth-domain-config-required"),ce(C.config.apiKey,C,"invalid-api-key");const he={apiKey:C.config.apiKey,appName:C.name,authType:y,redirectUrl:w,v:P.SDK_VERSION,eventId:L};if(_ instanceof ls){_.setDefaultLanguage(C.languageCode),he.providerId=_.providerId||"",(0,H.xb)(_.getCustomParameters())||(he.customParameters=JSON.stringify(_.getCustomParameters()));for(const[xt,Bt]of Object.entries(j||{}))he[xt]=Bt}if(_ instanceof rc){const xt=_.getScopes().filter(Bt=>""!==Bt);xt.length>0&&(he.scopes=xt.join(","))}C.tenantId&&(he.tid=C.tenantId);const Ue=he;for(const xt of Object.keys(Ue))void 0===Ue[xt]&&delete Ue[xt];return`${function sN({config:C}){return C.emulator?ri(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,H.xO)(Ue).slice(1)}`}const Gh="webStorageSupport",Hv=class Uv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pr,this._completeRedirectFn=Vi}_openPopup(_,y,w,L){var j=this;return(0,s.Z)(function*(){var he;$e(null===(he=j.eventManagers[_._key()])||void 0===he?void 0:he.manager,"_initialize() not called before _openPopup()");const Ue=Bv(_,y,w,it(),L);return function yp(C,_,y,w=500,L=600){const j=Math.max((window.screen.availHeight-L)/2,0).toString(),he=Math.max((window.screen.availWidth-w)/2,0).toString();let Ue="";const xt=Object.assign(Object.assign({},rN),{width:w.toString(),height:L.toString(),top:j,left:he}),Bt=(0,H.z$)().toLowerCase();y&&(Ue=Fe(Bt)?"_blank":y),ee(Bt)&&(_=_||"http://localhost",xt.scrollbars="yes");const Qt=Object.entries(xt).reduce((Cc,[Tc,wu])=>`${Cc}${Tc}=${wu},`,"");if(function tt(C=(0,H.z$)()){var _;return nn(C)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Bt)&&"_self"!==Ue)return function Zh(C,_){const y=document.createElement("a");y.href=C,y.target=_;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(w)}(_||"",Ue),new Ad(null);const Ei=window.open(_||"",Ue,Qt);ce(Ei,C,"popup-blocked");try{Ei.focus()}catch{}return new Ad(Ei)}(_,Ue,qs())})()}_openRedirect(_,y,w,L){var j=this;return(0,s.Z)(function*(){return yield j._originValidation(_),function Tr(C){li().location.href=C}(Bv(_,y,w,it(),L)),new Promise(()=>{})})()}_initialize(_){const y=_._key();if(this.eventManagers[y]){const{manager:L,promise:j}=this.eventManagers[y];return L?Promise.resolve(L):($e(j,"If manager is not set, promise should be"),j)}const w=this.initAndGetManager(_);return this.eventManagers[y]={promise:w},w.catch(()=>{delete this.eventManagers[y]}),w}initAndGetManager(_){var y=this;return(0,s.Z)(function*(){const w=yield function bc(C){return jh.apply(this,arguments)}(_),L=new Xs(_);return w.register("authEvent",j=>(ce(j?.authEvent,_,"invalid-auth-event"),{status:L.onEvent(j.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[_._key()]={manager:L},y.iframes[_._key()]=w,L})()}_isIframeWebStorageSupported(_,y){this.iframes[_._key()].send(Gh,{type:Gh},L=>{var j;const he=null===(j=L?.[0])||void 0===j?void 0:j[Gh];void 0!==he&&y(!!he),Ae(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const y=_._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Ov(C){return gp.apply(this,arguments)}(_)),this.originValidationPromises[y]}get _shouldInitProactively(){return Tn()||J()||nn()}};class bp extends class qb{constructor(_){this.factorId=_}_process(_,y,w){switch(y.type){case"enroll":return this._finalizeEnroll(_,y.credential,w);case"signin":return this._finalizeSignIn(_,y.credential);default:return Je("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new bp(_)}_finalizeEnroll(_,y,w){return function Va(C,_){return _n(C,"POST","/v2/accounts/mfaEnrollment:finalize",yn(C,_))}(_,{idToken:y,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,y){return function la(C,_){return _n(C,"POST","/v2/accounts/mfaSignIn:finalize",yn(C,_))}(_,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let xc=(()=>{class C{constructor(){}static assertion(y){return bp._fromCredential(y)}}return C.FACTOR_ID="phone",C})();var Yv="@firebase/auth";class Wb{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var y=this;return(0,s.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const y=this.auth.onIdTokenChanged(w=>{var L;_((null===(L=w)||void 0===L?void 0:L.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,y),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const y=this.internalListeners.get(_);!y||(this.internalListeners.delete(_),y(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Po(C=(0,P.getApp)()){const _=(0,P._getProvider)(C,"auth");return _.isInitialized()?_.getImmediate():function Ne(C,_){const y=(0,P._getProvider)(C,"auth");if(y.isInitialized()){const L=y.getImmediate(),j=y.getOptions();if((0,H.vZ)(j,_??{}))return L;Ae(L,"already-initialized")}return y.initialize({options:_})}(C,{popupRedirectResolver:Hv,persistence:[Lo,ap,pr]})}!function $h(C){(0,P._registerComponent)(new fe.wA("auth",(_,{options:y})=>{const w=_.getProvider("app").getImmediate(),{apiKey:L,authDomain:j}=w.options;return(he=>{ce(L&&!L.includes(":"),"invalid-api-key",{appName:he.name}),ce(!j?.includes(":"),"argument-error",{appName:he.name});const Ue={apiKey:L,authDomain:j,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:To(C)},xt=new Oi(he,Ue);return function ge(C,_){const y=_?.persistence||[],w=(Array.isArray(y)?y:[y]).map(ue);_?.errorMap&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(w,_?.popupRedirectResolver)}(xt,y),xt})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,y,w)=>{_.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new fe.wA("auth-internal",_=>{const y=pi(_.getProvider("auth").getImmediate());return new Wb(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Yv,"0.19.8",function tg(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,P.registerVersion)(Yv,"0.19.8","esm2017")}("Browser")},2090:(Ke,ve,I)=>{"use strict";I.d(ve,{$s:()=>Vn,BH:()=>Se,DV:()=>_n,Dv:()=>Ct,G6:()=>ce,GJ:()=>Ut,LL:()=>it,Mn:()=>Qe,Pz:()=>Ui,Sg:()=>pe,UG:()=>Ce,UI:()=>bi,US:()=>fe,Wj:()=>Ht,Yr:()=>Xe,ZB:()=>Z,ZR:()=>ge,b$:()=>Ae,cI:()=>Cn,d:()=>X,dS:()=>vn,eu:()=>$e,g5:()=>P,gK:()=>St,gQ:()=>Xi,h$:()=>se,hl:()=>Je,hu:()=>H,jU:()=>Ee,lb:()=>Yn,m9:()=>zt,ne:()=>Ys,p$:()=>F,pd:()=>xo,r3:()=>yn,ru:()=>oe,tV:()=>q,uI:()=>ye,ug:()=>dt,vZ:()=>Qi,w1:()=>de,w9:()=>Wt,xO:()=>xs,xb:()=>bs,z$:()=>Ie,zI:()=>me,zd:()=>bo});const H=function(W,$){if(!W)throw P($)},P=function(W){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+W)},Q=function(W){const $=[];let ae=0;for(let Le=0;Le<W.length;Le++){let _e=W.charCodeAt(Le);_e<128?$[ae++]=_e:_e<2048?($[ae++]=_e>>6|192,$[ae++]=63&_e|128):55296==(64512&_e)&&Le+1<W.length&&56320==(64512&W.charCodeAt(Le+1))?(_e=65536+((1023&_e)<<10)+(1023&W.charCodeAt(++Le)),$[ae++]=_e>>18|240,$[ae++]=_e>>12&63|128,$[ae++]=_e>>6&63|128,$[ae++]=63&_e|128):($[ae++]=_e>>12|224,$[ae++]=_e>>6&63|128,$[ae++]=63&_e|128)}return $},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,$){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ae=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,Le=[];for(let _e=0;_e<W.length;_e+=3){const st=W[_e],It=_e+1<W.length,Sn=It?W[_e+1]:0,Zn=_e+2<W.length,Li=Zn?W[_e+2]:0;let Yi=(15&Sn)<<2|Li>>6,be=63&Li;Zn||(be=64,It||(Yi=64)),Le.push(ae[st>>2],ae[(3&st)<<4|Sn>>4],ae[Yi],ae[be])}return Le.join("")},encodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(W):this.encodeByteArray(Q(W),$)},decodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(W):function(W){const $=[];let ae=0,Le=0;for(;ae<W.length;){const _e=W[ae++];if(_e<128)$[Le++]=String.fromCharCode(_e);else if(_e>191&&_e<224){const st=W[ae++];$[Le++]=String.fromCharCode((31&_e)<<6|63&st)}else if(_e>239&&_e<365){const Zn=((7&_e)<<18|(63&W[ae++])<<12|(63&W[ae++])<<6|63&W[ae++])-65536;$[Le++]=String.fromCharCode(55296+(Zn>>10)),$[Le++]=String.fromCharCode(56320+(1023&Zn))}else{const st=W[ae++],It=W[ae++];$[Le++]=String.fromCharCode((15&_e)<<12|(63&st)<<6|63&It)}}return $.join("")}(this.decodeStringToByteArray(W,$))},decodeStringToByteArray(W,$){this.init_();const ae=$?this.charToByteMapWebSafe_:this.charToByteMap_,Le=[];for(let _e=0;_e<W.length;){const st=ae[W.charAt(_e++)],Sn=_e<W.length?ae[W.charAt(_e)]:0;++_e;const Li=_e<W.length?ae[W.charAt(_e)]:64;++_e;const dn=_e<W.length?ae[W.charAt(_e)]:64;if(++_e,null==st||null==Sn||null==Li||null==dn)throw Error();Le.push(st<<2|Sn>>4),64!==Li&&(Le.push(Sn<<4&240|Li>>2),64!==dn&&Le.push(Li<<6&192|dn))}return Le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},se=function(W){const $=Q(W);return fe.encodeByteArray($,!0)},xe=function(W){return se(W).replace(/\./g,"")},q=function(W){try{return fe.decodeString(W,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function F(W){return Z(void 0,W)}function Z(W,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return $}for(const ae in $)!$.hasOwnProperty(ae)||!ie(ae)||(W[ae]=Z(W[ae],$[ae]));return W}function ie(W){return"__proto__"!==W}class Se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,ae)=>{this.resolve=$,this.reject=ae})}wrapCallback($){return(ae,Le)=>{ae?this.reject(ae):this.resolve(Le),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(ae):$(ae,Le))}}}function pe(W,$){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Le=$||"demo-project",_e=W.iat||0,st=W.sub||W.user_id;if(!st)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const It=Object.assign({iss:`https://securetoken.google.com/${Le}`,aud:Le,iat:_e,exp:_e+3600,auth_time:_e,sub:st,user_id:st,firebase:{sign_in_provider:"custom",identities:{}}},W);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(It)),""].join(".")}function Ie(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ie())}function Ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ee(){return"object"==typeof self&&self.self===self}function oe(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function X(){return Ie().indexOf("Electron/")>=0}function de(){const W=Ie();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Qe(){return Ie().indexOf("MSAppHost/")>=0}function Xe(){return!1}function ce(){return!Ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Je(){return"object"==typeof indexedDB}function $e(){return new Promise((W,$)=>{try{let ae=!0;const Le="validate-browser-context-for-indexeddb-analytics-module",_e=self.indexedDB.open(Le);_e.onsuccess=()=>{_e.result.close(),ae||self.indexedDB.deleteDatabase(Le),W(!0)},_e.onupgradeneeded=()=>{ae=!1},_e.onerror=()=>{var st;$((null===(st=_e.error)||void 0===st?void 0:st.message)||"")}}catch(ae){$(ae)}})}function me(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ge extends Error{constructor($,ae,Le){super(ae),this.code=$,this.customData=Le,this.name="FirebaseError",Object.setPrototypeOf(this,ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,it.prototype.create)}}class it{constructor($,ae,Le){this.service=$,this.serviceName=ae,this.errors=Le}create($,...ae){const Le=ae[0]||{},_e=`${this.service}/${$}`,st=this.errors[$],It=st?function qe(W,$){return W.replace(qt,(ae,Le)=>{const _e=$[Le];return null!=_e?String(_e):`<${Le}?>`})}(st,Le):"Error";return new ge(_e,`${this.serviceName}: ${It} (${_e}).`,Le)}}const qt=/\{\$([^}]+)}/g;function Cn(W){return JSON.parse(W)}function Ui(W){return JSON.stringify(W)}const Dt=function(W){let $={},ae={},Le={},_e="";try{const st=W.split(".");$=Cn(q(st[0])||""),ae=Cn(q(st[1])||""),_e=st[2],Le=ae.d||{},delete ae.d}catch{}return{header:$,claims:ae,data:Le,signature:_e}},Wt=function(W){const ae=Dt(W).claims;return!!ae&&"object"==typeof ae&&ae.hasOwnProperty("iat")},Ut=function(W){const $=Dt(W).claims;return"object"==typeof $&&!0===$.admin};function yn(W,$){return Object.prototype.hasOwnProperty.call(W,$)}function _n(W,$){if(Object.prototype.hasOwnProperty.call(W,$))return W[$]}function bs(W){for(const $ in W)if(Object.prototype.hasOwnProperty.call(W,$))return!1;return!0}function bi(W,$,ae){const Le={};for(const _e in W)Object.prototype.hasOwnProperty.call(W,_e)&&(Le[_e]=$.call(ae,W[_e],_e,W));return Le}function Qi(W,$){if(W===$)return!0;const ae=Object.keys(W),Le=Object.keys($);for(const _e of ae){if(!Le.includes(_e))return!1;const st=W[_e],It=$[_e];if(Hi(st)&&Hi(It)){if(!Qi(st,It))return!1}else if(st!==It)return!1}for(const _e of Le)if(!ae.includes(_e))return!1;return!0}function Hi(W){return null!==W&&"object"==typeof W}function xs(W){const $=[];for(const[ae,Le]of Object.entries(W))Array.isArray(Le)?Le.forEach(_e=>{$.push(encodeURIComponent(ae)+"="+encodeURIComponent(_e))}):$.push(encodeURIComponent(ae)+"="+encodeURIComponent(Le));return $.length?"&"+$.join("&"):""}function bo(W){const $={};return W.replace(/^\?/,"").split("&").forEach(Le=>{if(Le){const[_e,st]=Le.split("=");$[decodeURIComponent(_e)]=decodeURIComponent(st)}}),$}function xo(W){const $=W.indexOf("?");if(!$)return"";const ae=W.indexOf("#",$);return W.substring($,ae>0?ae:void 0)}class Xi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let $=1;$<this.blockSize;++$)this.pad_[$]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_($,ae){ae||(ae=0);const Le=this.W_;if("string"==typeof $)for(let dn=0;dn<16;dn++)Le[dn]=$.charCodeAt(ae)<<24|$.charCodeAt(ae+1)<<16|$.charCodeAt(ae+2)<<8|$.charCodeAt(ae+3),ae+=4;else for(let dn=0;dn<16;dn++)Le[dn]=$[ae]<<24|$[ae+1]<<16|$[ae+2]<<8|$[ae+3],ae+=4;for(let dn=16;dn<80;dn++){const Yi=Le[dn-3]^Le[dn-8]^Le[dn-14]^Le[dn-16];Le[dn]=4294967295&(Yi<<1|Yi>>>31)}let Li,dr,_e=this.chain_[0],st=this.chain_[1],It=this.chain_[2],Sn=this.chain_[3],Zn=this.chain_[4];for(let dn=0;dn<80;dn++){dn<40?dn<20?(Li=Sn^st&(It^Sn),dr=1518500249):(Li=st^It^Sn,dr=1859775393):dn<60?(Li=st&It|Sn&(st|It),dr=2400959708):(Li=st^It^Sn,dr=3395469782);const Yi=(_e<<5|_e>>>27)+Li+Zn+dr+Le[dn]&4294967295;Zn=Sn,Sn=It,It=4294967295&(st<<30|st>>>2),st=_e,_e=Yi}this.chain_[0]=this.chain_[0]+_e&4294967295,this.chain_[1]=this.chain_[1]+st&4294967295,this.chain_[2]=this.chain_[2]+It&4294967295,this.chain_[3]=this.chain_[3]+Sn&4294967295,this.chain_[4]=this.chain_[4]+Zn&4294967295}update($,ae){if(null==$)return;void 0===ae&&(ae=$.length);const Le=ae-this.blockSize;let _e=0;const st=this.buf_;let It=this.inbuf_;for(;_e<ae;){if(0===It)for(;_e<=Le;)this.compress_($,_e),_e+=this.blockSize;if("string"==typeof $){for(;_e<ae;)if(st[It]=$.charCodeAt(_e),++It,++_e,It===this.blockSize){this.compress_(st),It=0;break}}else for(;_e<ae;)if(st[It]=$[_e],++It,++_e,It===this.blockSize){this.compress_(st),It=0;break}}this.inbuf_=It,this.total_+=ae}digest(){const $=[];let ae=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let _e=this.blockSize-1;_e>=56;_e--)this.buf_[_e]=255&ae,ae/=256;this.compress_(this.buf_);let Le=0;for(let _e=0;_e<5;_e++)for(let st=24;st>=0;st-=8)$[Le]=this.chain_[_e]>>st&255,++Le;return $}}function Ys(W,$){const ae=new Ir(W,$);return ae.subscribe.bind(ae)}class Ir{constructor($,ae){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ae,this.task.then(()=>{$(this)}).catch(Le=>{this.error(Le)})}next($){this.forEachObserver(ae=>{ae.next($)})}error($){this.forEachObserver(ae=>{ae.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,ae,Le){let _e;if(void 0===$&&void 0===ae&&void 0===Le)throw new Error("Missing Observer.");_e=function $r(W,$){if("object"!=typeof W||null===W)return!1;for(const ae of $)if(ae in W&&"function"==typeof W[ae])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:ae,complete:Le},void 0===_e.next&&(_e.next=hi),void 0===_e.error&&(_e.error=hi),void 0===_e.complete&&(_e.complete=hi);const st=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?_e.error(this.finalError):_e.complete()}catch{}}),this.observers.push(_e),st}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let ae=0;ae<this.observers.length;ae++)this.sendOne(ae,$)}sendOne($,ae){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{ae(this.observers[$])}catch(Le){typeof console<"u"&&console.error&&console.error(Le)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hi(){}const Ct=function(W,$,ae,Le){let _e;if(Le<$?_e="at least "+$:Le>ae&&(_e=0===ae?"none":"no more than "+ae),_e)throw new Error(W+" failed: Was called with "+Le+(1===Le?" argument.":" arguments.")+" Expects "+_e+".")};function St(W,$){return`${W} failed: ${$} argument `}function Ht(W,$,ae,Le){if((!Le||ae)&&"function"!=typeof ae)throw new Error(St(W,$)+"must be a valid function.")}function Yn(W,$,ae,Le){if((!Le||ae)&&("object"!=typeof ae||null===ae))throw new Error(St(W,$)+"must be a valid context object.")}const vn=function(W){const $=[];let ae=0;for(let Le=0;Le<W.length;Le++){let _e=W.charCodeAt(Le);if(_e>=55296&&_e<=56319){const st=_e-55296;Le++,H(Le<W.length,"Surrogate pair missing trail surrogate."),_e=65536+(st<<10)+(W.charCodeAt(Le)-56320)}_e<128?$[ae++]=_e:_e<2048?($[ae++]=_e>>6|192,$[ae++]=63&_e|128):_e<65536?($[ae++]=_e>>12|224,$[ae++]=_e>>6&63|128,$[ae++]=63&_e|128):($[ae++]=_e>>18|240,$[ae++]=_e>>12&63|128,$[ae++]=_e>>6&63|128,$[ae++]=63&_e|128)}return $},dt=function(W){let $=0;for(let ae=0;ae<W.length;ae++){const Le=W.charCodeAt(ae);Le<128?$++:Le<2048?$+=2:Le>=55296&&Le<=56319?($+=4,ae++):$+=3}return $};function Vn(W,$=1e3,ae=2){const Le=$*Math.pow(ae,W),_e=Math.round(.5*Le*(Math.random()-.5)*2);return Math.min(144e5,Le+_e)}function zt(W){return W&&W._delegate?W._delegate:W}},9485:(Ke,ve,I)=>{"use strict";var s=I(1571);let H=null;function P(){return H}const se=new s.OlP("DocumentToken");let xe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function q(){return(0,s.LFG)(Z)}()},providedIn:"platform"}),n})();const F=new s.OlP("Location Initialized");let Z=(()=>{class n extends xe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ie()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ie()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(se))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Se(){return new Z((0,s.LFG)(se))}()},providedIn:"platform"}),n})();function ie(){return!!window.history.pushState}function pe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ie(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ye(n){return n&&"?"!==n[0]?"?"+n:n}let Ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(oe)},providedIn:"root"}),n})();const Ee=new s.OlP("appBaseHref");let oe=(()=>{class n extends Ce{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return pe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ye(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const a=this.prepareExternalUrl(r+ye(o));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){const a=this.prepareExternalUrl(r+ye(o));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xe),s.LFG(Ee,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ae=(()=>{class n extends Ce{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=pe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+ye(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+ye(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xe),s.LFG(Ee,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),X=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Ie(Xe(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ye(i))}normalize(e){return n.stripTrailingSlash(function Qe(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Xe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ye(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ye(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=ye,n.joinWithSlash=pe,n.stripTrailingSlash=Ie,n.\u0275fac=function(e){return new(e||n)(s.LFG(Ce))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function de(){return new X((0,s.LFG)(Ce))}()},providedIn:"root"}),n})();function Xe(n){return n.replace(/\/index.html$/,"")}var Je=(()=>((Je=Je||{})[Je.Decimal=0]="Decimal",Je[Je.Percent=1]="Percent",Je[Je.Currency=2]="Currency",Je[Je.Scientific=3]="Scientific",Je))(),me=(()=>((me=me||{})[me.Format=0]="Format",me[me.Standalone=1]="Standalone",me))(),ue=(()=>((ue=ue||{})[ue.Narrow=0]="Narrow",ue[ue.Abbreviated=1]="Abbreviated",ue[ue.Wide=2]="Wide",ue[ue.Short=3]="Short",ue))(),Ne=(()=>((Ne=Ne||{})[Ne.Short=0]="Short",Ne[Ne.Medium=1]="Medium",Ne[Ne.Long=2]="Long",Ne[Ne.Full=3]="Full",Ne))(),ge=(()=>((ge=ge||{})[ge.Decimal=0]="Decimal",ge[ge.Group=1]="Group",ge[ge.List=2]="List",ge[ge.PercentSign=3]="PercentSign",ge[ge.PlusSign=4]="PlusSign",ge[ge.MinusSign=5]="MinusSign",ge[ge.Exponential=6]="Exponential",ge[ge.SuperscriptingExponent=7]="SuperscriptingExponent",ge[ge.PerMille=8]="PerMille",ge[ge.Infinity=9]="Infinity",ge[ge.NaN=10]="NaN",ge[ge.TimeSeparator=11]="TimeSeparator",ge[ge.CurrencyDecimal=12]="CurrencyDecimal",ge[ge.CurrencyGroup=13]="CurrencyGroup",ge))();function Wt(n,t){return Jn((0,s.cg1)(n)[s.wAp.DateFormat],t)}function Ut(n,t){return Jn((0,s.cg1)(n)[s.wAp.TimeFormat],t)}function yn(n,t){return Jn((0,s.cg1)(n)[s.wAp.DateTimeFormat],t)}function _n(n,t){const e=(0,s.cg1)(n),i=e[s.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===ge.CurrencyDecimal)return e[s.wAp.NumberSymbols][ge.Decimal];if(t===ge.CurrencyGroup)return e[s.wAp.NumberSymbols][ge.Group]}return i}function xo(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Jn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function $r(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Rt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ht={},Yn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var vn=(()=>((vn=vn||{})[vn.Short=0]="Short",vn[vn.ShortGMT=1]="ShortGMT",vn[vn.Long=2]="Long",vn[vn.Extended=3]="Extended",vn))(),dt=(()=>((dt=dt||{})[dt.FullYear=0]="FullYear",dt[dt.Month=1]="Month",dt[dt.Date=2]="Date",dt[dt.Hours=3]="Hours",dt[dt.Minutes=4]="Minutes",dt[dt.Seconds=5]="Seconds",dt[dt.FractionalSeconds=6]="FractionalSeconds",dt[dt.Day=7]="Day",dt))(),yt=(()=>((yt=yt||{})[yt.DayPeriods=0]="DayPeriods",yt[yt.Days=1]="Days",yt[yt.Months=2]="Months",yt[yt.Eras=3]="Eras",yt))();function jn(n,t,e,i){let r=function J(n){if(ot(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,a=1]=n.split("-").map(u=>+u);return Co(r,o-1,a)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Rt))return function Fe(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const a=Number(n[4]||0)-e,u=Number(n[5]||0)-i,f=Number(n[6]||0),m=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,a,u,f,m),t}(i)}const t=new Date(n);if(!ot(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=fi(e,t)||t;let u,a=[];for(;t;){if(u=Yn.exec(t),!u){a.push(t);break}{a=a.concat(u.slice(1));const v=a.pop();if(!v)break;t=v}}let f=r.getTimezoneOffset();i&&(f=Yi(i,f),r=function ee(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function be(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(Yi(t,r)-r))}(r,i,!0));let m="";return a.forEach(v=>{const x=function dn(n){if(dr[n])return dr[n];let t;switch(n){case"G":case"GG":case"GGG":t=$(yt.Eras,ue.Abbreviated);break;case"GGGG":t=$(yt.Eras,ue.Wide);break;case"GGGGG":t=$(yt.Eras,ue.Narrow);break;case"y":t=zt(dt.FullYear,1,0,!1,!0);break;case"yy":t=zt(dt.FullYear,2,0,!0,!0);break;case"yyy":t=zt(dt.FullYear,3,0,!1,!0);break;case"yyyy":t=zt(dt.FullYear,4,0,!1,!0);break;case"Y":t=Li(1);break;case"YY":t=Li(2,!0);break;case"YYY":t=Li(3);break;case"YYYY":t=Li(4);break;case"M":case"L":t=zt(dt.Month,1,1);break;case"MM":case"LL":t=zt(dt.Month,2,1);break;case"MMM":t=$(yt.Months,ue.Abbreviated);break;case"MMMM":t=$(yt.Months,ue.Wide);break;case"MMMMM":t=$(yt.Months,ue.Narrow);break;case"LLL":t=$(yt.Months,ue.Abbreviated,me.Standalone);break;case"LLLL":t=$(yt.Months,ue.Wide,me.Standalone);break;case"LLLLL":t=$(yt.Months,ue.Narrow,me.Standalone);break;case"w":t=Zn(1);break;case"ww":t=Zn(2);break;case"W":t=Zn(1,!0);break;case"d":t=zt(dt.Date,1);break;case"dd":t=zt(dt.Date,2);break;case"c":case"cc":t=zt(dt.Day,1);break;case"ccc":t=$(yt.Days,ue.Abbreviated,me.Standalone);break;case"cccc":t=$(yt.Days,ue.Wide,me.Standalone);break;case"ccccc":t=$(yt.Days,ue.Narrow,me.Standalone);break;case"cccccc":t=$(yt.Days,ue.Short,me.Standalone);break;case"E":case"EE":case"EEE":t=$(yt.Days,ue.Abbreviated);break;case"EEEE":t=$(yt.Days,ue.Wide);break;case"EEEEE":t=$(yt.Days,ue.Narrow);break;case"EEEEEE":t=$(yt.Days,ue.Short);break;case"a":case"aa":case"aaa":t=$(yt.DayPeriods,ue.Abbreviated);break;case"aaaa":t=$(yt.DayPeriods,ue.Wide);break;case"aaaaa":t=$(yt.DayPeriods,ue.Narrow);break;case"b":case"bb":case"bbb":t=$(yt.DayPeriods,ue.Abbreviated,me.Standalone,!0);break;case"bbbb":t=$(yt.DayPeriods,ue.Wide,me.Standalone,!0);break;case"bbbbb":t=$(yt.DayPeriods,ue.Narrow,me.Standalone,!0);break;case"B":case"BB":case"BBB":t=$(yt.DayPeriods,ue.Abbreviated,me.Format,!0);break;case"BBBB":t=$(yt.DayPeriods,ue.Wide,me.Format,!0);break;case"BBBBB":t=$(yt.DayPeriods,ue.Narrow,me.Format,!0);break;case"h":t=zt(dt.Hours,1,-12);break;case"hh":t=zt(dt.Hours,2,-12);break;case"H":t=zt(dt.Hours,1);break;case"HH":t=zt(dt.Hours,2);break;case"m":t=zt(dt.Minutes,1);break;case"mm":t=zt(dt.Minutes,2);break;case"s":t=zt(dt.Seconds,1);break;case"ss":t=zt(dt.Seconds,2);break;case"S":t=zt(dt.FractionalSeconds,1);break;case"SS":t=zt(dt.FractionalSeconds,2);break;case"SSS":t=zt(dt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Le(vn.Short);break;case"ZZZZZ":t=Le(vn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Le(vn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Le(vn.Long);break;default:return null}return dr[n]=t,t}(v);m+=x?x(r,e,f):"''"===v?"'":v.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),m}function Co(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function fi(n,t){const e=function qe(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(Ht[e]=Ht[e]||{},Ht[e][t])return Ht[e][t];let i="";switch(t){case"shortDate":i=Wt(n,Ne.Short);break;case"mediumDate":i=Wt(n,Ne.Medium);break;case"longDate":i=Wt(n,Ne.Long);break;case"fullDate":i=Wt(n,Ne.Full);break;case"shortTime":i=Ut(n,Ne.Short);break;case"mediumTime":i=Ut(n,Ne.Medium);break;case"longTime":i=Ut(n,Ne.Long);break;case"fullTime":i=Ut(n,Ne.Full);break;case"short":const r=fi(n,"shortTime"),o=fi(n,"shortDate");i=Vn(yn(n,Ne.Short),[r,o]);break;case"medium":const a=fi(n,"mediumTime"),u=fi(n,"mediumDate");i=Vn(yn(n,Ne.Medium),[a,u]);break;case"long":const f=fi(n,"longTime"),m=fi(n,"longDate");i=Vn(yn(n,Ne.Long),[f,m]);break;case"full":const v=fi(n,"fullTime"),x=fi(n,"fullDate");i=Vn(yn(n,Ne.Full),[v,x])}return i&&(Ht[e][t]=i),i}function Vn(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Nr(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let a=String(n);for(;a.length<t;)a="0"+a;return i&&(a=a.slice(a.length-t)),o+a}function zt(n,t,e=0,i=!1,r=!1){return function(o,a){let u=function W(n,t){switch(n){case dt.FullYear:return t.getFullYear();case dt.Month:return t.getMonth();case dt.Date:return t.getDate();case dt.Hours:return t.getHours();case dt.Minutes:return t.getMinutes();case dt.Seconds:return t.getSeconds();case dt.FractionalSeconds:return t.getMilliseconds();case dt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||u>-e)&&(u+=e),n===dt.Hours)0===u&&-12===e&&(u=12);else if(n===dt.FractionalSeconds)return function ta(n,t){return Nr(n,3).substring(0,t)}(u,t);const f=_n(a,ge.MinusSign);return Nr(u,t,f,i,r)}}function $(n,t,e=me.Format,i=!1){return function(r,o){return function ae(n,t,e,i,r,o){switch(e){case yt.Months:return function Ui(n,t,e){const i=(0,s.cg1)(n),o=Jn([i[s.wAp.MonthsFormat],i[s.wAp.MonthsStandalone]],t);return Jn(o,e)}(t,r,i)[n.getMonth()];case yt.Days:return function Cn(n,t,e){const i=(0,s.cg1)(n),o=Jn([i[s.wAp.DaysFormat],i[s.wAp.DaysStandalone]],t);return Jn(o,e)}(t,r,i)[n.getDay()];case yt.DayPeriods:const a=n.getHours(),u=n.getMinutes();if(o){const m=function Xi(n){const t=(0,s.cg1)(n);return xo(t),(t[s.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?$r(i):[$r(i[0]),$r(i[1])])}(t),v=function Ys(n,t,e){const i=(0,s.cg1)(n);xo(i);const o=Jn([i[s.wAp.ExtraData][0],i[s.wAp.ExtraData][1]],t)||[];return Jn(o,e)||[]}(t,r,i),x=m.findIndex(S=>{if(Array.isArray(S)){const[k,O]=S,U=a>=k.hours&&u>=k.minutes,V=a<O.hours||a===O.hours&&u<O.minutes;if(k.hours<O.hours){if(U&&V)return!0}else if(U||V)return!0}else if(S.hours===a&&S.minutes===u)return!0;return!1});if(-1!==x)return v[x]}return function qt(n,t,e){const i=(0,s.cg1)(n),o=Jn([i[s.wAp.DayPeriodsFormat],i[s.wAp.DayPeriodsStandalone]],t);return Jn(o,e)}(t,r,i)[a<12?0:1];case yt.Eras:return function Dt(n,t){return Jn((0,s.cg1)(n)[s.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Le(n){return function(t,e,i){const r=-1*i,o=_n(e,ge.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case vn.Short:return(r>=0?"+":"")+Nr(a,2,o)+Nr(Math.abs(r%60),2,o);case vn.ShortGMT:return"GMT"+(r>=0?"+":"")+Nr(a,1,o);case vn.Long:return"GMT"+(r>=0?"+":"")+Nr(a,2,o)+":"+Nr(Math.abs(r%60),2,o);case vn.Extended:return 0===i?"Z":(r>=0?"+":"")+Nr(a,2,o)+":"+Nr(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function Sn(n){return Co(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Zn(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+o)/7)}else{const o=Sn(e),a=function It(n){const t=Co(n,0,1).getDay();return Co(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),u=o.getTime()-a.getTime();r=1+Math.round(u/6048e5)}return Nr(r,n,_n(i,ge.MinusSign))}}function Li(n,t=!1){return function(e,i){return Nr(Sn(e).getFullYear(),n,_n(i,ge.MinusSign),t)}}const dr={};function Yi(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function ot(n){return n instanceof Date&&!isNaN(n.valueOf())}const ht=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function na(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}let Or=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class tc{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gt=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new tc(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const u=i.get(o);i.move(u,a),au(u,r)}});for(let r=0,o=i.length;r<o;r++){const u=i.get(r).context;u.index=r,u.count=o,u.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{au(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function au(n,t){n.context.$implicit=t.item}let kt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new nc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){So("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){So("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class nc{constructor(){this.$implicit=null,this.ngIf=null}}function So(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class ji{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Xu=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),hr=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new ji(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(Xu,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Pr=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:a}=this;this._viewRef=i.createEmbeddedView(r,o,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})();function js(n,t){return new s.vHH(2100,!1)}class Eo{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class vv{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const ep=new vv,yv=new Eo;let td=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return ep;if((0,s.F4k)(e))return yv;throw js()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const tp=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Cs=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,o){if(null==e||""===e||e!=e)return null;try{return jn(e,i,o||this.locale,r??this.defaultTimezone??void 0)}catch(a){throw js()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(tp,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),lu=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!function id(n){return!(null==n||""===n||n!=n)}(e))return null;r=r||this._locale;try{return function mi(n,t,e){return function To(n,t,e,i,r,o,a=!1){let u="",f=!1;if(isFinite(n)){let m=function rn(n){let i,r,o,a,u,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(u=t.length))i=[0],r=1;else{for(u--;"0"===t.charAt(u);)u--;for(r-=o,i=[],a=0;o<=u;o++,a++)i[a]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);a&&(m=function ll(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(m));let v=t.minInt,x=t.minFrac,S=t.maxFrac;if(o){const re=o.match(ht);if(null===re)throw new Error(`${o} is not a valid digit info`);const Te=re[1],we=re[3],Ve=re[5];null!=Te&&(v=na(Te)),null!=we&&(x=na(we)),null!=Ve?S=na(Ve):null!=we&&x>S&&(S=x)}!function cl(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let a=o+n.integerLen,u=i[a];if(a>0){i.splice(Math.max(n.integerLen,a));for(let x=a;x<i.length;x++)i[x]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,a=o+1),i[0]=0;for(let x=1;x<a;x++)i[x]=0}if(u>=5)if(a-1<0){for(let x=0;x>a;x--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[a-1]++;for(;r<Math.max(0,o);r++)i.push(0);let f=0!==o;const m=t+n.integerLen,v=i.reduceRight(function(x,S,k,O){return O[k]=(S+=x)<10?S:S-10,f&&(0===O[k]&&k>=m?O.pop():f=!1),S>=10?1:0},0);v&&(i.unshift(v),n.integerLen++)}(m,x,S);let k=m.digits,O=m.integerLen;const U=m.exponent;let V=[];for(f=k.every(re=>!re);O<v;O++)k.unshift(0);for(;O<0;O++)k.unshift(0);O>0?V=k.splice(O,k.length):(V=k,k=[0]);const te=[];for(k.length>=t.lgSize&&te.unshift(k.splice(-t.lgSize,k.length).join(""));k.length>t.gSize;)te.unshift(k.splice(-t.gSize,k.length).join(""));k.length&&te.unshift(k.join("")),u=te.join(_n(e,i)),V.length&&(u+=_n(e,r)+V.join("")),U&&(u+=_n(e,ge.Exponential)+"+"+U)}else u=_n(e,ge.Infinity);return u=n<0&&!f?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf,u}(n,function al(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],a=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],u=a[0],f=a[1]||"";e.posPre=u.substring(0,u.indexOf("#"));for(let v=0;v<f.length;v++){const x=f.charAt(v);"0"===x?e.minFrac=e.maxFrac=v+1:"#"===x?e.maxFrac=v+1:e.posSuf+=x}const m=u.split(",");if(e.gSize=m[1]?m[1].length:0,e.lgSize=m[2]||m[1]?(m[2]||m[1]).length:0,o){const v=r.length-e.posPre.length-e.posSuf.length,x=o.indexOf("#");e.negPre=o.substring(0,x).replace(/'/g,""),e.negSuf=o.slice(x+v).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function bs(n,t){return(0,s.cg1)(n)[s.wAp.NumberFormats][t]}(t,Je.Decimal),_n(t,ge.MinusSign)),t,ge.Group,ge.Decimal,e)}(function cu(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),r,i)}catch(o){throw js()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16))},n.\u0275pipe=s.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})();let Qn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Ia="browser";function ia(n){return n===Ia}function fr(n){return"server"===n}let np=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Dv((0,s.LFG)(se),window)}),n})();class Dv{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function du(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=$n(this.window.history)||$n(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $n(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class sc extends class Cr extends class fe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function z(n){H||(H=n)}(new sc)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function pl(){return Gs=Gs||document.querySelector("base"),Gs?Gs.getAttribute("href"):null}();return null==e?null:function ml(n){Ri=Ri||document.createElement("a"),Ri.setAttribute("href",n);const t=Ri.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Gs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Ea(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Ri,Gs=null;const oc=new s.OlP("TRANSITION_ID"),ko=[{provide:s.ip1,useFactory:function nr(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=P(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[oc,se,s.zs3],multi:!0}];let fu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Vt=new s.OlP("EventManagerPlugins");let La=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const a=r[o];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vt),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class wh{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=P().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let ac=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Mo=(()=>{class n extends ac{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const a=this._doc.createElement("style");a.textContent=o,r.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(lc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(lc))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(se))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function lc(n){P().remove(n)}const Oa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Dh=/%COMP%/g;function Ra(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ra(n,r,e):(r=r.replace(Dh,n),e.push(r))}return e}function Pa(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Fa=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new gl(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new ld(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new Fr(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ra(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(La),s.LFG(Mo),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class gl{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Oa[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Sh(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Sh(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Oa[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Oa[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Pa(i)):this.eventManager.addEventListener(t,e,Pa(i))}}function Sh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ld extends gl{constructor(t,e,i,r){super(t),this.component=i;const o=Ra(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function ad(n){return"_ngcontent-%COMP%".replace(Dh,n)}(r+"-"+i.id),this.hostAttr=function xi(n){return"_nghost-%COMP%".replace(Dh,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Fr extends gl{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Ra(r.id,r.styles,[]);for(let a=0;a<o.length;a++){const u=document.createElement("style");u.textContent=o[a],this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ts=(()=>{class n extends wh{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(se))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ah=["alt","control","meta","shift"],ra={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},cd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Eh=(()=>{class n extends wh{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),a=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,o.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let a="";if(Ah.forEach(f=>{const m=i.indexOf(f);m>-1&&(i.splice(m,1),a+=f+".")}),a+=o,0!=i.length||0===o.length)return null;const u={};return u.domEventName=r,u.fullKey=a,u}static getEventFullKey(e){let i="",r=function kh(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&pu.hasOwnProperty(t)&&(t=pu[t]))}return ra[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ah.forEach(o=>{o!=r&&(0,cd[o])(e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(se))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ih=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Ia},{provide:s.g9A,useValue:function mu(){sc.makeCurrent()},multi:!0},{provide:se,useFactory:function hd(){return(0,s.RDi)(document),document},deps:[]}]),vl=new s.OlP(""),pd=[{provide:s.rWj,useClass:class hu{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,a=!1;const u=function(f){a=a||f,o--,0==o&&i(a)};r.forEach(function(f){f.whenStable(u)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],sa=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Mh(){return new s.qLn},deps:[]},{provide:Vt,useClass:Ts,multi:!0,deps:[se,s.R0b,s.Lbi]},{provide:Vt,useClass:Eh,multi:!0,deps:[se]},{provide:Fa,useClass:Fa,deps:[La,Mo,s.AFp]},{provide:s.FYo,useExisting:Fa},{provide:ac,useExisting:Mo},{provide:Mo,useClass:Mo,deps:[se]},{provide:La,useClass:La,deps:[Vt,s.R0b]},{provide:class Na{},useClass:fu,deps:[]},[]];let gu=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:oc,useExisting:s.AFp},ko]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(vl,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...sa,...pd],imports:[Qn,s.hGG]}),n})(),gi=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(se))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function No(){return new gi((0,s.LFG)(se))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let gd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(qs),i},providedIn:"root"}),n})(),qs=(()=>{class n extends gd{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(se))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function lp(n){return new qs(n.get(se))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();const li_firebaseConfig={apiKey:"AIzaSyA-S_FS6kBWagdf-f5j7Q2a3M9WKxbOg2Q",authDomain:"vtr-project1.firebaseapp.com",databaseURL:"https://vtr-project1-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"vtr-project1",storageBucket:"vtr-project1.appspot.com",messagingSenderId:"164170663360",appId:"1:164170663360:web:5eca54613a2f9118e8b425",measurementId:"G-G7R3TTG8V0"};var Tr=I(9751),wr=I(515),yl=I(3269),ci=I(457);function At(...n){const t=(0,yl.yG)(n);return(0,ci.D)(n,t)}var sn=I(7579),Pi=I(8421),mr=I(5577),Ba=I(1144),cs=I(576),Nt=I(4004);const{isArray:bl}=Array;function vu(n){return(0,Nt.U)(t=>function dc(n,t){return bl(t)?n(...t):n(t)}(n,t))}const Ws=["addListener","removeListener"],yu=["addEventListener","removeEventListener"],Ph=["on","off"];function ui(n,t,e,i){if((0,cs.m)(e)&&(i=e,e=void 0),i)return ui(n,t,e).pipe(vu(i));const[r,o]=function cp(n){return(0,cs.m)(n.addEventListener)&&(0,cs.m)(n.removeEventListener)}(n)?yu.map(a=>u=>n[a](t,u,e)):function bu(n){return(0,cs.m)(n.addListener)&&(0,cs.m)(n.removeListener)}(n)?Ws.map(_d(n,t)):function aa(n){return(0,cs.m)(n.on)&&(0,cs.m)(n.off)}(n)?Ph.map(_d(n,t)):[];if(!r&&(0,Ba.z)(n))return(0,mr.z)(a=>ui(a,t,e))((0,Pi.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Tr.y(a=>{const u=(...f)=>a.next(1<f.length?f:f[0]);return r(u),()=>o(u)})}function _d(n,t){return e=>i=>n[e](t,i)}var Lo=I(727);class up extends Lo.w0{constructor(t,e){super()}schedule(t,e=0){return this}}const la={setInterval(n,t,...e){const{delegate:i}=la;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=la;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var Jm=I(8737);class Ua extends up{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return la.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;la.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Jm.P)(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const vd={now:()=>(vd.delegate||Date).now(),delegate:void 0};class Ha{constructor(t,e=Ha.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Ha.now=vd.now;class xu extends Ha{constructor(t,e=Ha.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const xl=new xu(Ua),hc=xl;var zs=I(3532);function Cl(n=0,t,e=hc){let i=-1;return null!=t&&((0,zs.K)(t)?e=t:i=t),new Tr.y(r=>{let o=function fc(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}const{isArray:dp}=Array;function ca(n){return 1===n.length&&dp(n[0])?n[0]:n}var Ci=I(5403);class _i extends sn.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:Zb}=Array,{getPrototypeOf:Mv,prototype:Iv,keys:Qm}=Object;function hp(n){if(1===n.length){const t=n[0];if(Zb(t))return{args:t,keys:null};if(function fp(n){return n&&"object"==typeof n&&Mv(n)===Iv}(t)){const e=Qm(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Ks=I(4671);function Fh(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Nv=I(9672);function kn(...n){const t=(0,yl.yG)(n),e=(0,yl.jO)(n),{args:i,keys:r}=hp(n);if(0===i.length)return(0,ci.D)([],t);const o=new Tr.y(function Vh(n,t,e=Ks.y){return i=>{Ya(t,()=>{const{length:r}=n,o=new Array(r);let a=r,u=r;for(let f=0;f<r;f++)Ya(t,()=>{const m=(0,ci.D)(n[f],t);let v=!1;m.subscribe((0,Ci.x)(i,x=>{o[f]=x,v||(v=!0,u--),u||i.next(e(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>Fh(r,a):Ks.y));return e?o.pipe(vu(e)):o}function Ya(n,t,e){n?(0,Nv.f)(e,n,t):t()}var pc=I(5032);function qr(...n){const t=(0,yl.jO)(n),e=ca(n);return e.length?new Tr.y(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let a=0;!i.closed&&a<e.length;a++)(0,Pi.Xf)(e[a]).subscribe((0,Ci.x)(i,u=>{if(r[a].push(u),r.every(f=>f.length)){const f=r.map(m=>m.shift());i.next(t?t(...f):f),r.some((m,v)=>!m.length&&o[v])&&i.complete()}},()=>{o[a]=!0,!r[a].length&&i.complete()}));return()=>{r=o=null}}):wr.E}new Tr.y(pc.Z);var mc=I(8189);function ds(...n){return function Js(){return(0,mc.J)(1)}()((0,ci.D)(n,(0,yl.yG)(n)))}var Si=I(4482);function ni(n){return(0,Si.e)((t,e)=>{(0,Pi.Xf)(n).subscribe((0,Ci.x)(e,()=>e.complete(),pc.Z)),!e.closed&&t.subscribe(e)})}function bn(n,t){return(0,Si.e)((e,i)=>{let r=0;e.subscribe((0,Ci.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}function Ai(n){return n<=0?()=>wr.E:(0,Si.e)((t,e)=>{let i=0;t.subscribe((0,Ci.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Tl(...n){const t=(0,yl.yG)(n);return(0,Si.e)((e,i)=>{(t?ds(n,e,t):ds(n,e)).subscribe(i)})}function gr(n,t=Ks.y){return n=n??xd,(0,Si.e)((e,i)=>{let r,o=!0;e.subscribe((0,Ci.x)(i,a=>{const u=t(a);(o||!n(r,u))&&(o=!1,r=u,i.next(a))}))})}function xd(n,t){return n===t}function _r(n,t){return(0,Si.e)((e,i)=>{let r=null,o=0,a=!1;const u=()=>a&&!r&&i.complete();e.subscribe((0,Ci.x)(i,f=>{r?.unsubscribe();let m=0;const v=o++;(0,Pi.Xf)(n(f,v)).subscribe(r=(0,Ci.x)(i,x=>i.next(t?t(f,x,v,m++):x),()=>{r=null,u()}))},()=>{a=!0,u()}))})}function Fi(n,t,e){const i=(0,cs.m)(n)||t||e?{next:n,error:t,complete:e}:n;return i?(0,Si.e)((r,o)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let u=!0;r.subscribe((0,Ci.x)(o,f=>{var m;null===(m=i.next)||void 0===m||m.call(i,f),o.next(f)},()=>{var f;u=!1,null===(f=i.complete)||void 0===f||f.call(i),o.complete()},f=>{var m;u=!1,null===(m=i.error)||void 0===m||m.call(i,f),o.error(f)},()=>{var f,m;u&&(null===(f=i.unsubscribe)||void 0===f||f.call(i)),null===(m=i.finalize)||void 0===m||m.call(i)}))}):Ks.y}function ua(...n){const t=(0,yl.jO)(n);return(0,Si.e)((e,i)=>{const r=n.length,o=new Array(r);let a=n.map(()=>!1),u=!1;for(let f=0;f<r;f++)(0,Pi.Xf)(n[f]).subscribe((0,Ci.x)(i,m=>{o[f]=m,!u&&!a[f]&&(a[f]=!0,(u=a.every(Ks.y))&&(a=null))},pc.Z));e.subscribe((0,Ci.x)(i,f=>{if(u){const m=[f,...o];i.next(t?t(...m):m)}}))})}let gc=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),Qs=(()=>{class n extends gc{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Br=new s.OlP("NgValueAccessor"),wd={provide:Br,useExisting:(0,s.Gpc)(()=>N),multi:!0},E=new s.OlP("CompositionEventMode");let N=(()=>{class n extends gc{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function A(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(E,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([wd]),s.qOj]}),n})();function ne(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function De(n){return null!=n&&"number"==typeof n.length}const Re=new s.OlP("NgValidators"),We=new s.OlP("NgAsyncValidators"),pt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bt{static min(t){return function Nn(n){return t=>{if(ne(t.value)||ne(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Vi(n){return t=>{if(ne(t.value)||ne(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return Ur(t)}static requiredTrue(t){return function Zi(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function Dl(n){return ne(n.value)||pt.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function _c(n){return t=>ne(t.value)||!De(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Xs(n){return t=>De(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Ro(n){if(!n)return Wr;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(ne(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return gp(t)}static composeAsync(t){return Dd(t)}}function Ur(n){return ne(n.value)?{required:!0}:null}function Wr(n){return null}function Uh(n){return null!=n}function mp(n){return(0,s.QGY)(n)?(0,ci.D)(n):n}function vc(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Hh(n,t){return t.map(e=>e(n))}function Ov(n){return n.map(t=>function Lv(n){return!n.validate}(t)?t:e=>t.validate(e))}function gp(n){if(!n)return null;const t=n.filter(Uh);return 0==t.length?null:function(e){return vc(Hh(e,t))}}function yc(n){return null!=n?gp(Ov(n)):null}function Dd(n){if(!n)return null;const t=n.filter(Uh);return 0==t.length?null:function(e){return function wl(...n){const t=(0,yl.jO)(n),{args:e,keys:i}=hp(n),r=new Tr.y(o=>{const{length:a}=e;if(!a)return void o.complete();const u=new Array(a);let f=a,m=a;for(let v=0;v<a;v++){let x=!1;(0,Pi.Xf)(e[v]).subscribe((0,Ci.x)(o,S=>{x||(x=!0,m--),u[v]=S},()=>f--,void 0,()=>{(!f||!x)&&(m||o.next(i?Fh(i,u):u),o.complete())}))}});return t?r.pipe(vu(t)):r}(Hh(e,t).map(mp)).pipe((0,Nt.U)(vc))}}function _p(n){return null!=n?Dd(Ov(n)):null}function Gb(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Sd(n){return n._rawValidators}function Rv(n){return n._rawAsyncValidators}function Pv(n){return n?Array.isArray(n)?n:[n]:[]}function vp(n,t){return Array.isArray(n)?n.includes(t):n===t}function Fv(n,t){const e=Pv(t);return Pv(n).forEach(r=>{vp(e,r)||e.push(r)}),e}function Vv(n,t){return Pv(t).filter(e=>!vp(n,e))}class Yh{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=yc(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=_p(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class zr extends Yh{get formDirective(){return null}get path(){return null}}class bc extends Yh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jh{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let hs=(()=>{class n extends jh{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(bc,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),Hr=(()=>{class n extends jh{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zr,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();const $h="VALID",Po="INVALID",C="PENDING",_="DISABLED";function y(n){return(he(n)?n.validators:n)||null}function w(n){return Array.isArray(n)?yc(n):n||null}function L(n,t){return(he(t)?t.asyncValidators:n)||null}function j(n){return Array.isArray(n)?_p(n):n||null}function he(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Ue(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[e])throw new s.vHH(1001,"")}function xt(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,"")})}class Bt{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=w(this._rawValidators),this._composedAsyncValidatorFn=j(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===$h}get invalid(){return this.status===Po}get pending(){return this.status==C}get disabled(){return this.status===_}get enabled(){return this.status!==_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=w(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=j(t)}addValidators(t){this.setValidators(Fv(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Fv(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Vv(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Vv(t,this._rawAsyncValidators))}hasValidator(t){return vp(this._rawValidators,t)}hasAsyncValidator(t){return vp(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=C,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=_,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=$h,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$h||this.status===C)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_:$h}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=C,this._hasOwnPendingAsyncValidator=!0;const e=mp(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?_:this.errors?Po:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(C)?C:this._anyControlsHaveStatus(Po)?Po:$h}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){he(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Qt extends Bt{constructor(t,e,i){super(y(e),L(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){xt(this,0,t),Object.keys(t).forEach(i=>{Ue(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function kd(n,t){return[...t.path,n]}function Kr(n,t){qh(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function Zv(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Tp(n,t)})}(n,t),function Wh(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function zb(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Tp(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function xp(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Sl(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Cp(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Md(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function qh(n,t){const e=Sd(n);null!==t.validator?n.setValidators(Gb(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Rv(n);null!==t.asyncValidator?n.setAsyncValidators(Gb(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Md(t._rawValidators,r),Md(t._rawAsyncValidators,r)}function Cp(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Sd(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(a=>a!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=Rv(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(a=>a!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return Md(t._rawValidators,i),Md(t._rawAsyncValidators,i),e}function Tp(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function wp(n,t){qh(n,t)}function Kb(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function Jb(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Dp(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===N?e=o:function oN(n){return Object.getPrototypeOf(n.constructor)===Qs}(o)?i=o:r=o}),r||i||e||null}const aN={provide:zr,useExisting:(0,s.Gpc)(()=>ng)},ki=(()=>Promise.resolve(null))();let ng=(()=>{class n extends zr{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new Qt({},yc(e),_p(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ki.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Kr(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ki.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ki.then(()=>{const i=this._findContainer(e.path),r=new Qt({});wp(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ki.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){ki.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Jb(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Re,10),s.Y36(We,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([aN]),s.qOj]}),n})();function zw(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Gv(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Tt=class extends Bt{constructor(t=null,e,i){super(y(e),L(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),he(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Gv(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){zw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){zw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Gv(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let Kw=(()=>{class n extends zr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return kd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Jw={provide:bc,useExisting:(0,s.Gpc)(()=>zh)},Qb=(()=>Promise.resolve(null))();let zh=(()=>{class n extends bc{constructor(e,i,r,o,a){super(),this._changeDetectorRef=a,this.control=new Tt,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Dp(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Kb(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Kr(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Qb.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,s.D6c)(i);Qb.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?kd(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zr,9),s.Y36(Re,10),s.Y36(We,10),s.Y36(Br,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([Jw]),s.qOj,s.TTD]}),n})(),eo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Qw={provide:Br,useExisting:(0,s.Gpc)(()=>rg),multi:!0};let rg=(()=>{class n extends Qs{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[s._Bn([Qw]),s.qOj]}),n})(),Xw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const n1=new s.OlP("NgModelWithFormControlWarning"),cN={provide:zr,useExisting:(0,s.Gpc)(()=>Jr)};let Jr=(()=>{class n extends zr{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Kr(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Sl(e.control||null,e,!1),function qw(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,Jb(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Sl(i||null,e),(n=>n instanceof Tt)(r)&&(Kr(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);wp(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function fH(n,t){return Cp(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qh(this.form,this),this._oldForm&&Cp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Re,10),s.Y36(We,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([cN]),s.qOj,s.TTD]}),n})();const qv={provide:zr,useExisting:(0,s.Gpc)(()=>Du)};let Du=(()=>{class n extends Kw{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){nD(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zr,13),s.Y36(Re,10),s.Y36(We,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[s._Bn([qv]),s.qOj]}),n})();const tD={provide:zr,useExisting:(0,s.Gpc)(()=>Sp)};let Sp=(()=>{class n extends zr{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return kd(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){nD(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zr,13),s.Y36(Re,10),s.Y36(We,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[s._Bn([tD]),s.qOj]}),n})();function nD(n){return!(n instanceof Du||n instanceof Jr||n instanceof Sp)}const uN={provide:bc,useExisting:(0,s.Gpc)(()=>Fo)};let Fo=(()=>{class n extends bc{constructor(e,i,r,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Dp(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Kb(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return kd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(zr,13),s.Y36(Re,10),s.Y36(We,10),s.Y36(Br,10),s.Y36(n1,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([uN]),s.qOj,s.TTD]}),n})();const Ap={provide:Br,useExisting:(0,s.Gpc)(()=>Su),multi:!0};function iD(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Su=(()=>{class n extends Qs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=iD(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function dN(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([Ap]),s.qOj]}),n})(),Nd=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(iD(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(Su,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const s1={provide:Br,useExisting:(0,s.Gpc)(()=>Wv),multi:!0};function rD(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Wv=(()=>{class n extends Qs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(r.indexOf(a.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const a=o;for(let u=0;u<a.length;u++){const m=this._getOptionValue(a[u].value);r.push(m)}}else{const a=i.options;for(let u=0;u<a.length;u++){const f=a[u];if(f.selected){const m=this._getOptionValue(f.value);r.push(m)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function sD(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([s1]),s.qOj]}),n})(),Kh=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(rD(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(rD(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(Wv,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Jh=(()=>{class n{constructor(){this._validator=Wr}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Wr,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const aD={provide:Re,useExisting:(0,s.Gpc)(()=>da),multi:!0};let da=(()=>{class n extends Jh{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.D6c,this.createValidator=e=>Ur}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([aD]),s.qOj]}),n})(),_N=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Xw]}),n})(),vN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[_N]}),n})(),yN=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:n1,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[_N]}),n})();class og extends Bt{constructor(t,e,i){super(y(e),L(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){xt(this,0,t),t.forEach((i,r)=>{Ue(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function l1(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let to=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return l1(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Qt(r,o)}control(e,i,r){let o={};return this.useNonNullable?(l1(i)?o=i:(o.validators=i,o.asyncValidators=r),new Tt(e,{...o,nonNullable:!0})):new Tt(e,i,r)}array(e,i,r){const o=e.map(a=>this._createControl(a));return new og(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Tt||e instanceof Bt?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:yN}),n})();Math,Math,Math;const JN=["*"],lL=["dialog"];function oy(n){return"string"==typeof n}function rf(n){return null!=n}function Bd(n){return(n||document.body).getBoundingClientRect()}const sS={animation:!0,transitionTimerDelayMs:5},oS=()=>{},{transitionTimerDelayMs:aS}=sS,sf=new Map,fs=(n,t,e,i)=>{let r=i.context||{};const o=sf.get(t);if(o)switch(i.runningTransition){case"continue":return wr.E;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),sf.delete(t)}const a=e(t,i.animation,r)||oS;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>a()),At(void 0).pipe(function Fp(n){return t=>new Tr.y(e=>t.subscribe({next:a=>n.run(()=>e.next(a)),error:a=>n.run(()=>e.error(a)),complete:()=>n.run(()=>e.complete())}))}(n));const u=new sn.x,f=new sn.x,m=u.pipe(function Bh(...n){return t=>ds(t,At(...n))}(!0));sf.set(t,{transition$:u,complete:()=>{f.next(),f.complete()},context:r});const v=function bg(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const x=ui(t,"transitionend").pipe(ni(m),bn(({target:k})=>k===t));(function yd(...n){return 1===(n=ca(n)).length?(0,Pi.Xf)(n[0]):new Tr.y(function ti(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,Pi.Xf)(n[i]).subscribe((0,Ci.x)(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}(n))})(Cl(v+aS).pipe(ni(m)),x,f).pipe(ni(m)).subscribe(()=>{sf.delete(t),n.run(()=>{a(),u.next(),u.complete()})})}),u.asObservable()};let F1=(()=>{class n{constructor(){this.animation=sS.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Yr=(()=>{return(n=Yr||(Yr={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",Yr;var n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const uy=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function DS(n){const t=Array.from(n.querySelectorAll(uy)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);class $a{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let uO=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Ai(1)).subscribe(()=>{fs(this._zone,this._el.nativeElement,(e,i)=>{i&&Bd(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return fs(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(s.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),s.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class no{close(t){}dismiss(t){}}class dO{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new sn.x,this._dismissed=new sn.x,this._hidden=new sn.x,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,a)=>{this._resolve=o,this._reject=a}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ni(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ni(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function L1(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():At(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),qr(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Bp=(()=>{return(n=Bp||(Bp={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",Bp;var n})();let C6=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new sn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.vpe,this.shown=new sn.x,this.hidden=new sn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":oy(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ai(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},a=qr(fs(this._zone,e,()=>e.classList.remove("show"),i),fs(this._zone,this._dialogEl.nativeElement,()=>{},i));return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){const e={animation:this.animation,runningTransition:"continue"};qr(fs(this._zone,this._elRef.nativeElement,(o,a)=>{a&&Bd(o),o.classList.add("show")},e),fs(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{ui(e,"keydown").pipe(ni(this._closed$),bn(r=>r.which===Yr.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Bp.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;ui(this._dialogEl.nativeElement,"mousedown").pipe(ni(this._closed$),Fi(()=>i=!1),_r(()=>ui(e,"mouseup").pipe(ni(this._closed$),Ai(1))),bn(({target:r})=>e===r)).subscribe(()=>{i=!0}),ui(e,"click").pipe(ni(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Bp.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=DS(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&fs(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(se),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&s.Gf(lL,7),2&e){let r;s.iGM(r=s.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),s.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),s.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:JN,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1)(2,"div",2),s.Hsn(3),s.qZA()()),2&e&&s.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),tx=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:a}=r;if(e>0){const u=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${u+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=a),r.overflow=o}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(se))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nx=(()=>{class n{constructor(e,i,r,o,a,u){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=o,this._rendererFactory=a,this._ngZone=u,this._activeWindowCmptHasChanged=new sn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new s.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const f=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=ui(t,"focusin").pipe(ni(e),(0,Nt.U)(o=>o.target));ui(t,"keydown").pipe(ni(e),bn(o=>o.which===Yr.Tab),ua(r)).subscribe(([o,a])=>{const[u,f]=DS(t);(a===u||a===t)&&o.shiftKey&&(f.focus(),o.preventDefault()),a===f&&!o.shiftKey&&(u.focus(),o.preventDefault())}),i&&ui(t,"click").pipe(ni(e),ua(r),(0,Nt.U)(o=>o[1])).subscribe(o=>o.focus())})})(0,f.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(f.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const o=r.container instanceof HTMLElement?r.container:rf(r.container)?this._document.querySelector(r.container):this._document.body,a=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const u=new no,f=this._getContentRef(r.injector||e,i,u,r);let m=!1!==r.backdrop?this._attachBackdrop(o):void 0,v=this._attachWindowComponent(o,f.nodes),x=new dO(v,f,m,r.beforeDismiss);return this._registerModalRef(x),this._registerWindowCmpt(v),x.hidden.pipe(Ai(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),u.close=S=>{x.close(S)},u.dismiss=S=>{x.dismiss(S)},this._applyWindowOptions(v.instance,r),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),m&&m.instance&&(this._applyBackdropOptions(m.instance,r),m.changeDetectorRef.detectChanges()),v.changeDetectorRef.detectChanges(),x}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=(0,s.LMc)(uO,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=(0,s.LMc)(C6,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{rf(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{rf(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,o){return i?i instanceof s.Rgc?this._createFromTemplateRef(i,r):oy(i)?this._createFromString(i):this._createFromComponent(e,i,r,o):new $a([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(a){i.close(a)},dismiss(a){i.dismiss(a)}});return this._applicationRef.attachView(o),new $a([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new $a([[i]])}_createFromComponent(e,i,r,o){const a=s.zs3.create({providers:[{provide:no,useValue:r}],parent:e}),u=(0,s.LMc)(i,{environmentInjector:this._applicationRef.injector,elementInjector:a}),f=u.location.nativeElement;return o.scrollable&&f.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new $a([[f]],u.hostView,u)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.z2F),s.LFG(s.zs3),s.LFG(se),s.LFG(tx),s.LFG(s.FYo),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ec=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(F1))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pa=(()=>{class n{constructor(e,i,r){this._injector=e,this._modalStack=i,this._config=r}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(nx),s.LFG(Ec))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ix=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[pa]}),n})();new s.OlP("live announcer delay",{providedIn:"root",factory:function B6(){return 100}});var ke=I(5861),mx=I(1659),Es=I(149),Mc=I(9425),Yp=I(8456),ks=I(1938);function ir(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new RO(n,t))}}class RO{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new Ty(t,this.project,this.thisArg))}}class Ty extends ks.L{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}var XS=I(8721),eA=I(9477);function PO(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const Gd=PO();var Dy=I(8655);const gx=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function _x(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}var nA=I(5414);const vx=n=>{if(n&&"function"==typeof n[Dy.L])return(n=>t=>{const e=n[Dy.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(gx(n))return(0,XS.V)(n);if(_x(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,eA.z),t))(n);if(n&&"function"==typeof n[Gd])return(n=>t=>{const e=n[Gd]();for(;;){let i;try{i=e.next()}catch(r){return t.error(r),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${(0,nA.K)(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};var Vl=I(393),G6=I(5001);function io(n,t){return t?function iA(n,t){if(null!=n){if(function q6(n){return n&&"function"==typeof n[Dy.L]}(n))return function BO(n,t){return new Es.y(e=>{const i=new Vl.w;return i.add(t.schedule(()=>{const r=n[Dy.L]();i.add(r.subscribe({next(o){i.add(t.schedule(()=>e.next(o)))},error(o){i.add(t.schedule(()=>e.error(o)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(_x(n))return function UO(n,t){return new Es.y(e=>{const i=new Vl.w;return i.add(t.schedule(()=>n.then(r=>{i.add(t.schedule(()=>{e.next(r),i.add(t.schedule(()=>e.complete()))}))},r=>{i.add(t.schedule(()=>e.error(r)))}))),i})}(n,t);if(gx(n))return(0,G6.r)(n,t);if(function W6(n){return n&&"function"==typeof n[Gd]}(n)||"string"==typeof n)return function $6(n,t){if(!n)throw new Error("Iterable cannot be null");return new Es.y(e=>{const i=new Vl.w;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(()=>{r=n[Gd](),i.add(t.schedule(function(){if(e.closed)return;let o,a;try{const u=r.next();o=u.value,a=u.done}catch(u){return void e.error(u)}a?e.complete():(e.next(o),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof Es.y?n:new Es.y(vx(n))}class rA extends ks.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class yx extends ks.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function sA(n,t){if(t.closed)return;if(n instanceof Es.y)return n.subscribe(t);let e;try{e=vx(n)(t)}catch(i){t.error(i)}return e}function oA(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(oA((r,o)=>io(n(r,o)).pipe(ir((a,u)=>t(r,a,o,u))),e)):("number"==typeof t&&(e=t),i=>i.lift(new HO(n,e)))}class HO{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new YO(t,this.project,this.concurrent))}}class YO extends yx{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new rA(this),i=this.destination;i.add(e);const r=sA(t,e);r!==e&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}var bx=I(4635);function aA(n=Number.POSITIVE_INFINITY){return oA(bx.y,n)}var jO=I(8026);function $d(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return(0,Yp.K)(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof Es.y?n[0]:aA(t)((0,jO.n)(n,e))}const cf=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class lA extends Vl.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}var cA=I(3388);class uA extends ks.L{constructor(t){super(t),this.destination=t}}let Hg=(()=>{class n extends Es.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[cA.b](){return new uA(this)}lift(e){const i=new dA(this,this);return i.operator=e,i}next(e){if(this.closed)throw new cf;if(!this.isStopped){const{observers:i}=this,r=i.length,o=i.slice();for(let a=0;a<r;a++)o[a].next(e)}}error(e){if(this.closed)throw new cf;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,r=i.length,o=i.slice();for(let a=0;a<r;a++)o[a].error(e);this.observers.length=0}complete(){if(this.closed)throw new cf;this.isStopped=!0;const{observers:e}=this,i=e.length,r=e.slice();for(let o=0;o<i;o++)r[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new cf;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new cf;return this.hasError?(e.error(this.thrownError),Vl.w.EMPTY):this.isStopped?(e.complete(),Vl.w.EMPTY):(this.observers.push(e),new lA(this,e))}asObservable(){const e=new Es.y;return e.source=this,e}}return n.create=(t,e)=>new dA(t,e),n})();class dA extends Hg{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):Vl.w.EMPTY}}function Ay(){return function(t){return t.lift(new ZO(t))}}class ZO{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const r=new hA(t,i),o=e.subscribe(r);return r.closed||(r.connection=i.connect()),o}}class hA extends ks.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,r=t._connection;this.connection=null,r&&(!i||r===i)&&r.unsubscribe()}}class fA extends Es.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new Vl.w,t.add(this.source.subscribe(new $O(this.getSubject(),this))),t.closed&&(this._connection=null,t=Vl.w.EMPTY)),t}refCount(){return Ay()(this)}}const GO=(()=>{const n=fA.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class $O extends uA{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}class pA{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:i}=this,r=this.subjectFactory(),o=i(r).subscribe(t);return o.add(e.subscribe(r)),o}}function WO(){return new Hg}function Wa(n,t){return"function"==typeof t?e=>e.pipe(Wa((i,r)=>io(n(i,r)).pipe(ir((o,a)=>t(i,o,r,a))))):e=>e.lift(new KO(n))}class KO{constructor(t){this.project=t}call(t,e){return e.subscribe(new JO(t,this.project))}}class JO extends yx{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new rA(this),r=this.destination;r.add(i),this.innerSubscription=sA(t,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function Yg(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(r){return r.lift(new QO(n,t,e))}}class QO{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new XO(t,this.accumulator,this.seed,this.hasSeed))}}class XO extends ks.L{constructor(t,e,i,r){super(t),this.accumulator=e,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function Cx(n,t){return e=>e.lift(new mA(n,t))}class mA{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new gA(t,this.compare,this.keySelector))}}class gA extends ks.L{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}class eR extends ks.L{notifyNext(t,e,i,r,o){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Tx extends ks.L{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function _A(n,t,e,i,r=new Tx(n,e,i)){if(!r.closed)return t instanceof Es.y?t.subscribe(r):vx(t)(r)}class nR{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new wx(t,this.observables,this.project))}}class wx extends eR{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let o=0;o<r;o++)this.toRespond.push(o);for(let o=0;o<r;o++)this.add(_A(this,e[o],void 0,o))}notifyNext(t,e,i){this.values[i]=e;const r=this.toRespond;if(r.length>0){const o=r.indexOf(i);-1!==o&&r.splice(o,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class vA{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new Sx(t,this.predicate))}}class Sx extends ks.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var zn=I(5151),jr=I(2011),Ax=(I(5881),I(3942)),za=I(4859),Sr=I(9681),B=I(2090),Bl=I(1877);const iR="@firebase/database";let jg="";function bA(n){jg=n}class kx{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,B.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,B.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class rR{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,B.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const xA=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new kx(t)}}catch{}return new rR},Nu=xA("localStorage"),Ey=xA("sessionStorage"),uf=new Bl.Yd("@firebase/database"),Mx=function(){let n=1;return function(){return n++}}(),Ix=function(n){const t=(0,B.dS)(n),e=new B.gQ;e.update(t);const i=e.digest();return B.US.encodeByteArray(i)},Zg=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Zg.apply(null,i):t+="object"==typeof i?(0,B.Pz)(i):i,t+=" "}return t};let df=null,CA=!0;const TA=function(n,t){(0,B.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(uf.logLevel=Bl.in.VERBOSE,df=uf.log.bind(uf),t&&Ey.set("logging_enabled",!0)):"function"==typeof n?df=n:(df=null,Ey.remove("logging_enabled"))},Zr=function(...n){if(!0===CA&&(CA=!1,null===df&&!0===Ey.get("logging_enabled")&&TA(!0)),df){const t=Zg.apply(null,n);df(t)}},ky=function(n){return function(...t){Zr(n,...t)}},My=function(...n){const t="FIREBASE INTERNAL ERROR: "+Zg(...n);uf.error(t)},Ic=function(...n){const t=`FIREBASE FATAL ERROR: ${Zg(...n)}`;throw uf.error(t),new Error(t)},ro=function(...n){const t="FIREBASE WARNING: "+Zg(...n);uf.warn(t)},Nx=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Lu="[MIN_NAME]",Ul="[MAX_NAME]",qd=function(n,t){if(n===t)return 0;if(n===Lu||t===Ul)return-1;if(t===Lu||n===Ul)return 1;{const e=$g(n),i=$g(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},wA=function(n,t){return n===t?0:n<t?-1:1},jp=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,B.Pz)(t))},Lx=function(n){if("object"!=typeof n||null===n)return(0,B.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,B.Pz)(t[i]),e+=":",e+=Lx(n[t[i]]);return e+="}",e},DA=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Qr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const SA=function(n){(0,B.hu)(!Nx(n),"Invalid JSON number");const i=1023;let r,o,a,u,f;0===n?(o=0,a=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=u+i,a=Math.round(n*Math.pow(2,52-u)-Math.pow(2,52))):(o=0,a=Math.round(n/Math.pow(2,-1074))));const m=[];for(f=52;f;f-=1)m.push(a%2?1:0),a=Math.floor(a/2);for(f=11;f;f-=1)m.push(o%2?1:0),o=Math.floor(o/2);m.push(r?1:0),m.reverse();const v=m.join("");let x="";for(f=0;f<64;f+=8){let S=parseInt(v.substr(f,8),2).toString(16);1===S.length&&(S="0"+S),x+=S}return x.toLowerCase()},AA=new RegExp("^-?(0*)\\d{1,10}$"),Ox=-2147483648,Iy=2147483647,$g=function(n){if(AA.test(n)){const t=Number(n);if(t>=Ox&&t<=Iy)return t}return null},hf=function(n){try{n()}catch(t){setTimeout(()=>{throw ro("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},qg=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class e4{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ro(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class kA{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Zr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ro(t)}}let Zp=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Ly=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qp="websocket",LA="long_polling";class Rx{constructor(t,e,i,r,o=!1,a="",u=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Nu.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Nu.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Wg(n,t,e){let i;if((0,B.hu)("string"==typeof t,"typeof type must == string"),(0,B.hu)("object"==typeof e,"typeof params must == object"),t===qp)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==LA)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function cR(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Qr(e,(o,a)=>{r.push(o+"="+a)}),i+r.join("&")}class Oy{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,B.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,B.p$)(this.counters_)}}const Px={},Fx={};function Ry(n){const t=n.toString();return Px[t]||(Px[t]=new Oy),Px[t]}class Vx{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&hf(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ff{constructor(t,e,i,r,o,a,u){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ky(t),this.stats_=Ry(e),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),Wg(e,LA,f))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Vx(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,B.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Vy((...o)=>{const[a,u,f,m,v]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===a)this.id=u,this.password=f;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[a,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,u)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Ly.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ff.forceAllow_=!0}static forceDisallow(){ff.forceDisallow_=!0}static isAvailable(){return!((0,B.Yr)()||!ff.forceAllow_&&(ff.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,B.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,B.h$)(e),r=DA(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,B.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,B.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Vy{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,B.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Mx(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Vy.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){Zr("frame writing exception"),u.stack&&Zr(u.stack),Zr(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Zr("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const a=this.pendingSegs.shift();i=i+"&seg"+r+"="+a.seg+"&ts"+r+"="+a.ts+"&d"+r+"="+a.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,B.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Zr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Wp=null;typeof MozWebSocket<"u"?Wp=MozWebSocket:typeof WebSocket<"u"&&(Wp=WebSocket);let zg=(()=>{class n{constructor(e,i,r,o,a,u,f){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ky(this.connId),this.stats_=Ry(i),this.connURL=n.connectionURL_(i,u,f,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o){const a={v:"5"};return!(0,B.Yr)()&&typeof location<"u"&&location.hostname&&Ly.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),o&&(a.ac=o),Wg(e,qp,a)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Nu.set("previous_websocket_failure",!0);try{if((0,B.Yr)()){const o={headers:{"User-Agent":`Firebase/5/${jg}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);const a=process.env,u=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;u&&(o.proxy={origin:u}),this.mySock=new Wp(this.connURL,[],o)}else this.mySock=new Wp(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Wp&&!n.forceDisallow_}static previouslyFailed(){return Nu.isInMemoryStorage||!0===Nu.get("previous_websocket_failure")}markConnectionHealthy(){Nu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,B.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,B.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,B.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=DA(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class By{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ff,zg]}initTransports_(t){const e=zg&&zg.isAvailable();let i=e&&!zg.previouslyFailed();if(t.webSocketOnly&&(e||ro("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[zg];else{const r=this.transports_=[];for(const o of By.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class ZA{constructor(t,e,i,r,o,a,u,f,m,v){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=f,this.onKill_=m,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ky("c:"+this.id+":"),this.transportManager_=new By(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=qg(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=jp("t",t),i=jp("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=jp("t",t),i=jp("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=jp("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?My("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):My("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&ro("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),qg(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qg(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Nu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class GA{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class pf{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,B.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,B.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Hy extends pf{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,B.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Hy}getInitialEvent(t){return(0,B.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Xn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Ln(){return new Xn("")}function fn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function mf(n){return n.pieces_.length-n.pieceNum_}function di(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Xn(n.pieces_,t)}function Wx(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Nc(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function qA(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Xn(t,0)}function Ii(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Xn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Xn(e,0)}function pn(n){return n.pieceNum_>=n.pieces_.length}function Bo(n,t){const e=fn(n),i=fn(t);if(null===e)return t;if(e===i)return Bo(di(n),di(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function vR(n,t){const e=Nc(n,0),i=Nc(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=qd(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function WA(n,t){if(mf(n)!==mf(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Ka(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(mf(n)>mf(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class yR{constructor(t,e){this.errorPrefix_=e,this.parts_=Nc(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,B.ug)(this.parts_[i]);zx(this)}}function zx(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+gf(n))}function gf(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class jy extends pf{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new jy}getInitialEvent(t){return(0,B.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Jp=1e3;let Qx,Wd=(()=>{class n extends GA{constructor(e,i,r,o,a,u,f,m){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=a,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.authOverride_=m,this.id=n.nextPersistentConnectionId_++,this.log_=ky("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Jp,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m&&!(0,B.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jy.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Hy.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,a={r:o,a:e,b:i};this.log_((0,B.Pz)(a)),(0,B.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new B.BH,r={p:e._path.toString(),q:e._queryObject},o={action:"g",request:r,onComplete:u=>{const f=u.d;"ok"===u.s?(this.onDataUpdate_(r.p,f,!1,null),i.resolve(f)):i.reject(f)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const u=this.outstandingGets_[a];void 0===u||o!==u||(delete this.outstandingGets_[a],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+a+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(a),i.promise}listen(e,i,r,o){this.initConnection_();const a=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),(0,B.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,B.hu)(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(u).set(a,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const a={p:r};e.tag&&(a.q=i._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,f=>{const m=f.d,v=f.s;n.warnOnListenWarnings_(m,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",f),"ok"!==v&&this.removeListen_(r,o),e.onComplete&&e.onComplete(v,m))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,B.r3)(e,"w")){const r=(0,B.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();ro(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,B.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,B.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const a=o.s,u=o.d||"error";this.authToken_===e&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,B.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const a={p:e};o&&(a.q=r,a.t=o),this.sendRequest("n",a)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const a={p:i,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,a){this.initConnection_();const u={p:i,d:r};void 0!==a&&(u.h=a),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(a.s,a.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,B.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):My("Unrecognized action received from server: "+(0,B.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,B.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Jp,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Jp,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Jp),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,ke.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),a=e.id+":"+n.nextConnectionId_++,u=e.lastSessionId;let f=!1,m=null;const v=function(){m?m.close():(f=!0,o())};e.realtime_={close:v,sendRequest:function(k){(0,B.hu)(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(k)}};const S=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[k,O]=yield Promise.all([e.authTokenProvider_.getToken(S),e.appCheckTokenProvider_.getToken(S)]);f?Zr("getToken() completed but was canceled"):(Zr("getToken() completed. Creating connection."),e.authToken_=k&&k.accessToken,e.appCheckToken_=O&&O.token,m=new ZA(a,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,U=>{ro(U+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},u))}catch(k){e.log_("Failed to get token: "+k),f||(e.repoInfo_.nodeAdmin&&ro(k),v())}}})()}interrupt(e){Zr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Zr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,B.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Jp,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(a=>Lx(a)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Xn(e).toString();let o;if(this.listens.has(r)){const a=this.listens.get(r);o=a.get(i),a.delete(i),0===a.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Zr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Zr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,B.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+jg.replace(/\./g,"-")]=1,(0,B.uI)()?e["framework.cordova"]=1:(0,B.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Hy.getInstance().currentlyOnline();return(0,B.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class wn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new wn(t,e)}}class Zy{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new wn(Lu,t),r=new wn(Lu,e);return 0!==this.compare(i,r)}minPost(){return wn.MIN}}class Xx extends Zy{static get __EMPTY_NODE(){return Qx}static set __EMPTY_NODE(t){Qx=t}compare(t,e){return qd(t.name,e.name)}isDefinedOn(t){throw(0,B.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return wn.MIN}maxPost(){return new wn(Ul,Qx)}makePost(t,e){return(0,B.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new wn(t,Qx)}toString(){return".key"}}const Ou=new Xx;class eC{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,r&&(a*=-1),a<0)t=this.isReverse_?t.left:t.right;else{if(0===a){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let XA,Lc=(()=>{class n{constructor(e,i,r,o,a){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??ma.EMPTY_NODE,this.right=a??ma.EMPTY_NODE}copy(e,i,r,o,a){return new n(e??this.key,i??this.value,r??this.color,o??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===a?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ma.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return ma.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ma{constructor(t,e=ma.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new ma(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Lc.BLACK,null,null))}remove(t){return new ma(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Lc.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new eC(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new eC(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new eC(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new eC(this.root_,null,this.comparator_,!0,t)}}function r4(n,t){return qd(n.name,t.name)}function QA(n,t){return qd(n,t)}ma.EMPTY_NODE=new class i4{copy(t,e,i,r,o){return this}insert(t,e,i){return new Lc(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const wR=function(n){return"number"==typeof n?"number:"+SA(n):"string:"+n},tC=function(n){if(n.isLeafNode()){const t=n.val();(0,B.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,B.r3)(t,".sv"),"Priority must be a string or number.")}else(0,B.hu)(n===XA||n.isEmpty(),"priority of unexpected type.");(0,B.hu)(n===XA||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Kg,nC,DR,_f=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,B.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),tC(this.priorityNode_)}static set __childrenNodeConstructor(e){Kg=e}static get __childrenNodeConstructor(){return Kg}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pn(e)?this:".priority"===fn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=fn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,B.hu)(".priority"!==r||1===mf(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(di(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+wR(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?SA(this.value_):this.value_,this.lazyHash_=Ix(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,B.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),a=n.VALUE_TYPE_ORDER.indexOf(r);return(0,B.hu)(o>=0,"Unknown leaf type: "+i),(0,B.hu)(a>=0,"Unknown leaf type: "+r),o===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const vi=new class SR extends Zy{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?qd(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return wn.MIN}maxPost(){return new wn(Ul,new _f("[PRIORITY-POST]",DR))}makePost(t,e){const i=nC(t);return new wn(e,new _f("[PRIORITY-POST]",i))}toString(){return".priority"}},s4=Math.log(2);class AR{constructor(t){this.count=parseInt(Math.log(t+1)/s4,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const $y=function(n,t,e,i){n.sort(t);const r=function(f,m){const v=m-f;let x,S;if(0===v)return null;if(1===v)return x=n[f],S=e?e(x):x,new Lc(S,x.node,Lc.BLACK,null,null);{const k=parseInt(v/2,10)+f,O=r(f,k),U=r(k+1,m);return x=n[k],S=e?e(x):x,new Lc(S,x.node,Lc.BLACK,O,U)}},u=function(f){let m=null,v=null,x=n.length;const S=function(O,U){const V=x-O,te=x;x-=O;const re=r(V+1,te),Te=n[V],we=e?e(Te):Te;k(new Lc(we,Te.node,U,null,re))},k=function(O){m?(m.left=O,m=O):(v=O,m=O)};for(let O=0;O<f.count;++O){const U=f.nextBitIsOne(),V=Math.pow(2,f.count-(O+1));U?S(V,Lc.BLACK):(S(V,Lc.BLACK),S(V,Lc.RED))}return v}(new AR(n.length));return new ma(i||t,u)};let rC;const Ru={};class Pu{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,B.hu)(Ru&&vi,"ChildrenNode.ts has not been loaded"),rC=rC||new Pu({".priority":Ru},{".priority":vi}),rC}get(t){const e=(0,B.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof ma?e:null}hasIndex(t){return(0,B.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,B.hu)(t!==Ou,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(wn.Wrap);let u,a=o.getNext();for(;a;)r=r||t.isDefinedOn(a.node),i.push(a),a=o.getNext();u=r?$y(i,t.getCompare()):Ru;const f=t.toString(),m=Object.assign({},this.indexSet_);m[f]=t;const v=Object.assign({},this.indexes_);return v[f]=u,new Pu(v,m)}addToIndexes(t,e){const i=(0,B.UI)(this.indexes_,(r,o)=>{const a=(0,B.DV)(this.indexSet_,o);if((0,B.hu)(a,"Missing index implementation for "+o),r===Ru){if(a.isDefinedOn(t.node)){const u=[],f=e.getIterator(wn.Wrap);let m=f.getNext();for(;m;)m.name!==t.name&&u.push(m),m=f.getNext();return u.push(t),$y(u,a.getCompare())}return Ru}{const u=e.get(t.name);let f=r;return u&&(f=f.remove(new wn(t.name,u))),f.insert(t,t.node)}});return new Pu(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,B.UI)(this.indexes_,r=>{if(r===Ru)return r;{const o=e.get(t.name);return o?r.remove(new wn(t.name,o)):r}});return new Pu(i,this.indexSet_)}}let qy,cn=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&tC(this.priorityNode_),this.children_.isEmpty()&&(0,B.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return qy||(qy=new n(new ma(QA),null,Pu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qy}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?qy:i}}getChild(e){const i=fn(e);return null===i?this:this.getImmediateChild(i).getChild(di(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,B.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new wn(e,i);let o,a;i.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),a=this.indexMap_.addToIndexes(r,this.children_));const u=o.isEmpty()?qy:this.priorityNode_;return new n(o,u,a)}}updateChild(e,i){const r=fn(e);if(null===r)return i;{(0,B.hu)(".priority"!==fn(e)||1===mf(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(di(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,a=!0;if(this.forEachChild(vi,(u,f)=>{i[u]=f.val(e),r++,a&&n.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):a=!1}),!e&&a&&o<2*r){const u=[];for(const f in i)u[f]=i[f];return u}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+wR(this.getPriority().val())+":"),this.forEachChild(vi,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":Ix(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const a=o.getPredecessorKey(new wn(e,i));return a?a.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new wn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new wn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,wn.Wrap);let a=o.peek();for(;null!=a&&i.compare(a,e)<0;)o.getNext(),a=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,wn.Wrap);let a=o.peek();for(;null!=a&&i.compare(a,e)>0;)o.getNext(),a=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Jg?-1:0}withIndex(e){if(e===Ou||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Ou||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(vi),o=i.getIterator(vi);let a=r.getNext(),u=o.getNext();for(;a&&u;){if(a.name!==u.name||!a.node.equals(u.node))return!1;a=r.getNext(),u=o.getNext()}return null===a&&null===u}return!1}return!1}}resolveIndex_(e){return e===Ou?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Jg=new class o4 extends cn{constructor(){super(new ma(QA),cn.EMPTY_NODE,Pu.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return cn.EMPTY_NODE}isEmpty(){return!1}};function Gi(n,t=null){if(null===n)return cn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,B.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new _f(n,Gi(t));if(n instanceof Array){let e=cn.EMPTY_NODE;return Qr(n,(i,r)=>{if((0,B.r3)(n,i)&&"."!==i.substring(0,1)){const o=Gi(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(Gi(t))}{const e=[];let i=!1;if(Qr(n,(a,u)=>{if("."!==a.substring(0,1)){const f=Gi(u);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),e.push(new wn(a,f)))}}),0===e.length)return cn.EMPTY_NODE;const o=$y(e,r4,a=>a.name,QA);if(i){const a=$y(e,vi.getCompare());return new cn(o,Gi(t),new Pu({".priority":a},{".priority":vi}))}return new cn(o,Gi(t),Pu.Default)}}Object.defineProperties(wn,{MIN:{value:new wn(Lu,cn.EMPTY_NODE)},MAX:{value:new wn(Ul,Jg)}}),Xx.__EMPTY_NODE=cn.EMPTY_NODE,_f.__childrenNodeConstructor=cn,function Gy(n){XA=n}(Jg),function eE(n){DR=n}(Jg),function iC(n){nC=n}(Gi);class tE extends Zy{constructor(t){super(),this.indexPath_=t,(0,B.hu)(!pn(t)&&".priority"!==fn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?qd(t.name,e.name):o}makePost(t,e){const i=Gi(t),r=cn.EMPTY_NODE.updateChild(this.indexPath_,i);return new wn(e,r)}maxPost(){const t=cn.EMPTY_NODE.updateChild(this.indexPath_,Jg);return new wn(Ul,t)}toString(){return Nc(this.indexPath_,0).join("/")}}const Wy=new class kR extends Zy{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?qd(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return wn.MIN}maxPost(){return wn.MAX}makePost(t,e){const i=Gi(t);return new wn(e,i)}toString(){return".value"}},vf="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",sC=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=vf.charAt(e%64),e=Math.floor(e/64);(0,B.hu)(0===e,"Cannot push at time == 0");let a=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=vf.charAt(t[r]);return(0,B.hu)(20===a.length,"nextPushId: Length should be 20."),a}}(),rE=function(n){if(n===""+Iy)return"-";const t=$g(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let a=0;a<e.length;a++)e[a]=n.charAt(a);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return Ul;const o=vf.charAt(vf.indexOf(e[i])+1);return e[i]=o,e.slice(0,i+1).join("")},Uo=function(n){if(n===""+Ox)return Lu;const t=$g(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+Iy:(delete e[e.length-1],e.join("")):(e[e.length-1]=vf.charAt(vf.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function sE(n){return{type:"value",snapshotNode:n}}function zd(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Qg(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Xg(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class zy{constructor(t){this.index_=t}updateChild(t,e,i,r,o,a){(0,B.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=t.getImmediateChild(e);return u.getChild(r).equals(i.getChild(r))&&u.isEmpty()===i.isEmpty()||(null!=a&&(i.isEmpty()?t.hasChild(e)?a.trackChildChange(Qg(e,u)):(0,B.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(zd(e,i)):a.trackChildChange(Xg(e,i,u))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(vi,(r,o)=>{e.hasChild(r)||i.trackChildChange(Qg(r,o))}),e.isLeafNode()||e.forEachChild(vi,(r,o)=>{if(t.hasChild(r)){const a=t.getImmediateChild(r);a.equals(o)||i.trackChildChange(Xg(r,o,a))}else i.trackChildChange(zd(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?cn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Qp{constructor(t){this.indexedFilter_=new zy(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Qp.getStartPost_(t),this.endPost_=Qp.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,o,a){return this.matches(new wn(e,i))||(i=cn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,a)}updateFullNode(t,e,i){e.isLeafNode()&&(e=cn.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(cn.EMPTY_NODE);const o=this;return e.forEachChild(vi,(a,u)=>{o.matches(new wn(a,u))||(r=r.updateImmediateChild(a,cn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class MR{constructor(t){this.rangedFilter_=new Qp(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,o,a){return this.rangedFilter_.matches(new wn(e,i))||(i=cn.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,a):this.fullLimitUpdateChild_(t,e,i,o,a)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=cn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=cn.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;o.hasNext()&&a<this.limit_;){const u=o.getNext();let f;if(f=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),u)<=0:this.index_.compare(u,this.rangedFilter_.getEndPost())<=0,!f)break;r=r.updateImmediateChild(u.name,u.node),a++}}else{let o,a,u,f;if(r=e.withIndex(this.index_),r=r.updatePriority(cn.EMPTY_NODE),this.reverse_){f=r.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),a=this.rangedFilter_.getStartPost();const x=this.index_.getCompare();u=(S,k)=>x(k,S)}else f=r.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),a=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();let m=0,v=!1;for(;f.hasNext();){const x=f.getNext();!v&&u(o,x)<=0&&(v=!0),v&&m<this.limit_&&u(x,a)<=0?m++:r=r.updateImmediateChild(x.name,cn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let a;if(this.reverse_){const x=this.index_.getCompare();a=(S,k)=>x(k,S)}else a=this.index_.getCompare();const u=t;(0,B.hu)(u.numChildren()===this.limit_,"");const f=new wn(e,i),m=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),v=this.rangedFilter_.matches(f);if(u.hasChild(e)){const x=u.getImmediateChild(e);let S=r.getChildAfterChild(this.index_,m,this.reverse_);for(;null!=S&&(S.name===e||u.hasChild(S.name));)S=r.getChildAfterChild(this.index_,S,this.reverse_);const k=null==S?1:a(S,f);if(v&&!i.isEmpty()&&k>=0)return o?.trackChildChange(Xg(e,i,x)),u.updateImmediateChild(e,i);{o?.trackChildChange(Qg(e,x));const U=u.updateImmediateChild(e,cn.EMPTY_NODE);return null!=S&&this.rangedFilter_.matches(S)?(o?.trackChildChange(zd(S.name,S.node)),U.updateImmediateChild(S.name,S.node)):U}}return i.isEmpty()?t:v&&a(m,f)>=0?(null!=o&&(o.trackChildChange(Qg(m.name,m.node)),o.trackChildChange(zd(e,i))),u.updateImmediateChild(e,i).updateImmediateChild(m.name,cn.EMPTY_NODE)):t}}class e_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=vi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Lu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ul}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,B.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===vi}copy(){const t=new e_;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function aC(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function Oc(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function Xp(n,t){const e=n.copy();return e.index_=t,e}function Rc(n){const t={};if(n.isDefault())return t;let e;return n.index_===vi?e="$priority":n.index_===Wy?e="$value":n.index_===Ou?e="$key":((0,B.hu)(n.index_ instanceof tE,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,B.Pz)(e),n.startSet_&&(t.startAt=(0,B.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,B.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,B.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,B.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function cE(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==vi&&(t.i=n.index_.toString()),t}class cC extends GA{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=ky("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,B.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const a=cC.getListenId_(t,i),u={};this.listens_[a]=u;const f=Rc(t._queryParams);this.restRequest_(o+".json",f,(m,v)=>{let x=v;if(404===m&&(x=null,m=null),null===m&&this.onDataUpdate_(o,x,!1,i),(0,B.DV)(this.listens_,a)===u){let S;S=m?401===m?"permission_denied":"rest_error:"+m:"ok",r(S,null)}})}unlisten(t,e){const i=cC.getListenId_(t,e);delete this.listens_[i]}get(t){const e=Rc(t._queryParams),i=t._path.toString(),r=new B.BH;return this.restRequest_(i+".json",e,(o,a)=>{let u=a;404===o&&(u=null,o=null),null===o?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,B.xO)(e);this.log_("Sending REST request for "+a);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&4===u.readyState){this.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);let f=null;if(u.status>=200&&u.status<300){try{f=(0,B.cI)(u.responseText)}catch{ro("Failed to parse JSON response for "+a+": "+u.responseText)}i(null,f)}else 401!==u.status&&404!==u.status&&ro("Got unsuccessful REST response for "+a+" Status: "+u.status),i(u.status);i=null}},u.open("GET",a,!0),u.send()})}}class NR{constructor(){this.rootNode_=cn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Ky(){return{value:null,children:new Map}}function em(n,t,e){if(pn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=fn(t);n.children.has(i)||n.children.set(i,Ky()),em(n.children.get(i),t=di(t),e)}}function uC(n,t){if(pn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(vi,(i,r)=>{em(n,new Xn(i),r)}),uC(n,t)}}if(n.children.size>0){const e=fn(t);return t=di(t),n.children.has(e)&&uC(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Jy(n,t,e){null!==n.value?e(t,n.value):function a4(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{Jy(r,new Xn(t.toString()+"/"+i),e)})}class uE{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Qr(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class dC{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new uE(t);const i=1e4+2e4*Math.random();qg(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Qr(t,(r,o)=>{o>0&&(0,B.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),qg(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ga=(()=>{return(n=ga||(ga={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",ga;var n})();function Xy(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class t_{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=ga.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(pn(this.path)){if(null!=this.affectedTree.value)return(0,B.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Xn(t));return new t_(Ln(),e,this.revert)}}return(0,B.hu)(fn(this.path)===t,"operationForChild called for unrelated child."),new t_(di(this.path),this.affectedTree,this.revert)}}class Kd{constructor(t,e){this.source=t,this.path=e,this.type=ga.LISTEN_COMPLETE}operationForChild(t){return pn(this.path)?new Kd(this.source,Ln()):new Kd(this.source,di(this.path))}}class Pc{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=ga.OVERWRITE}operationForChild(t){return pn(this.path)?new Pc(this.source,Ln(),this.snap.getImmediateChild(t)):new Pc(this.source,di(this.path),this.snap)}}class yf{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=ga.MERGE}operationForChild(t){if(pn(this.path)){const e=this.children.subtree(new Xn(t));return e.isEmpty()?null:e.value?new Pc(this.source,Ln(),e.value):new yf(this.source,Ln(),e)}return(0,B.hu)(fn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new yf(this.source,di(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Jd{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(pn(t))return this.isFullyInitialized()&&!this.filtered_;const e=fn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class fE{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function n_(n,t,e,i,r,o){const a=i.filter(u=>u.type===e);a.sort((u,f)=>function c4(n,t,e){if(null==t.childName||null==e.childName)throw(0,B.g5)("Should only compare child_ events.");const i=new wn(t.childName,t.snapshotNode),r=new wn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,u,f)),a.forEach(u=>{const f=function LR(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,u,o);r.forEach(m=>{m.respondsTo(u.type)&&t.push(m.createEvent(f,n.query_))})})}function fC(n,t){return{eventCache:n,serverCache:t}}function tm(n,t,e,i){return fC(new Jd(t,e,i),n.serverCache)}function mE(n,t,e,i){return fC(n.eventCache,new Jd(t,e,i))}function e0(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function bf(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let gE;class Ni{constructor(t,e=(()=>(gE||(gE=new ma(wA)),gE))()){this.value=t,this.children=e}static fromObject(t){let e=new Ni(null);return Qr(t,(i,r)=>{e=e.set(new Xn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Ln(),value:this.value};if(pn(t))return null;{const i=fn(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(di(t),e);return null!=o?{path:Ii(new Xn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(pn(t))return this;{const e=fn(t),i=this.children.get(e);return null!==i?i.subtree(di(t)):new Ni(null)}}set(t,e){if(pn(t))return new Ni(e,this.children);{const i=fn(t),o=(this.children.get(i)||new Ni(null)).set(di(t),e),a=this.children.insert(i,o);return new Ni(this.value,a)}}remove(t){if(pn(t))return this.children.isEmpty()?new Ni(null):new Ni(null,this.children);{const e=fn(t),i=this.children.get(e);if(i){const r=i.remove(di(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new Ni(null):new Ni(this.value,o)}return this}}get(t){if(pn(t))return this.value;{const e=fn(t),i=this.children.get(e);return i?i.get(di(t)):null}}setTree(t,e){if(pn(t))return e;{const i=fn(t),o=(this.children.get(i)||new Ni(null)).setTree(di(t),e);let a;return a=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new Ni(this.value,a)}}fold(t){return this.fold_(Ln(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Ii(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Ln(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(pn(t))return null;{const o=fn(t),a=this.children.get(o);return a?a.findOnPath_(di(t),Ii(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Ln(),e)}foreachOnPath_(t,e,i){if(pn(t))return this;{this.value&&i(e,this.value);const r=fn(t),o=this.children.get(r);return o?o.foreachOnPath_(di(t),Ii(e,r),i):new Ni(null)}}foreach(t){this.foreach_(Ln(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Ii(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Fc{constructor(t){this.writeTree_=t}static empty(){return new Fc(new Ni(null))}}function t0(n,t,e){if(pn(t))return new Fc(new Ni(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const a=Bo(r,t);return o=o.updateChild(a,e),new Fc(n.writeTree_.set(r,o))}{const r=new Ni(e),o=n.writeTree_.setTree(t,r);return new Fc(o)}}}function pC(n,t,e){let i=n;return Qr(e,(r,o)=>{i=t0(i,Ii(t,r),o)}),i}function i_(n,t){if(pn(t))return Fc.empty();{const e=n.writeTree_.setTree(t,new Ni(null));return new Fc(e)}}function mC(n,t){return null!=xf(n,t)}function xf(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Bo(e.path,t)):null}function gC(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(vi,(i,r)=>{t.push(new wn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new wn(i,r.value))}),t}function Ho(n,t){if(pn(t))return n;{const e=xf(n,t);return new Fc(null!=e?new Ni(e):n.writeTree_.subtree(t))}}function n0(n){return n.writeTree_.isEmpty()}function Qd(n,t){return r0(Ln(),n.writeTree_,t)}function r0(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,B.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=r0(Ii(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Ii(n,".priority"),i)),e}}function s0(n,t){return xE(t,n)}function h4(n,t){if(n.snap)return Ka(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ka(Ii(n.path,e),t))return!0;return!1}function p4(n){return n.visible}function yC(n,t,e){let i=Fc.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const a=o.path;let u;if(o.snap)Ka(e,a)?(u=Bo(e,a),i=t0(i,u,o.snap)):Ka(a,e)&&(u=Bo(a,e),i=t0(i,Ln(),o.snap.getChild(u)));else{if(!o.children)throw(0,B.g5)("WriteRecord should have .snap or .children");if(Ka(e,a))u=Bo(e,a),i=pC(i,u,o.children);else if(Ka(a,e))if(u=Bo(a,e),pn(u))i=pC(i,Ln(),o.children);else{const f=(0,B.DV)(o.children,fn(u));if(f){const m=f.getChild(di(u));i=t0(i,Ln(),m)}}}}}return i}function _E(n,t,e,i,r){if(i||r){const o=Ho(n.visibleWrites,t);return!r&&n0(o)?e:r||null!=e||mC(o,Ln())?Qd(yC(n.allWrites,function(m){return(m.visible||r)&&(!i||!~i.indexOf(m.writeId))&&(Ka(m.path,t)||Ka(t,m.path))},t),e||cn.EMPTY_NODE):null}{const o=xf(n.visibleWrites,t);if(null!=o)return o;{const a=Ho(n.visibleWrites,t);return n0(a)?e:null!=e||mC(a,Ln())?Qd(a,e||cn.EMPTY_NODE):null}}}function a0(n,t,e,i){return _E(n.writeTree,n.treePath,t,e,i)}function bC(n,t){return function OR(n,t,e){let i=cn.EMPTY_NODE;const r=xf(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(vi,(o,a)=>{i=i.updateImmediateChild(o,a)}),i;if(e){const o=Ho(n.visibleWrites,t);return e.forEachChild(vi,(a,u)=>{const f=Qd(Ho(o,new Xn(a)),u);i=i.updateImmediateChild(a,f)}),gC(o).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}return gC(Ho(n.visibleWrites,t)).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}(n.writeTree,n.treePath,t)}function xC(n,t,e,i){return function RR(n,t,e,i,r){(0,B.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Ii(t,e);if(mC(n.visibleWrites,o))return null;{const a=Ho(n.visibleWrites,o);return n0(a)?r.getChild(e):Qd(a,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function nm(n,t){return function vE(n,t){return xf(n.visibleWrites,t)}(n.writeTree,Ii(n.treePath,t))}function l0(n,t,e){return function PR(n,t,e,i){const r=Ii(t,e),o=xf(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?Qd(Ho(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function c0(n,t){return xE(Ii(n.treePath,t),n.writeTree)}function xE(n,t){return{treePath:n,writeTree:t}}class FR{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,B.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,B.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,Xg(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,Qg(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,zd(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,B.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,Xg(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const VR=new class g4{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class CC{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Jd(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return l0(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:bf(this.viewCache_),o=function m4(n,t,e,i,r,o){return function yE(n,t,e,i,r,o,a){let u;const f=Ho(n.visibleWrites,t),m=xf(f,Ln());if(null!=m)u=m;else{if(null==e)return[];u=Qd(f,e)}if(u=u.withIndex(a),u.isEmpty()||u.isLeafNode())return[];{const v=[],x=a.getCompare(),S=o?u.getReverseIteratorFrom(i,a):u.getIteratorFrom(i,a);let k=S.getNext();for(;k&&v.length<r;)0!==x(k,i)&&v.push(k),k=S.getNext();return v}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function HR(n,t,e,i,r,o){const a=t.eventCache;if(null!=nm(i,e))return t;{let u,f;if(pn(e))if((0,B.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const m=bf(t),x=bC(i,m instanceof cn?m:cn.EMPTY_NODE);u=n.filter.updateFullNode(t.eventCache.getNode(),x,o)}else{const m=a0(i,bf(t));u=n.filter.updateFullNode(t.eventCache.getNode(),m,o)}else{const m=fn(e);if(".priority"===m){(0,B.hu)(1===mf(e),"Can't have a priority with additional path components");const v=a.getNode();f=t.serverCache.getNode();const x=xC(i,e,v,f);u=null!=x?n.filter.updatePriority(v,x):a.getNode()}else{const v=di(e);let x;if(a.isCompleteForChild(m)){f=t.serverCache.getNode();const S=xC(i,e,a.getNode(),f);x=null!=S?a.getNode().getImmediateChild(m).updateChild(v,S):a.getNode().getImmediateChild(m)}else x=l0(i,m,t.serverCache);u=null!=x?n.filter.updateChild(a.getNode(),m,x,v,r,o):a.getNode()}}return tm(t,u,a.isFullyInitialized()||pn(e),n.filter.filtersNodes())}}function TC(n,t,e,i,r,o,a,u){const f=t.serverCache;let m;const v=a?n.filter:n.filter.getIndexedFilter();if(pn(e))m=v.updateFullNode(f.getNode(),i,null);else if(v.filtersNodes()&&!f.isFiltered()){const k=f.getNode().updateChild(e,i);m=v.updateFullNode(f.getNode(),k,null)}else{const k=fn(e);if(!f.isCompleteForPath(e)&&mf(e)>1)return t;const O=di(e),V=f.getNode().getImmediateChild(k).updateChild(O,i);m=".priority"===k?v.updatePriority(f.getNode(),V):v.updateChild(f.getNode(),k,V,O,VR,null)}const x=mE(t,m,f.isFullyInitialized()||pn(e),v.filtersNodes());return HR(n,x,e,r,new CC(r,x,o),u)}function CE(n,t,e,i,r,o,a){const u=t.eventCache;let f,m;const v=new CC(r,t,o);if(pn(e))m=n.filter.updateFullNode(t.eventCache.getNode(),i,a),f=tm(t,m,!0,n.filter.filtersNodes());else{const x=fn(e);if(".priority"===x)m=n.filter.updatePriority(t.eventCache.getNode(),i),f=tm(t,m,u.isFullyInitialized(),u.isFiltered());else{const S=di(e),k=u.getNode().getImmediateChild(x);let O;if(pn(S))O=i;else{const U=v.getCompleteChild(x);O=null!=U?".priority"===Wx(S)&&U.getChild(qA(S)).isEmpty()?U:U.updateChild(S,i):cn.EMPTY_NODE}f=k.equals(O)?t:tm(t,n.filter.updateChild(u.getNode(),x,O,S,v,a),u.isFullyInitialized(),n.filter.filtersNodes())}}return f}function TE(n,t){return n.eventCache.isCompleteForChild(t)}function YR(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function wE(n,t,e,i,r,o,a,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m,f=t;m=pn(e)?i:new Ni(null).setTree(e,i);const v=t.serverCache.getNode();return m.children.inorderTraversal((x,S)=>{if(v.hasChild(x)){const O=YR(0,t.serverCache.getNode().getImmediateChild(x),S);f=TC(n,f,new Xn(x),O,r,o,a,u)}}),m.children.inorderTraversal((x,S)=>{const k=!t.serverCache.isCompleteForChild(x)&&void 0===S.value;if(!v.hasChild(x)&&!k){const U=YR(0,t.serverCache.getNode().getImmediateChild(x),S);f=TC(n,f,new Xn(x),U,r,o,a,u)}}),f}class l{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new zy(i.getIndex()),o=function oE(n){return n.loadsAllData()?new zy(n.getIndex()):n.hasLimit()?new MR(n):new Qp(n)}(i);this.processor_=function BR(n){return{filter:n}}(o);const a=e.serverCache,u=e.eventCache,f=r.updateFullNode(cn.EMPTY_NODE,a.getNode(),null),m=o.updateFullNode(cn.EMPTY_NODE,u.getNode(),null),v=new Jd(f,a.isFullyInitialized(),r.filtersNodes()),x=new Jd(m,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=fC(x,v),this.eventGenerator_=new fE(this.query_)}get query(){return this.query_}}function h(n,t){const e=bf(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!pn(t)&&!e.getImmediateChild(fn(t)).isEmpty())?e.getChild(t):null}function p(n){return 0===n.eventRegistrations_.length}function b(n,t,e){const i=[];if(e){(0,B.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const a=o.createCancelEvent(e,r);a&&i.push(a)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const a=n.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(a)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function T(n,t,e,i){t.type===ga.MERGE&&null!==t.source.queryId&&((0,B.hu)(bf(n.viewCache_),"We should always have a full cache before handling merges"),(0,B.hu)(e0(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function _4(n,t,e,i,r){const o=new FR;let a,u;if(e.type===ga.OVERWRITE){const m=e;m.source.fromUser?a=CE(n,t,m.path,m.snap,i,r,o):((0,B.hu)(m.source.fromServer,"Unknown source."),u=m.source.tagged||t.serverCache.isFiltered()&&!pn(m.path),a=TC(n,t,m.path,m.snap,i,r,u,o))}else if(e.type===ga.MERGE){const m=e;m.source.fromUser?a=function y4(n,t,e,i,r,o,a){let u=t;return i.foreach((f,m)=>{const v=Ii(e,f);TE(t,fn(v))&&(u=CE(n,u,v,m,r,o,a))}),i.foreach((f,m)=>{const v=Ii(e,f);TE(t,fn(v))||(u=CE(n,u,v,m,r,o,a))}),u}(n,t,m.path,m.children,i,r,o):((0,B.hu)(m.source.fromServer,"Unknown source."),u=m.source.tagged||t.serverCache.isFiltered(),a=wE(n,t,m.path,m.children,i,r,u,o))}else if(e.type===ga.ACK_USER_WRITE){const m=e;a=m.revert?function x4(n,t,e,i,r,o){let a;if(null!=nm(i,e))return t;{const u=new CC(i,t,r),f=t.eventCache.getNode();let m;if(pn(e)||".priority"===fn(e)){let v;if(t.serverCache.isFullyInitialized())v=a0(i,bf(t));else{const x=t.serverCache.getNode();(0,B.hu)(x instanceof cn,"serverChildren would be complete if leaf node"),v=bC(i,x)}m=n.filter.updateFullNode(f,v,o)}else{const v=fn(e);let x=l0(i,v,t.serverCache);null==x&&t.serverCache.isCompleteForChild(v)&&(x=f.getImmediateChild(v)),m=null!=x?n.filter.updateChild(f,v,x,di(e),u,o):t.eventCache.getNode().hasChild(v)?n.filter.updateChild(f,v,cn.EMPTY_NODE,di(e),u,o):f,m.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=a0(i,bf(t)),a.isLeafNode()&&(m=n.filter.updateFullNode(m,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=nm(i,Ln()),tm(t,m,a,n.filter.filtersNodes())}}(n,t,m.path,i,r,o):function b4(n,t,e,i,r,o,a){if(null!=nm(r,e))return t;const u=t.serverCache.isFiltered(),f=t.serverCache;if(null!=i.value){if(pn(e)&&f.isFullyInitialized()||f.isCompleteForPath(e))return TC(n,t,e,f.getNode().getChild(e),r,o,u,a);if(pn(e)){let m=new Ni(null);return f.getNode().forEachChild(Ou,(v,x)=>{m=m.set(new Xn(v),x)}),wE(n,t,e,m,r,o,u,a)}return t}{let m=new Ni(null);return i.foreach((v,x)=>{const S=Ii(e,v);f.isCompleteForPath(S)&&(m=m.set(v,f.getNode().getChild(S)))}),wE(n,t,e,m,r,o,u,a)}}(n,t,m.path,m.affectedTree,i,r,o)}else{if(e.type!==ga.LISTEN_COMPLETE)throw(0,B.g5)("Unknown operation type: "+e.type);a=function jR(n,t,e,i,r){const o=t.serverCache;return HR(n,mE(t,o.getNode(),o.isFullyInitialized()||pn(e),o.isFiltered()),e,i,VR,r)}(n,t,e.path,i,o)}const f=o.getChanges();return function v4(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=e0(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(sE(e0(t)))}}(t,a,f),{viewCache:a,changes:f}}(n.processor_,r,t,e,i);return function UR(n,t){(0,B.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,B.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,B.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,M(n,o.changes,o.viewCache.eventCache.getNode(),null)}function M(n,t,e,i){return function pE(n,t,e,i){const r=[],o=[];return t.forEach(a=>{"child_changed"===a.type&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(function oC(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(a.childName,a.snapshotNode))}),n_(n,r,"child_removed",t,i,e),n_(n,r,"child_added",t,i,e),n_(n,r,"child_moved",o,i,e),n_(n,r,"child_changed",t,i,e),n_(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let R,rm;class Y{constructor(){this.views=new Map}}function Ye(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,B.hu)(null!=o,"SyncTree gave us an op for an invalid query."),T(o,t,e,i)}{let o=[];for(const a of n.views.values())o=o.concat(T(a,t,e,i));return o}}function at(n,t,e,i,r){const a=n.views.get(t._queryIdentifier);if(!a){let u=a0(e,r?i:null),f=!1;u?f=!0:i instanceof cn?(u=bC(e,i),f=!1):(u=cn.EMPTY_NODE,f=!1);const m=fC(new Jd(u,f,!1),new Jd(i,r,!1));return new l(t,m)}return a}function He(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Et(n,t){let e=null;for(const i of n.views.values())e=e||h(i,t);return e}function An(n,t){return t._queryParams.loadsAllData()?im(n):n.views.get(t._queryIdentifier)}function Ti(n,t){return null!=An(n,t)}function Yo(n){return null!=im(n)}function im(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let SC=1;class u0{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ni(null),this.pendingWriteTree_=function bE(){return{visibleWrites:Fc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function r_(n,t,e,i,r){return function _C(n,t,e,i,r){(0,B.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=t0(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?d0(n,new Pc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Vc(n,t,e=!1){const i=function o0(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function d4(n,t){const e=n.allWrites.findIndex(u=>u.writeId===t);(0,B.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,a=n.allWrites.length-1;for(;r&&a>=0;){const u=n.allWrites[a];u.visible&&(a>=e&&h4(u,i.path)?r=!1:Ka(i.path,u.path)&&(o=!0)),a--}return!!r&&(o?(function f4(n){n.visibleWrites=yC(n.allWrites,p4,Ln()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=i_(n.visibleWrites,i.path):Qr(i.children,f=>{n.visibleWrites=i_(n.visibleWrites,Ii(i.path,f))}),!0))}(n.pendingWriteTree_,t)){let o=new Ni(null);return null!=i.snap?o=o.set(Ln(),!0):Qr(i.children,a=>{o=o.set(new Xn(a),!0)}),d0(n,new t_(i.path,o,e))}return[]}function EC(n,t,e){return d0(n,new Pc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function ZR(n,t,e,i){const r=t._path,o=n.syncPointTree_.get(r);let a=[];if(o&&("default"===t._queryIdentifier||Ti(o,t))){const u=function Lt(n,t,e,i){const r=t._queryIdentifier,o=[];let a=[];const u=Yo(n);if("default"===r)for(const[f,m]of n.views.entries())a=a.concat(b(m,e,i)),p(m)&&(n.views.delete(f),m.query._queryParams.loadsAllData()||o.push(m.query));else{const f=n.views.get(r);f&&(a=a.concat(b(f,e,i)),p(f)&&(n.views.delete(r),f.query._queryParams.loadsAllData()||o.push(f.query)))}return u&&!Yo(n)&&o.push(new(function le(){return(0,B.hu)(R,"Reference.ts has not been loaded"),R}())(t._repo,t._path)),{removed:o,events:a}}(o,t,e,i);(function Oe(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const f=u.removed;a=u.events;const m=-1!==f.findIndex(x=>x._queryParams.loadsAllData()),v=n.syncPointTree_.findOnPath(r,(x,S)=>Yo(S));if(m&&!v){const x=n.syncPointTree_.subtree(r);if(!x.isEmpty()){const S=function gJ(n){return n.fold((t,e,i)=>{if(e&&Yo(e))return[im(e)];{let r=[];return e&&(r=He(e)),Qr(i,(o,a)=>{r=r.concat(a)}),r}})}(x);for(let k=0;k<S.length;++k){const O=S[k],U=O.query,V=D4(n,O);n.listenProvider_.startListening(kC(U),SE(n,U),V.hashFn,V.onComplete)}}}!v&&f.length>0&&!i&&(m?n.listenProvider_.stopListening(kC(t),null):f.forEach(x=>{const S=n.queryToTagMap.get(AE(x));n.listenProvider_.stopListening(kC(x),S)})),function _J(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=AE(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,f)}return a}function C4(n,t,e){const i=t._path;let r=null,o=!1;n.syncPointTree_.foreachOnPath(i,(x,S)=>{const k=Bo(x,i);r=r||Et(S,k),o=o||Yo(S)});let u,a=n.syncPointTree_.get(i);a?(o=o||Yo(a),r=r||Et(a,Ln())):(a=new Y,n.syncPointTree_=n.syncPointTree_.set(i,a)),null!=r?u=!0:(u=!1,r=cn.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((S,k)=>{const O=Et(k,Ln());O&&(r=r.updateImmediateChild(S,O))}));const f=Ti(a,t);if(!f&&!t._queryParams.loadsAllData()){const x=AE(t);(0,B.hu)(!n.queryToTagMap.has(x),"View does not exist, but we have a tag");const S=function vJ(){return SC++}();n.queryToTagMap.set(x,S),n.tagToQueryMap.set(S,x)}let v=function gt(n,t,e,i,r,o){const a=at(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,a),function g(n,t){n.eventRegistrations_.push(t)}(a,e),function D(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(vi,(o,a)=>{i.push(zd(o,a))}),e.isFullyInitialized()&&i.push(sE(e.getNode())),M(n,i,e.getNode(),t)}(a,e)}(a,t,e,s0(n.pendingWriteTree_,i),r,u);if(!f&&!o){const x=An(a,t);v=v.concat(function yJ(n,t,e){const i=t._path,r=SE(n,t),o=D4(n,e),a=n.listenProvider_.startListening(kC(t),r,o.hashFn,o.onComplete),u=n.syncPointTree_.subtree(i);if(r)(0,B.hu)(!Yo(u.value),"If we're adding a query, it shouldn't be shadowed");else{const f=u.fold((m,v,x)=>{if(!pn(m)&&v&&Yo(v))return[im(v).query];{let S=[];return v&&(S=S.concat(He(v).map(k=>k.query))),Qr(x,(k,O)=>{S=S.concat(O)}),S}});for(let m=0;m<f.length;++m){const v=f[m];n.listenProvider_.stopListening(kC(v),SE(n,v))}}return a}(n,t,x))}return v}function DE(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(a,u)=>{const m=Et(u,Bo(a,t));if(m)return m});return _E(r,t,o,e,!0)}function d0(n,t){return T4(t,n.syncPointTree_,null,s0(n.pendingWriteTree_,Ln()))}function T4(n,t,e,i){if(pn(n.path))return w4(n,t,e,i);{const r=t.get(Ln());null==e&&null!=r&&(e=Et(r,Ln()));let o=[];const a=fn(n.path),u=n.operationForChild(a),f=t.children.get(a);if(f&&u){const m=e?e.getImmediateChild(a):null,v=c0(i,a);o=o.concat(T4(u,f,m,v))}return r&&(o=o.concat(Ye(r,n,i,e))),o}}function w4(n,t,e,i){const r=t.get(Ln());null==e&&null!=r&&(e=Et(r,Ln()));let o=[];return t.children.inorderTraversal((a,u)=>{const f=e?e.getImmediateChild(a):null,m=c0(i,a),v=n.operationForChild(a);v&&(o=o.concat(w4(v,u,f,m)))}),r&&(o=o.concat(Ye(r,n,i,e))),o}function D4(n,t){const e=t.query,i=SE(n,e);return{hashFn:()=>(function c(n){return n.viewCache_.serverCache.getNode()}(t)||cn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function hJ(n,t,e){const i=GR(n,e);if(i){const r=$R(i),o=r.path,a=r.queryId,u=Bo(o,t);return qR(n,o,new Kd(Xy(a),u))}return[]}(n,e._path,i):function dJ(n,t){return d0(n,new Kd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function Gg(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return ZR(n,e,null,o)}}}}function SE(n,t){const e=AE(t);return n.queryToTagMap.get(e)}function AE(n){return n._path.toString()+"$"+n._queryIdentifier}function GR(n,t){return n.tagToQueryMap.get(t)}function $R(n){const t=n.indexOf("$");return(0,B.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Xn(n.substr(0,t))}}function qR(n,t,e){const i=n.syncPointTree_.get(t);return(0,B.hu)(i,"Missing sync point for query tag that we're tracking"),Ye(i,e,s0(n.pendingWriteTree_,t),null)}function kC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function DC(){return(0,B.hu)(rm,"Reference.ts has not been loaded"),rm}())(n._repo,n._path):n}class WR{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new WR(e)}node(){return this.node_}}class zR{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Ii(this.path_,t);return new zR(this.syncTree_,e)}node(){return DE(this.syncTree_,this.path_)}}const S4=function(n,t,e){return n&&"object"==typeof n?((0,B.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?xJ(n[".sv"],t,e):"object"==typeof n[".sv"]?CJ(n[".sv"],t):void(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},xJ=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,B.hu)(!1,"Unexpected server value: "+n)},CJ=function(n,t,e){n.hasOwnProperty("increment")||(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,B.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,B.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return"number"!=typeof a?i:a+i},A4=function(n,t,e,i){return JR(t,new zR(e,n),i)},KR=function(n,t,e){return JR(n,new WR(t),e)};function JR(n,t,e){const i=n.getPriority().val(),r=S4(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const a=n,u=S4(a.getValue(),t,e);return u!==a.getValue()||r!==a.getPriority().val()?new _f(u,Gi(r)):n}{const a=n;return o=a,r!==a.getPriority().val()&&(o=o.updatePriority(new _f(r))),a.forEachChild(vi,(u,f)=>{const m=JR(f,t.getImmediateChild(u),e);m!==f&&(o=o.updateImmediateChild(u,m))}),o}}class QR{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function EE(n,t){let e=t instanceof Xn?t:new Xn(t),i=n,r=fn(e);for(;null!==r;){const o=(0,B.DV)(i.node.children,r)||{children:{},childCount:0};i=new QR(r,i,o),e=di(e),r=fn(e)}return i}function s_(n){return n.node.value}function XR(n,t){n.node.value=t,eP(n)}function E4(n){return n.node.childCount>0}function kE(n,t){Qr(n.node.children,(e,i)=>{t(new QR(e,n,i))})}function k4(n,t,e,i){e&&!i&&t(n),kE(n,r=>{k4(r,t,!0,i)}),e&&i&&t(n)}function MC(n){return new Xn(null===n.parent?n.name:MC(n.parent)+"/"+n.name)}function eP(n){null!==n.parent&&function DJ(n,t,e){const i=function TJ(n){return void 0===s_(n)&&!E4(n)}(e),r=(0,B.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,eP(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,eP(n))}(n.parent,n.name,n)}const SJ=/[\[\].#$\/\u0000-\u001F\u007F]/,AJ=/[\[\].#$\u0000-\u001F\u007F]/,tP=10485760,ME=function(n){return"string"==typeof n&&0!==n.length&&!SJ.test(n)},M4=function(n){return"string"==typeof n&&0!==n.length&&!AJ.test(n)},IC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Nx(n)||n&&"object"==typeof n&&(0,B.r3)(n,".sv")},Xd=function(n,t,e,i){i&&void 0===t||NC((0,B.gK)(n,"value"),t,e)},NC=function(n,t,e){const i=e instanceof Xn?new yR(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+gf(i));if("function"==typeof t)throw new Error(n+"contains a function "+gf(i)+" with contents = "+t.toString());if(Nx(t))throw new Error(n+"contains "+t.toString()+" "+gf(i));if("string"==typeof t&&t.length>tP/3&&(0,B.ug)(t)>tP)throw new Error(n+"contains a string greater than "+tP+" utf8 bytes "+gf(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(Qr(t,(a,u)=>{if(".value"===a)r=!0;else if(".priority"!==a&&".sv"!==a&&(o=!0,!ME(a)))throw new Error(n+" contains an invalid key ("+a+") "+gf(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function bR(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,B.ug)(t),zx(n)})(i,a),NC(n,u,i),function zA(n){const t=n.parts_.pop();n.byteLength_-=(0,B.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+gf(i)+" in addition to actual children.")}},I4=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,B.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];Qr(t,(a,u)=>{const f=new Xn(a);if(NC(r,u,Ii(e,f)),".priority"===Wx(f)&&!IC(u))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(f)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=Nc(i);for(let a=0;a<o.length;a++)if((".priority"!==o[a]||a!==o.length-1)&&!ME(o[a]))throw new Error(n+"contains an invalid key ("+o[a]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(vR);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Ka(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},nP=function(n,t,e){if(!e||void 0!==t){if(Nx(t))throw new Error((0,B.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!IC(t))throw new Error((0,B.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},LC=function(n,t,e,i){if(!(i&&void 0===e||ME(e)))throw new Error((0,B.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},OC=function(n,t,e,i){if(!(i&&void 0===e||M4(e)))throw new Error((0,B.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Bc=function(n,t){if(".info"===fn(t))throw new Error(n+" failed = Can't modify data under /.info/")},N4=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!ME(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),M4(n)}(e))throw new Error((0,B.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class IJ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function IE(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!WA(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function iP(n,t,e){IE(n,e),L4(n,i=>WA(i,t))}function Uc(n,t,e){IE(n,e),L4(n,i=>Ka(i,t)||Ka(t,i))}function L4(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(NJ(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function NJ(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();df&&Zr("event: "+e.toString()),hf(i)}}}const O4="repo_interrupt";class OJ{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new IJ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ky(),this.transactionQueueTree_=new QR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function R4(n){const e=n.infoData_.getNode(new Xn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function RC(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:R4(n)})}function P4(n,t,e,i,r){n.dataUpdateCount++;const o=new Xn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let a=[];if(r)if(i){const f=(0,B.UI)(e,m=>Gi(m));a=function pJ(n,t,e,i){const r=GR(n,i);if(r){const o=$R(r),a=o.path,u=o.queryId,f=Bo(a,t),m=Ni.fromObject(e);return qR(n,a,new yf(Xy(u),f,m))}return[]}(n.serverSyncTree_,o,f,r)}else{const f=Gi(e);a=function fJ(n,t,e,i){const r=GR(n,i);if(null!=r){const o=$R(r),a=o.path,u=o.queryId,f=Bo(a,t);return qR(n,a,new Pc(Xy(u),f,e))}return[]}(n.serverSyncTree_,o,f,r)}else if(i){const f=(0,B.UI)(e,m=>Gi(m));a=function uJ(n,t,e){const i=Ni.fromObject(e);return d0(n,new yf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,f)}else{const f=Gi(e);a=EC(n.serverSyncTree_,o,f)}let u=o;a.length>0&&(u=f0(n,o)),Uc(n.eventQueue_,u,a)}function F4(n,t){rP(n,"connected",t),!1===t&&function BJ(n){h0(n,"onDisconnectEvents");const t=RC(n),e=Ky();Jy(n.onDisconnect_,Ln(),(r,o)=>{const a=A4(r,o,n.serverSyncTree_,t);em(e,r,a)});let i=[];Jy(e,Ln(),(r,o)=>{i=i.concat(EC(n.serverSyncTree_,r,o));const a=lP(n,r);f0(n,a)}),n.onDisconnect_=Ky(),Uc(n.eventQueue_,Ln(),i)}(n)}function rP(n,t,e){const i=new Xn("/.info/"+t),r=Gi(e);n.infoData_.updateSnapshot(i,r);const o=EC(n.infoSyncTree_,i,r);Uc(n.eventQueue_,i,o)}function NE(n){return n.nextWriteId_++}function sP(n,t,e,i,r){h0(n,"set",{path:t.toString(),value:e,priority:i});const o=RC(n),a=Gi(e,i),u=DE(n.serverSyncTree_,t),f=KR(a,u,o),m=NE(n),v=r_(n.serverSyncTree_,t,f,m,!0);IE(n.eventQueue_,v),n.server_.put(t.toString(),a.val(!0),(S,k)=>{const O="ok"===S;O||ro("set at "+t+" failed: "+S);const U=Vc(n.serverSyncTree_,m,!O);Uc(n.eventQueue_,t,U),sm(0,r,S,k)});const x=lP(n,t);f0(n,x),Uc(n.eventQueue_,x,[])}function UJ(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&uC(n.onDisconnect_,t),sm(0,e,i,r)})}function V4(n,t,e,i){const r=Gi(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,a)=>{"ok"===o&&em(n.onDisconnect_,t,r),sm(0,i,o,a)})}function oP(n,t,e){let i;i=".info"===fn(t._path)?ZR(n.infoSyncTree_,t,e):ZR(n.serverSyncTree_,t,e),iP(n.eventQueue_,t._path,i)}function B4(n){n.persistentConnection_&&n.persistentConnection_.interrupt(O4)}function h0(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Zr(e,...t)}function sm(n,t,e,i){t&&hf(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const a=new Error(o);a.code=r,t(a)}})}function aP(n,t,e){return DE(n.serverSyncTree_,t,e)||cn.EMPTY_NODE}function LE(n,t=n.transactionQueueTree_){if(t||OE(n,t),s_(t)){const e=H4(n,t);(0,B.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function $J(n,t,e){const i=e.map(m=>m.currentWriteId),r=aP(n,t,i);let o=r;const a=r.hash();for(let m=0;m<e.length;m++){const v=e[m];(0,B.hu)(0===v.status,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const x=Bo(t,v.path);o=o.updateChild(x,v.currentOutputSnapshotRaw)}const u=o.val(!0),f=t;n.server_.put(f.toString(),u,m=>{h0(n,"transaction put response",{path:f.toString(),status:m});let v=[];if("ok"===m){const x=[];for(let S=0;S<e.length;S++)e[S].status=2,v=v.concat(Vc(n.serverSyncTree_,e[S].currentWriteId)),e[S].onComplete&&x.push(()=>e[S].onComplete(null,!0,e[S].currentOutputSnapshotResolved)),e[S].unwatcher();OE(n,EE(n.transactionQueueTree_,t)),LE(n,n.transactionQueueTree_),Uc(n.eventQueue_,t,v);for(let S=0;S<x.length;S++)hf(x[S])}else{if("datastale"===m)for(let x=0;x<e.length;x++)e[x].status=3===e[x].status?4:0;else{ro("transaction at "+f.toString()+" failed: "+m);for(let x=0;x<e.length;x++)e[x].status=4,e[x].abortReason=m}f0(n,t)}},a)}(n,MC(t),e)}else E4(t)&&kE(t,e=>{LE(n,e)})}function f0(n,t){const e=U4(n,t),i=MC(e);return function qJ(n,t,e){if(0===t.length)return;const i=[];let r=[];const a=t.filter(u=>0===u.status).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const f=t[u],m=Bo(e,f.path);let x,v=!1;if((0,B.hu)(null!==m,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)v=!0,x=f.abortReason,r=r.concat(Vc(n.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=25)v=!0,x="maxretry",r=r.concat(Vc(n.serverSyncTree_,f.currentWriteId,!0));else{const S=aP(n,f.path,a);f.currentInputSnapshot=S;const k=t[u].update(S.val());if(void 0!==k){NC("transaction failed: Data returned ",k,f.path);let O=Gi(k);"object"==typeof k&&null!=k&&(0,B.r3)(k,".priority")||(O=O.updatePriority(S.getPriority()));const V=f.currentWriteId,te=RC(n),re=KR(O,S,te);f.currentOutputSnapshotRaw=O,f.currentOutputSnapshotResolved=re,f.currentWriteId=NE(n),a.splice(a.indexOf(V),1),r=r.concat(r_(n.serverSyncTree_,f.path,re,f.currentWriteId,f.applyLocally)),r=r.concat(Vc(n.serverSyncTree_,V,!0))}else v=!0,x="nodata",r=r.concat(Vc(n.serverSyncTree_,f.currentWriteId,!0))}Uc(n.eventQueue_,e,r),r=[],v&&(t[u].status=2,setTimeout(t[u].unwatcher,Math.floor(0)),t[u].onComplete&&i.push("nodata"===x?()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot):()=>t[u].onComplete(new Error(x),!1,null)))}OE(n,n.transactionQueueTree_);for(let u=0;u<i.length;u++)hf(i[u]);LE(n,n.transactionQueueTree_)}(n,H4(n,e),i),i}function U4(n,t){let e,i=n.transactionQueueTree_;for(e=fn(t);null!==e&&void 0===s_(i);)i=EE(i,e),e=fn(t=di(t));return i}function H4(n,t){const e=[];return Y4(n,t,e),e.sort((i,r)=>i.order-r.order),e}function Y4(n,t,e){const i=s_(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);kE(t,r=>{Y4(n,r,e)})}function OE(n,t){const e=s_(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,XR(t,e.length>0?e:void 0)}kE(t,i=>{OE(n,i)})}function lP(n,t){const e=MC(U4(n,t)),i=EE(n.transactionQueueTree_,t);return function wJ(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{cP(n,r)}),cP(n,i),k4(i,r=>{cP(n,r)}),e}function cP(n,t){const e=s_(t);if(e){const i=[];let r=[],o=-1;for(let a=0;a<e.length;a++)3===e[a].status||(1===e[a].status?((0,B.hu)(o===a-1,"All SENT items should be at beginning of queue."),o=a,e[a].status=3,e[a].abortReason="set"):((0,B.hu)(0===e[a].status,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(Vc(n.serverSyncTree_,e[a].currentWriteId,!0)),e[a].onComplete&&i.push(e[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?XR(t,void 0):e.length=o+1,Uc(n.eventQueue_,MC(t),r);for(let a=0;a<i.length;a++)hf(i[a])}}const uP=function(n,t){const e=KJ(n),i=e.namespace;return"firebase.com"===e.domain&&Ic(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Ic("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ro("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Rx(e.host,e.secure,i,t,"ws"===e.scheme||"wss"===e.scheme,"",i!==e.subdomain),path:new Xn(e.pathString)}},KJ=function(n){let t="",e="",i="",r="",o="",a=!0,u="https",f=443;if("string"==typeof n){let m=n.indexOf("//");m>=0&&(u=n.substring(0,m-1),n=n.substring(m+2));let v=n.indexOf("/");-1===v&&(v=n.length);let x=n.indexOf("?");-1===x&&(x=n.length),t=n.substring(0,Math.min(v,x)),v<x&&(r=function WJ(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(v,x)));const S=function zJ(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ro(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,x)));m=t.indexOf(":"),m>=0?(a="https"===u||"wss"===u,f=parseInt(t.substring(m+1),10)):m=t.length;const k=t.slice(0,m);if("localhost"===k.toLowerCase())e="localhost";else if(k.split(".").length<=2)e=k;else{const O=t.indexOf(".");i=t.substring(0,O).toLowerCase(),e=t.substring(O+1),o=i}"ns"in S&&(o=S.ns)}return{host:t,port:f,domain:e,subdomain:i,secure:a,scheme:u,pathString:r,namespace:o}};class j4{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,B.Pz)(this.snapshot.exportVal())}}class Z4{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class G4{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,B.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class $4{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new B.BH;return UJ(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Bc("OnDisconnect.remove",this._path);const t=new B.BH;return V4(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Bc("OnDisconnect.set",this._path),Xd("OnDisconnect.set",t,this._path,!1);const e=new B.BH;return V4(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Bc("OnDisconnect.setWithPriority",this._path),Xd("OnDisconnect.setWithPriority",t,this._path,!1),nP("OnDisconnect.setWithPriority",e,!1);const i=new B.BH;return function HJ(n,t,e,i,r){const o=Gi(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(a,u)=>{"ok"===a&&em(n.onDisconnect_,t,o),sm(0,r,a,u)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Bc("OnDisconnect.update",this._path),I4("OnDisconnect.update",t,this._path,!1);const e=new B.BH;return function YJ(n,t,e,i){if((0,B.xb)(e))return Zr("onDisconnect().update() called with empty data.  Don't do anything."),void sm(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&Qr(e,(a,u)=>{const f=Gi(u);em(n.onDisconnect_,Ii(t,a),f)}),sm(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Qa{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return pn(this._path)?null:Wx(this._path)}get ref(){return new Hc(this._repo,this._path)}get _queryIdentifier(){const t=cE(this._queryParams),e=Lx(t);return"{}"===e?"default":e}get _queryObject(){return cE(this._queryParams)}isEqual(t){if(!((t=(0,B.m9)(t))instanceof Qa))return!1;const e=this._repo===t._repo,i=WA(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function $A(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function RE(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function om(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Ou){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Lu)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Ul)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===vi){if(null!=t&&!IC(t)||null!=e&&!IC(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,B.hu)(n.getIndex()instanceof tE||n.getIndex()===Wy,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function PE(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Hc extends Qa{constructor(t,e){super(t,e,new e_,!1)}get parent(){const t=qA(this._path);return null===t?null:new Hc(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class o_{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Xn(t),i=a_(this.ref,t);return new o_(this._node.getChild(e),i,vi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new o_(r,a_(this.ref,i),vi)))}hasChild(t){const e=new Xn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function q4(n,t){return(n=(0,B.m9)(n))._checkNotDeleted("ref"),void 0!==t?a_(n._root,t):n._root}function W4(n,t){(n=(0,B.m9)(n))._checkNotDeleted("refFromURL");const e=uP(t,n._repo.repoInfo_.nodeAdmin);N4("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Ic("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),q4(n,e.path.toString())}function a_(n,t){return null===fn((n=(0,B.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),OC("child","path",e,!1)):OC("child","path",t,!1),new Hc(n._repo,Ii(n._path,t));var e}function dP(n,t){n=(0,B.m9)(n),Bc("set",n._path),Xd("set",t,n._path,!1);const e=new B.BH;return sP(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function tQ(n,t){I4("update",t,n._path,!1);const e=new B.BH;return function VJ(n,t,e,i){h0(n,"update",{path:t.toString(),value:e});let r=!0;const o=RC(n),a={};if(Qr(e,(u,f)=>{r=!1,a[u]=A4(Ii(t,u),Gi(f),n.serverSyncTree_,o)}),r)Zr("update() called with empty data.  Don't do anything."),sm(0,i,"ok",void 0);else{const u=NE(n),f=function AC(n,t,e,i){!function vC(n,t,e,i){(0,B.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=pC(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Ni.fromObject(e);return d0(n,new yf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,a,u);IE(n.eventQueue_,f),n.server_.merge(t.toString(),e,(m,v)=>{const x="ok"===m;x||ro("update at "+t+" failed: "+m);const S=Vc(n.serverSyncTree_,u,!x),k=S.length>0?f0(n,t):t;Uc(n.eventQueue_,k,S),sm(0,i,m,v)}),Qr(e,m=>{const v=lP(n,Ii(t,m));f0(n,v)}),Uc(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function nQ(n){return function FJ(n,t){const e=function mJ(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(m,v)=>{const x=Bo(m,e);i=i||Et(v,x)});let r=n.syncPointTree_.get(e);r?i=i||Et(r,Ln()):(r=new Y,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,a=o?new Jd(i,!0,!1):null;return function d(n){return e0(n.viewCache_)}(at(r,t,s0(n.pendingWriteTree_,t._path),o?a.getNode():cn.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const r=Gi(i).withIndex(t._queryParams.getIndex()),o=EC(n.serverSyncTree_,t._path,r);return iP(n.eventQueue_,t._path,o),Promise.resolve(r)},i=>(h0(n,"get for query "+(0,B.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,B.m9)(n))._repo,n).then(t=>new o_(t,new Hc(n._repo,n._path),n._queryParams.getIndex()))}class FE{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new j4("value",this,new o_(t.snapshotNode,new Hc(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Z4(this,t,e):null}matches(t){return t instanceof FE&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class VE{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Z4(this,t,e):null}createEvent(t,e){(0,B.hu)(null!=t.childName,"Child events should have a childName.");const i=a_(new Hc(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new j4(t.type,this,new o_(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof VE&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function PC(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const f=e,m=(v,x)=>{oP(n._repo,n,u),f(v,x)};m.userCallback=e.userCallback,m.context=e.context,e=m}const a=new G4(e,o||void 0),u="value"===t?new FE(a):new VE(t,a);return function jJ(n,t,e){let i;i=".info"===fn(t._path)?C4(n.infoSyncTree_,t,e):C4(n.serverSyncTree_,t,e),iP(n.eventQueue_,t._path,i)}(n._repo,n,u),()=>oP(n._repo,n,u)}function hP(n,t,e,i){return PC(n,"value",t,e,i)}function z4(n,t,e,i){return PC(n,"child_added",t,e,i)}function K4(n,t,e,i){return PC(n,"child_changed",t,e,i)}function J4(n,t,e,i){return PC(n,"child_moved",t,e,i)}function Q4(n,t,e,i){return PC(n,"child_removed",t,e,i)}function X4(n,t,e){let i=null;const r=e?new G4(e):null;"value"===t?i=new FE(r):t&&(i=new VE(t,r)),oP(n._repo,n,i)}class Fu{}class eY extends Fu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xd("endAt",this._value,t._path,!0);const e=Oc(t._queryParams,this._value,this._key);if(PE(e),om(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qa(t._repo,t._path,e,t._orderByCalled)}}class rQ extends Fu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xd("endBefore",this._value,t._path,!1);const e=function lE(n,t,e){let i,r;return n.index_===Ou?("string"==typeof t&&(t=Uo(t)),r=Oc(n,t,e)):(i=null==e?Lu:Uo(e),r=Oc(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(PE(e),om(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qa(t._repo,t._path,e,t._orderByCalled)}}class tY extends Fu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xd("startAt",this._value,t._path,!0);const e=aC(t._queryParams,this._value,this._key);if(PE(e),om(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Qa(t._repo,t._path,e,t._orderByCalled)}}class aQ extends Fu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xd("startAfter",this._value,t._path,!1);const e=function lC(n,t,e){let i;if(n.index_===Ou)"string"==typeof t&&(t=rE(t)),i=aC(n,t,e);else{let r;r=null==e?Ul:rE(e),i=aC(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(PE(e),om(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Qa(t._repo,t._path,e,t._orderByCalled)}}class cQ extends Fu{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qa(t._repo,t._path,function IR(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class dQ extends Fu{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qa(t._repo,t._path,function aE(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class fQ extends Fu{constructor(t){super(),this._path=t}_apply(t){RE(t,"orderByChild");const e=new Xn(this._path);if(pn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new tE(e),r=Xp(t._queryParams,i);return om(r),new Qa(t._repo,t._path,r,!0)}}class mQ extends Fu{_apply(t){RE(t,"orderByKey");const e=Xp(t._queryParams,Ou);return om(e),new Qa(t._repo,t._path,e,!0)}}class _Q extends Fu{_apply(t){RE(t,"orderByPriority");const e=Xp(t._queryParams,vi);return om(e),new Qa(t._repo,t._path,e,!0)}}class yQ extends Fu{_apply(t){RE(t,"orderByValue");const e=Xp(t._queryParams,Wy);return om(e),new Qa(t._repo,t._path,e,!0)}}class xQ extends Fu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Xd("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new eY(this._value,this._key)._apply(new tY(this._value,this._key)._apply(t))}}function Vu(n,...t){let e=(0,B.m9)(n);for(const i of t)e=i._apply(e);return e}(function K(n){(0,B.hu)(!R,"__referenceConstructor has already been defined"),R=n})(Hc),function wC(n){(0,B.hu)(!rm,"__referenceConstructor has already been defined"),rm=n}(Hc);const fP={};function iY(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Ic("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zr("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f,m,a=uP(o,r),u=a.repoInfo;typeof process<"u"&&(m=process.env.FIREBASE_DATABASE_EMULATOR_HOST),m?(f=!0,o=`http://${m}?ns=${u.namespace}`,a=uP(o,r),u=a.repoInfo):f=!a.repoInfo.secure;const v=r&&f?new Zp(Zp.OWNER):new kA(n.name,n.options,t);N4("Invalid Firebase Database URL",a),pn(a.path)||Ic("Database URL must point to the root of a Firebase Database (not including a child path).");const x=function SQ(n,t,e,i){let r=fP[t.name];r||(r={},fP[t.name]=r);let o=r[n.toURLString()];return o&&Ic("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new OJ(n,false,e,i),r[n.toURLString()]=o,o}(u,n,v,new e4(n.name,e));return new EQ(x,n)}class EQ{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function RJ(n,t,e){if(n.stats_=Ry(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new cC(n.repoInfo_,(i,r,o,a)=>{P4(n,i,r,o,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>F4(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,B.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Wd(n.repoInfo_,t,(i,r,o,a)=>{P4(n,i,r,o,a)},i=>{F4(n,i)},i=>{!function PJ(n,t){Qr(t,(e,i)=>{rP(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function OA(n,t){const e=n.toString();return Fx[e]||(Fx[e]=t()),Fx[e]}(n.repoInfo_,()=>new dC(n.stats_,n.server_)),n.infoData_=new NR,n.infoSyncTree_=new u0({startListening:(i,r,o,a)=>{let u=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(u=EC(n.infoSyncTree_,i._path,f),setTimeout(()=>{a("ok")},0)),u},stopListening:()=>{}}),rP(n,"connected",!1),n.serverSyncTree_=new u0({startListening:(i,r,o,a)=>(n.server_.listen(i,o,r,(u,f)=>{const m=a(u,f);Uc(n.eventQueue_,i._path,m)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hc(this._repo,Ln())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function DQ(n,t){const e=fP[t];(!e||e[n.key]!==n)&&Ic(`Database ${t}(${n.repoInfo_}) has already been deleted.`),B4(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Ic("Cannot call "+t+" on a deleted database.")}}function NQ(n,t){TA(n,t)}const OQ={".sv":"timestamp"};class FQ{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Wd.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Wd.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function LQ(n){bA(Sr.SDK_VERSION),(0,Sr._registerComponent)(new za.wA("database",(t,{instanceIdentifier:e})=>iY(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Sr.registerVersion)(iR,"0.12.5",n),(0,Sr.registerVersion)(iR,"0.12.5","esm2017")}();const HQ=new Bl.Yd("@firebase/database-compat"),rY=function(n){HQ.warn("FIREBASE WARNING: "+n)};class ZQ{constructor(t){this._delegate=t}cancel(t){(0,B.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,B.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,B.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,B.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,B.Dv)("OnDisconnect.set",1,2,arguments.length),(0,B.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,B.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,B.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,B.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,rY("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,B.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class GQ{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,B.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class am{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,B.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,B.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,B.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,B.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,B.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),OC("DataSnapshot.child","path",t,!1),new am(this._database,this._delegate.child(t))}hasChild(t){return(0,B.Dv)("DataSnapshot.hasChild",1,1,arguments.length),OC("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,B.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,B.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,B.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new am(this._database,e)))}hasChildren(){return(0,B.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,B.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,B.Dv)("DataSnapshot.ref",0,0,arguments.length),new Yl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class oo{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,B.Dv)("Query.on",2,4,arguments.length),(0,B.Wj)("Query.on","callback",e,!1);const a=oo.getCancelAndContextArgs_("Query.on",i,r),u=(m,v)=>{e.call(a.context,new am(this.database,m),v)};u.userCallback=e,u.context=a.context;const f=null===(o=a.cancel)||void 0===o?void 0:o.bind(a.context);switch(t){case"value":return hP(this._delegate,u,f),e;case"child_added":return z4(this._delegate,u,f),e;case"child_removed":return Q4(this._delegate,u,f),e;case"child_changed":return K4(this._delegate,u,f),e;case"child_moved":return J4(this._delegate,u,f),e;default:throw new Error((0,B.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,B.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,B.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,B.Wj)("Query.off","callback",e,!0),(0,B.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,X4(this._delegate,t,r)}else X4(this._delegate,t)}get(){return nQ(this._delegate).then(t=>new am(this.database,t))}once(t,e,i,r){(0,B.Dv)("Query.once",1,4,arguments.length),(0,B.Wj)("Query.once","callback",e,!0);const o=oo.getCancelAndContextArgs_("Query.once",i,r),a=new B.BH,u=(m,v)=>{const x=new am(this.database,m);e&&e.call(o.context,x,v),a.resolve(x)};u.userCallback=e,u.context=o.context;const f=m=>{o.cancel&&o.cancel.call(o.context,m),a.reject(m)};switch(t){case"value":hP(this._delegate,u,f,{onlyOnce:!0});break;case"child_added":z4(this._delegate,u,f,{onlyOnce:!0});break;case"child_removed":Q4(this._delegate,u,f,{onlyOnce:!0});break;case"child_changed":K4(this._delegate,u,f,{onlyOnce:!0});break;case"child_moved":J4(this._delegate,u,f,{onlyOnce:!0});break;default:throw new Error((0,B.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(t){return(0,B.Dv)("Query.limitToFirst",1,1,arguments.length),new oo(this.database,Vu(this._delegate,function uQ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new cQ(n)}(t)))}limitToLast(t){return(0,B.Dv)("Query.limitToLast",1,1,arguments.length),new oo(this.database,Vu(this._delegate,function hQ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new dQ(n)}(t)))}orderByChild(t){return(0,B.Dv)("Query.orderByChild",1,1,arguments.length),new oo(this.database,Vu(this._delegate,function pQ(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return OC("orderByChild","path",n,!1),new fQ(n)}(t)))}orderByKey(){return(0,B.Dv)("Query.orderByKey",0,0,arguments.length),new oo(this.database,Vu(this._delegate,function gQ(){return new mQ}()))}orderByPriority(){return(0,B.Dv)("Query.orderByPriority",0,0,arguments.length),new oo(this.database,Vu(this._delegate,function vQ(){return new _Q}()))}orderByValue(){return(0,B.Dv)("Query.orderByValue",0,0,arguments.length),new oo(this.database,Vu(this._delegate,function bQ(){return new yQ}()))}startAt(t=null,e){return(0,B.Dv)("Query.startAt",0,2,arguments.length),new oo(this.database,Vu(this._delegate,function oQ(n=null,t){return LC("startAt","key",t,!0),new tY(n,t)}(t,e)))}startAfter(t=null,e){return(0,B.Dv)("Query.startAfter",0,2,arguments.length),new oo(this.database,Vu(this._delegate,function lQ(n,t){return LC("startAfter","key",t,!0),new aQ(n,t)}(t,e)))}endAt(t=null,e){return(0,B.Dv)("Query.endAt",0,2,arguments.length),new oo(this.database,Vu(this._delegate,function iQ(n,t){return LC("endAt","key",t,!0),new eY(n,t)}(t,e)))}endBefore(t=null,e){return(0,B.Dv)("Query.endBefore",0,2,arguments.length),new oo(this.database,Vu(this._delegate,function sQ(n,t){return LC("endBefore","key",t,!0),new rQ(n,t)}(t,e)))}equalTo(t,e){return(0,B.Dv)("Query.equalTo",1,2,arguments.length),new oo(this.database,Vu(this._delegate,function CQ(n,t){return LC("equalTo","key",t,!0),new xQ(n,t)}(t,e)))}toString(){return(0,B.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,B.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,B.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof oo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,B.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,B.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,B.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Yl(this.database,new Hc(this._delegate._repo,this._delegate._path))}}class Yl extends oo{constructor(t,e){super(t,new Qa(e._repo,e._path,new e_,!1)),this.database=t,this._delegate=e}getKey(){return(0,B.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,B.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Yl(this.database,a_(this._delegate,t))}getParent(){(0,B.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Yl(this.database,t):null}getRoot(){return(0,B.Dv)("Reference.root",0,0,arguments.length),new Yl(this.database,this._delegate.root)}set(t,e){(0,B.Dv)("Reference.set",1,2,arguments.length),(0,B.Wj)("Reference.set","onComplete",e,!0);const i=dP(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,B.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,rY("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Bc("Reference.update",this._delegate._path),(0,B.Wj)("Reference.update","onComplete",e,!0);const i=tQ(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,B.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,B.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function eQ(n,t,e){if(Bc("setWithPriority",n._path),Xd("setWithPriority",t,n._path,!1),nP("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new B.BH;return sP(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,B.Dv)("Reference.remove",0,1,arguments.length),(0,B.Wj)("Reference.remove","onComplete",t,!0);const e=function QJ(n){return Bc("remove",n._path),dP(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,B.Dv)("Reference.transaction",1,3,arguments.length),(0,B.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,B.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,B.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function VQ(n,t,e){var i;if(n=(0,B.m9)(n),Bc("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new B.BH,u=hP(n,()=>{});return function GJ(n,t,e,i,r,o){h0(n,"transaction on "+t);const a={path:t,update:e,onComplete:i,status:null,order:Mx(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=aP(n,t,void 0);a.currentInputSnapshot=u;const f=a.update(u.val());if(void 0===f)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{NC("transaction failed: Data returned ",f,a.path),a.status=0;const m=EE(n.transactionQueueTree_,t),v=s_(m)||[];let x;v.push(a),XR(m,v),"object"==typeof f&&null!==f&&(0,B.r3)(f,".priority")?(x=(0,B.DV)(f,".priority"),(0,B.hu)(IC(x),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):x=(DE(n.serverSyncTree_,t)||cn.EMPTY_NODE).getPriority().val();const S=RC(n),k=Gi(f,x),O=KR(k,u,S);a.currentOutputSnapshotRaw=k,a.currentOutputSnapshotResolved=O,a.currentWriteId=NE(n);const U=r_(n.serverSyncTree_,t,O,a.currentWriteId,a.applyLocally);Uc(n.eventQueue_,t,U),LE(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(f,m,v)=>{let x=null;f?o.reject(f):(x=new o_(v,new Hc(n._repo,n._path),vi),o.resolve(new FQ(m,x)))},u,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new GQ(o.committed,new am(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,B.Dv)("Reference.setPriority",1,2,arguments.length),(0,B.Wj)("Reference.setPriority","onComplete",e,!0);const i=function XJ(n,t){n=(0,B.m9)(n),Bc("setPriority",n._path),nP("setPriority",t,!1);const e=new B.BH;return sP(n._repo,Ii(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,B.Dv)("Reference.push",0,2,arguments.length),(0,B.Wj)("Reference.push","onComplete",e,!0);const i=function JJ(n,t){n=(0,B.m9)(n),Bc("push",n._path),Xd("push",t,n._path,!0);const e=R4(n._repo),i=sC(e),r=a_(n,i),o=a_(n,i);let a;return a=null!=t?dP(o,t).then(()=>o):Promise.resolve(o),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}(this._delegate,t),r=i.then(a=>new Yl(this.database,a));e&&r.then(()=>e(null),a=>e(a));const o=new Yl(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Bc("Reference.onDisconnect",this._delegate._path),new ZQ(new $4(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class FC{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,i={}){!function kQ(n,t,e,i={}){(n=(0,B.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ic("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Ic('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Zp(Zp.OWNER);else if(i.mockUserToken){const a="string"==typeof i.mockUserToken?i.mockUserToken:(0,B.Sg)(i.mockUserToken,n.app.options.projectId);o=new Zp(a)}!function wQ(n,t,e,i){n.repoInfo_=new Rx(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,B.Dv)("database.ref",0,1,arguments.length),t instanceof Yl){const e=W4(this._delegate,t.toString());return new Yl(this,e)}{const e=q4(this._delegate,t);return new Yl(this,e)}}refFromURL(t){(0,B.Dv)("database.refFromURL",1,1,arguments.length);const i=W4(this._delegate,t);return new Yl(this,i)}goOffline(){return(0,B.Dv)("database.goOffline",0,0,arguments.length),function MQ(n){(n=(0,B.m9)(n))._checkNotDeleted("goOffline"),B4(n._repo)}(this._delegate)}goOnline(){return(0,B.Dv)("database.goOnline",0,0,arguments.length),function IQ(n){(n=(0,B.m9)(n))._checkNotDeleted("goOnline"),function ZJ(n){n.persistentConnection_&&n.persistentConnection_.resume(O4)}(n._repo)}(this._delegate)}}FC.ServerValue={TIMESTAMP:function RQ(){return OQ}(),increment:n=>function PQ(n){return{".sv":{increment:n}}}(n)};var qQ=Object.freeze({__proto__:null,initStandalone:function $Q({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){bA(e);const a=new za.zt("auth-internal",new za.H0("database-standalone"));return a.setComponent(new za.wA("auth-internal",()=>i,"PRIVATE")),{instance:new FC(iY(n,a,void 0,t,o),n),namespace:r}}});const WQ=FC.ServerValue;!function zQ(n){n.INTERNAL.registerComponent(new za.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new FC(r,i)},"PUBLIC").setServiceProps({Reference:Yl,Query:oo,Database:FC,DataSnapshot:am,enableLogging:NQ,INTERNAL:qQ,ServerValue:WQ}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.5")}(Ax.Z);var VC=I(1949),KQ=I(3289);class JQ extends Hg{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new QQ(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;let a;if(this.closed)throw new cf;if(this.isStopped||this.hasError?a=Vl.w.EMPTY:(this.observers.push(t),a=new lA(this,t)),r&&t.add(t=new VC.ht(t,r)),e)for(let u=0;u<o&&!t.closed;u++)t.next(i[u]);else for(let u=0;u<o&&!t.closed;u++)t.next(i[u].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),a}_getNow(){return(this.scheduler||KQ.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,r=this._events,o=r.length;let a=0;for(;a<o&&!(t-r[a].time<i);)a++;return o>e&&(a=Math.max(a,o-e)),a>0&&r.splice(0,a),r}}class QQ{constructor(t,e){this.time=t,this.value=e}}function sY(n,t,e){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},r=>r.lift(function XQ({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let r,a,o=0,u=!1,f=!1;return function(v){let x;o++,!r||u?(u=!1,r=new JQ(n,t,i),x=r.subscribe(this),a=v.subscribe({next(S){r.next(S)},error(S){u=!0,r.error(S)},complete(){f=!0,a=void 0,r.complete()}}),f&&(a=void 0)):x=r.subscribe(this),this.add(()=>{o--,x.unsubscribe(),x=void 0,a&&!f&&e&&0===o&&(a.unsubscribe(),a=void 0,r=void 0)})}}(i))}const oY=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function BE(n,t){return function(i){return i.lift(new eX(n,t))}}class eX{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new tX(t,this.predicate,this.thisArg))}}class tX extends ks.L{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}const nX=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();var iX=I(5019);function rX(n){return t=>0===n?(0,iX.c)():t.lift(new sX(n))}class sX{constructor(t){if(this.total=t,this.total<0)throw new nX}call(t,e){return e.subscribe(new oX(t,this.total))}}class oX extends ks.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function aX(n=null){return t=>t.lift(new lX(n))}class lX{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new cX(t,this.defaultValue))}}class cX extends ks.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function uX(n=fX){return t=>t.lift(new dX(n))}class dX{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new hX(t,this.errorFactory))}}class hX extends ks.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function fX(){return new oY}function aY(n,t){return t?Wa(()=>n,t):Wa(()=>n)}var pP=I(6893);I(5867);const cY=new Map,yX={activated:!1,tokenObservers:[]},bX={initialized:!1,enabled:!1};function Ms(n){return cY.get(n)||yX}function Bu(n,t){cY.set(n,t)}function HE(){return bX}class DX{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ke.Z)(function*(){e.stop();try{e.pending=new B.BH,yield function SX(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new B.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const _a=new B.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function dY(n){if(!Ms(n).activated)throw _a.create("use-before-activation",{appName:n.name})}function vP(n,t){return yP.apply(this,arguments)}function yP(){return(yP=(0,ke.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});r&&(i["X-Firebase-Client"]=r.getPlatformInfoString());const o={method:"POST",body:JSON.stringify(t),headers:i};let a,u;try{a=yield fetch(n,o)}catch(x){throw _a.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==a.status)throw _a.create("fetch-status-error",{httpStatus:a.status});try{u=yield a.json()}catch(x){throw _a.create("fetch-parse-error",{originalErrorMessage:x.message})}const f=u.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw _a.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const m=1e3*Number(f[1]),v=Date.now();return{token:u.attestationToken,expireTimeMillis:v+m,issuedAtTimeMillis:v}})).apply(this,arguments)}function IX(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const BC="firebase-app-check-store";let ZE=null;function fY(){return ZE||(ZE=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(_a.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(BC,{keyPath:"compositeKey"})}}catch(e){t(_a.create("storage-open",{originalErrorMessage:e.message}))}}),ZE)}function bP(){return(bP=(0,ke.Z)(function*(n,t){const i=(yield fY()).transaction(BC,"readwrite"),o=i.objectStore(BC).put({compositeKey:n,value:t});return new Promise((a,u)=>{o.onsuccess=f=>{a()},i.onerror=f=>{var m;u(_a.create("storage-set",{originalErrorMessage:null===(m=f.target.error)||void 0===m?void 0:m.message}))}})})).apply(this,arguments)}const UC=new Bl.Yd("@firebase/app-check");function _Y(n,t){return(0,B.hl)()?function RX(n,t){return function pY(n,t){return bP.apply(this,arguments)}(function gY(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{UC.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function vY(){return HE().enabled}function yY(){return wP.apply(this,arguments)}function wP(){return(wP=(0,ke.Z)(function*(){const n=HE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const HX={error:"UNKNOWN_ERROR"};function YX(n){return B.US.encodeString(JSON.stringify(n),!1)}function GE(n){return DP.apply(this,arguments)}function DP(){return(DP=(0,ke.Z)(function*(n,t=!1){const e=n.app;dY(e);const i=Ms(e);let o,r=i.token;if(!r){const f=yield i.cachedTokenPromise;f&&$E(f)&&(r=f)}if(!t&&r&&$E(r))return{token:r.token};let u,a=!1;if(vY()){i.exchangeTokenPromise||(i.exchangeTokenPromise=vP(IX(e,yield yY()),n.platformLoggerProvider).then(m=>(i.exchangeTokenPromise=void 0,m)),a=!0);const f=yield i.exchangeTokenPromise;return yield _Y(e,f),Bu(e,Object.assign(Object.assign({},i),{token:f})),{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(f=>(i.exchangeTokenPromise=void 0,f)),a=!0),r=yield i.exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?UC.warn(f.message):UC.error(f),o=f}return r?(u={token:r.token},Bu(e,Object.assign(Object.assign({},i),{token:r})),yield _Y(e,r)):u=ZX(o),a&&xY(e,u),u})).apply(this,arguments)}function AP(n,t){const e=Ms(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Bu(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function bY(n){const{app:t}=n,e=Ms(t);let i=e.tokenRefresher;i||(i=function jX(n){const{app:t}=n;return new DX((0,ke.Z)(function*(){let i;if(i=Ms(t).token?yield GE(n,!0):yield GE(n),i.error)throw i.error}),()=>!0,()=>{const e=Ms(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Bu(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function xY(n,t){const e=Ms(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function $E(n){return n.expireTimeMillis-Date.now()>0}function ZX(n){return{token:YX(HX),error:n}}class GX{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=Ms(this.app);for(const e of t)AP(this.app,e.next);return Promise.resolve()}}const kY="app-check-internal";!function see(){(0,Sr._registerComponent)(new za.wA("app-check",n=>function $X(n,t){return new GX(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(kY).initialize()})),(0,Sr._registerComponent)(new za.wA(kY,n=>function qX(n){return{getToken:t=>GE(n,t),addTokenListener:t=>function SP(n,t,e,i){const{app:r}=n,o=Ms(r),a={next:e,error:i,type:t};if(Bu(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,a]})),o.token&&$E(o.token)){const u=o.token;Promise.resolve().then(()=>{e({token:u.token}),bY(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>bY(n))}(n,"INTERNAL",t),removeTokenListener:t=>AP(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Sr.registerVersion)("@firebase/app-check","0.5.3")}();class HC{constructor(){return(0,zn.vb)("app-check")}}typeof window<"u"&&window;var WE=I(127);const NP=new s.OlP("angularfire2.auth.use-emulator"),LP=new s.OlP("angularfire2.auth.settings"),OP=new s.OlP("angularfire2.auth.tenant-id"),RP=new s.OlP("angularfire2.auth.langugage-code"),PP=new s.OlP("angularfire2.auth.use-device-language"),FP=new s.OlP("angularfire.auth.persistence"),VP=(n,t,e,i,r,o,a,u)=>(0,jr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=t.runOutsideAngular(()=>n.auth());if(e&&f.useEmulator(...e),i&&(f.tenantId=i),f.languageCode=r,o&&f.useDeviceLanguage(),a)for(const[m,v]of Object.entries(a))f.settings[m]=v;return u&&f.setPersistence(u),f},[e,i,r,o,a,u]);let l_=(()=>{class n{constructor(e,i,r,o,a,u,f,m,v,x,S,k){const O=new Hg,U=(0,Mc.of)(void 0).pipe((0,VC.QV)(a.outsideAngular),Wa(()=>o.runOutsideAngular(()=>Promise.resolve().then(I.bind(I,5881)))),ir(()=>(0,jr.on)(e,o,i)),ir(V=>VP(V,o,u,m,v,x,f,S)),sY({bufferSize:1,refCount:!1}));if(fr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Mc.of)(null);else{U.pipe(function pX(n,t){const e=arguments.length>=2;return i=>i.pipe(n?BE((r,o)=>n(r,o,i)):bx.y,rX(1),e?aX(t):uX(()=>new oY))}()).subscribe();const te=U.pipe(Wa(we=>we.getRedirectResult().then(Ve=>Ve,()=>null)),zn.iC,sY({bufferSize:1,refCount:!1})),re=U.pipe(Wa(we=>new Es.y(Ve=>({unsubscribe:o.runOutsideAngular(()=>we.onAuthStateChanged(Pe=>Ve.next(Pe),Pe=>Ve.error(Pe),()=>Ve.complete()))})))),Te=U.pipe(Wa(we=>new Es.y(Ve=>({unsubscribe:o.runOutsideAngular(()=>we.onIdTokenChanged(Pe=>Ve.next(Pe),Pe=>Ve.error(Pe),()=>Ve.complete()))}))));this.authState=te.pipe(aY(re),(0,pP.R)(a.outsideAngular),(0,VC.QV)(a.insideAngular)),this.user=te.pipe(aY(Te),(0,pP.R)(a.outsideAngular),(0,VC.QV)(a.insideAngular)),this.idToken=this.user.pipe(Wa(we=>we?io(we.getIdToken()):(0,Mc.of)(null))),this.idTokenResult=this.user.pipe(Wa(we=>we?io(we.getIdTokenResult()):(0,Mc.of)(null))),this.credential=$d(te,O,this.authState.pipe(BE(we=>!we))).pipe(ir(we=>we?.user?we:null),(0,pP.R)(a.outsideAngular),(0,VC.QV)(a.insideAngular))}return(0,jr.pX)(this,U,o,{spy:{apply:(V,te,re)=>{(V.startsWith("signIn")||V.startsWith("createUser"))&&re.then(Te=>O.next(Te))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(jr.Dh),s.LFG(jr.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(zn.HU),s.LFG(NP,8),s.LFG(LP,8),s.LFG(OP,8),s.LFG(RP,8),s.LFG(PP,8),s.LFG(FP,8),s.LFG(HC,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),dee=(()=>{class n{constructor(){WE.Z.registerVersion("angularfire",zn.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[l_]}),n})();function IY(n){return null==n}function NY(n){return"function"==typeof n.set}function LY(n,t){return NY(t)?t:n.ref(t)}function OY(n,t){if(function hee(n){return"string"==typeof n}(n))return t.stringCase();if(NY(n))return t.firebaseCase();if(function fee(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function YC(n,t,e="on",i=mx.z){return new Es.y(r=>{let o=null;return o=n[e](t,(a,u)=>{i.schedule(()=>{r.next({snapshot:a,prevKey:u})}),"once"===e&&i.schedule(()=>r.complete())},a=>{i.schedule(()=>r.error(a))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe(ir(r=>{const{snapshot:o,prevKey:a}=r;let u=null;return o.exists()&&(u=o.key),{type:t,payload:o,prevKey:a,key:u}}),function zO(){return n=>Ay()(function qO(n,t){return function(i){let r;if(r="function"==typeof n?n:function(){return n},"function"==typeof t)return i.lift(new pA(r,t));const o=Object.create(i,GO);return o.source=i,o.subjectFactory=r,o}}(WO)(n))}())}function RY(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function gee(n,t){const{payload:e,prevKey:i,key:r}=t,o=RY(n,r),a=function mee(n,t){if(IY(t))return 0;{const e=RY(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let u=null;t.payload.forEach(f=>{const m={payload:f,type:"value",prevKey:u,key:f.key};return u=f.key,n=[...n,m],!1})}return n;case"child_added":if(o>-1){const u=n[o-1];(u&&u.key||null)!==i&&(n=n.filter(f=>f.payload.key!==e.key)).splice(a,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(a,0,t)}return n;case"child_removed":return n.filter(u=>u.payload.key!==e.key);case"child_changed":return n.map(u=>u.payload.key===r?t:u);case"child_moved":if(o>-1){const u=n.splice(o,1)[0];return(n=n.slice()).splice(a,0,u),n}return n;default:return n}}function PY(n){return(IY(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function FY(n,t,e){return function pee(n,t,e){return YC(n,"value","once",e).pipe(Wa(i=>{const r=[(0,Mc.of)(i)];return t.forEach(o=>r.push(YC(n,o,"on",e))),$d(...r).pipe(Yg(gee,[]))}),Cx())}(n,t=PY(t),e)}function VY(n,t,e){return $d(...(t=PY(t)).map(r=>YC(n,r,"on",e)))}function BY(n,t){return function(i,r){return OY(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function bee(n){return function(e){return e?OY(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function UY(n,t){return function(){return YC(n,"value","on",t)}}const Tee=new s.OlP("angularfire2.realtimeDatabaseURL"),wee=new s.OlP("angularfire2.database.use-emulator");let lm=(()=>{class n{constructor(e,i,r,o,a,u,f,m,v,x,S,k,O,U,V){this.schedulers=u;const te=f,re=(0,jr.on)(e,a,i);m&&VP(re,a,v,S,k,O,x,U),this.database=(0,jr.cc)(`${re.name}.database.${r}`,"AngularFireDatabase",re.name,()=>{const Te=a.runOutsideAngular(()=>re.database(r||void 0));return te&&Te.useEmulator(...te),Te},[te])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>LY(this.database,e));let o=r;return i&&(o=i(r)),function xee(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:BY(i,"update"),set:BY(i,"set"),push:r=>i.push(r),remove:bee(i),snapshotChanges:r=>FY(n,r,e).pipe(zn.iC),stateChanges:r=>VY(n,r,e).pipe(zn.iC),auditTrail:r=>function _ee(n,t,e){return function yee(n,t,e){return function vee(n,t){return YC(n,"value","on",t).pipe(ir(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function tR(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new nR(n,e))}}(t),ir(([r,o])=>{const a=r.lastKeyToLoad,u=o.map(f=>f.key);return{actions:o,lastKeyToLoad:a,loadedKeys:u}}),function Dx(n){return t=>t.lift(new vA(n))}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),ir(r=>r.actions))}(n,VY(n,t).pipe(Yg((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(zn.iC),valueChanges:(r,o)=>FY(n,r,e).pipe(ir(u=>u.map(f=>o&&o.idField?Object.assign(Object.assign({},f.payload.val()),{[o.idField]:f.key}):f.payload.val())),zn.iC)}}(o,this)}object(e){return function Cee(n,t){return{query:n,snapshotChanges:()=>UY(n,t.schedulers.outsideAngular)().pipe(zn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>UY(n,t.schedulers.outsideAngular)().pipe(zn.iC,ir(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>LY(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(jr.Dh),s.LFG(jr.xv,8),s.LFG(Tee,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(zn.HU),s.LFG(wee,8),s.LFG(l_,8),s.LFG(NP,8),s.LFG(LP,8),s.LFG(OP,8),s.LFG(RP,8),s.LFG(PP,8),s.LFG(FP,8),s.LFG(HC,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Dee=(()=>{class n{constructor(){WE.Z.registerVersion("angularfire",zn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[lm]}),n})();var HY=I(3578);function YY(n){return new Tr.y(t=>{(0,Pi.Xf)(n()).subscribe(t)})}var See=I(9635);function jC(n,t){const e=(0,cs.m)(n)?n:()=>n,i=r=>r.error(e());return new Tr.y(t?r=>t.schedule(i,0,r):i)}const p0=(0,I(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function BP(){return(0,Si.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Ci.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class jY extends Tr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Si.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Lo.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Ci.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Lo.w0.EMPTY)}return t}refCount(){return BP()(this)}}function zE(n){return(0,Si.e)((t,e)=>{let i=!1;t.subscribe((0,Ci.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function ZY(n=Eee){return(0,Si.e)((t,e)=>{let i=!1;t.subscribe((0,Ci.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Eee(){return new p0}function cm(n,t){const e=arguments.length>=2;return i=>i.pipe(n?bn((r,o)=>n(r,o,i)):Ks.y,Ai(1),e?zE(t):ZY(()=>new p0))}function c_(n,t){return(0,cs.m)(t)?(0,mr.z)(n,t,1):(0,mr.z)(n,1)}function um(n){return(0,Si.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,Ci.x)(e,void 0,void 0,a=>{o=(0,Pi.Xf)(n(a,um(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function kee(n,t,e,i,r){return(o,a)=>{let u=e,f=t,m=0;o.subscribe((0,Ci.x)(a,v=>{const x=m++;f=u?n(f,v,x):(u=!0,v),i&&a.next(f)},r&&(()=>{u&&a.next(f),a.complete()})))}}function UP(n,t){return(0,Si.e)(kee(n,t,arguments.length>=2,!0))}function HP(n){return n<=0?()=>wr.E:(0,Si.e)((t,e)=>{let i=[];t.subscribe((0,Ci.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function GY(n,t){const e=arguments.length>=2;return i=>i.pipe(n?bn((r,o)=>n(r,o,i)):Ks.y,HP(1),e?zE(t):ZY(()=>new p0))}function YP(n){return(0,Si.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const En="primary";class Iee{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function m0(n){return new Iee(n)}function Nee(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const a=i[o],u=n[o];if(a.startsWith(":"))r[a.substring(1)]=u;else if(a!==u.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function eh(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!$Y(n[r],t[r]))return!1;return!0}function $Y(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function qY(n){return Array.prototype.concat.apply([],n)}function WY(n){return n.length>0?n[n.length-1]:null}function ao(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Cf(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,ci.D)(Promise.resolve(n)):At(n)}const Ree={exact:function JY(n,t,e){if(!d_(n.segments,t.segments)||!KE(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!JY(n.children[i],t.children[i],e))return!1;return!0},subset:QY},zY={exact:function Pee(n,t){return eh(n,t)},subset:function Fee(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>$Y(n[e],t[e]))},ignored:()=>!0};function KY(n,t,e){return Ree[e.paths](n.root,t.root,e.matrixParams)&&zY[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function QY(n,t,e){return XY(n,t,t.segments,e)}function XY(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!d_(r,e)||t.hasChildren()||!KE(r,e,i))}if(n.segments.length===e.length){if(!d_(n.segments,e)||!KE(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!QY(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(d_(n.segments,r)&&KE(n.segments,r,i)&&n.children[En])&&XY(n.children[En],t,o,i)}}function KE(n,t,e){return t.every((i,r)=>zY[e](n[r].parameters,i.parameters))}class u_{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=m0(this.queryParams)),this._queryParamMap}toString(){return Uee.serialize(this)}}class Mn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ao(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return JE(this)}}class ZC{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=m0(this.parameters)),this._parameterMap}toString(){return rj(this)}}function d_(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class ej{}class tj{parse(t){const e=new zee(t);return new u_(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${GC(t.root,!0)}`,i=function jee(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${QE(e)}=${QE(r)}`).join("&"):`${QE(e)}=${QE(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Hee(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Uee=new tj;function JE(n){return n.segments.map(t=>rj(t)).join("/")}function GC(n,t){if(!n.hasChildren())return JE(n);if(t){const e=n.children[En]?GC(n.children[En],!1):"",i=[];return ao(n.children,(r,o)=>{o!==En&&i.push(`${o}:${GC(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Bee(n,t){let e=[];return ao(n.children,(i,r)=>{r===En&&(e=e.concat(t(i,r)))}),ao(n.children,(i,r)=>{r!==En&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===En?[GC(n.children[En],!1)]:[`${r}:${GC(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[En]?`${JE(n)}/${e[0]}`:`${JE(n)}/(${e.join("//")})`}}function nj(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function QE(n){return nj(n).replace(/%3B/gi,";")}function ZP(n){return nj(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function XE(n){return decodeURIComponent(n)}function ij(n){return XE(n.replace(/\+/g,"%20"))}function rj(n){return`${ZP(n.path)}${function Yee(n){return Object.keys(n).map(t=>`;${ZP(t)}=${ZP(n[t])}`).join("")}(n.parameters)}`}const Zee=/^[^\/()?;=#]+/;function ek(n){const t=n.match(Zee);return t?t[0]:""}const Gee=/^[^=?&#]+/,qee=/^[^&#]+/;class zee{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mn([],{}):new Mn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[En]=new Mn(t,e)),i}parseSegment(){const t=ek(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(t),new ZC(XE(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ek(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=ek(this.remaining);r&&(i=r,this.capture(i))}t[XE(e)]=XE(i)}parseQueryParam(t){const e=function $ee(n){const t=n.match(Gee);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function Wee(n){const t=n.match(qee);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=ij(e),o=ij(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ek(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=En);const a=this.parseChildren();e[o]=1===Object.keys(a).length?a[En]:new Mn([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,!1)}}function GP(n){return n.segments.length>0?new Mn([],{[En]:n}):n}function tk(n){const t={};for(const i of Object.keys(n.children)){const o=tk(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Kee(n){if(1===n.numberOfChildren&&n.children[En]){const t=n.children[En];return new Mn(n.segments.concat(t.segments),t.children)}return n}(new Mn(n.segments,t))}function h_(n){return n instanceof u_}function Xee(n,t,e,i,r){if(0===e.length)return g0(t.root,t.root,t.root,i,r);const o=function aj(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new oj(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const u={};return ao(o.outlets,(f,m)=>{u[m]="string"==typeof f?f.split("/"):f}),[...r,{outlets:u}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===a?(o.split("/").forEach((u,f)=>{0==f&&"."===u||(0==f&&""===u?e=!0:".."===u?t++:""!=u&&r.push(u))}),r):[...r,o]},[]);return new oj(e,t,i)}(e);return o.toRoot()?g0(t.root,t.root,new Mn([],{}),i,r):function a(f){const m=function tte(n,t,e,i){if(n.isAbsolute)return new _0(t.root,!0,0);if(-1===i)return new _0(e,e===t.root,0);return function lj(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,!1);r=i.segments.length}return new _0(i,!1,r-o)}(e,i+($C(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,f),v=m.processChildren?WC(m.segmentGroup,m.index,o.commands):qP(m.segmentGroup,m.index,o.commands);return g0(t.root,m.segmentGroup,v,i,r)}(n.snapshot?._lastPathIndex)}function $C(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function qC(n){return"object"==typeof n&&null!=n&&n.outlets}function g0(n,t,e,i,r){let a,o={};i&&ao(i,(f,m)=>{o[m]=Array.isArray(f)?f.map(v=>`${v}`):`${f}`}),a=n===t?e:sj(n,t,e);const u=GP(tk(a));return new u_(u,o,r)}function sj(n,t,e){const i={};return ao(n.children,(r,o)=>{i[o]=r===t?e:sj(r,t,e)}),new Mn(n.segments,i)}class oj{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&$C(i[0]))throw new s.vHH(4003,!1);const r=i.find(qC);if(r&&r!==WY(i))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _0{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function qP(n,t,e){if(n||(n=new Mn([],{})),0===n.segments.length&&n.hasChildren())return WC(n,t,e);const i=function ite(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const a=n.segments[r],u=e[i];if(qC(u))break;const f=`${u}`,m=i<e.length-1?e[i+1]:null;if(r>0&&void 0===f)break;if(f&&m&&"object"==typeof m&&void 0===m.outlets){if(!uj(f,m,a))return o;i+=2}else{if(!uj(f,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Mn(n.segments.slice(0,i.pathIndex),{});return o.children[En]=new Mn(n.segments.slice(i.pathIndex),n.children),WC(o,0,r)}return i.match&&0===r.length?new Mn(n.segments,{}):i.match&&!n.hasChildren()?WP(n,t,e):i.match?WC(n,0,r):WP(n,t,e)}function WC(n,t,e){if(0===e.length)return new Mn(n.segments,{});{const i=function nte(n){return qC(n[0])?n[0].outlets:{[En]:n}}(e),r={};return ao(i,(o,a)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[a]=qP(n.children[a],t,o))}),ao(n.children,(o,a)=>{void 0===i[a]&&(r[a]=o)}),new Mn(n.segments,r)}}function WP(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(qC(o)){const f=rte(o.outlets);return new Mn(i,f)}if(0===r&&$C(e[0])){i.push(new ZC(n.segments[t].path,cj(e[0]))),r++;continue}const a=qC(o)?o.outlets[En]:`${o}`,u=r<e.length-1?e[r+1]:null;a&&u&&$C(u)?(i.push(new ZC(a,cj(u))),r+=2):(i.push(new ZC(a,{})),r++)}return new Mn(i,{})}function rte(n){const t={};return ao(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=WP(new Mn([],{}),0,e))}),t}function cj(n){const t={};return ao(n,(e,i)=>t[i]=`${e}`),t}function uj(n,t,e){return n==e.path&&eh(t,e.parameters)}class Tf{constructor(t,e){this.id=t,this.url=e}}class zP extends Tf{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class f_ extends Tf{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nk extends Tf{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dj extends Tf{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ste extends Tf{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ote extends Tf{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ate extends Tf{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lte extends Tf{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cte extends Tf{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ute{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dte{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hte{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fte{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pte{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mte{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hj{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class fj{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=KP(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=KP(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=JP(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return JP(t,this._root).map(e=>e.value)}}function KP(n,t){if(n===t.value)return t;for(const e of t.children){const i=KP(n,e);if(i)return i}return null}function JP(n,t){if(n===t.value)return[t];for(const e of t.children){const i=JP(n,e);if(i.length)return i.unshift(t),i}return[]}class wf{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function v0(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class pj extends fj{constructor(t,e){super(t),this.snapshot=e,QP(this,t)}toString(){return this.snapshot.toString()}}function mj(n,t){const e=function _te(n,t){const a=new ik([],{},{},"",{},En,t,null,n.root,-1,{});return new _j("",new wf(a,[]))}(n,t),i=new _i([new ZC("",{})]),r=new _i({}),o=new _i({}),a=new _i({}),u=new _i(""),f=new Df(i,r,a,u,o,En,t,e.root);return f.snapshot=e.root,new pj(new wf(f,[]),e)}class Df{constructor(t,e,i,r,o,a,u,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=u,this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Nt.U)(t=>m0(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Nt.U)(t=>m0(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gj(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function vte(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class ik{constructor(t,e,i,r,o,a,u,f,m,v,x,S){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=u,this.routeConfig=f,this._urlSegment=m,this._lastPathIndex=v,this._correctedLastPathIndex=S??v,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=m0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=m0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _j extends fj{constructor(t,e){super(e),this.url=t,QP(this,e)}toString(){return vj(this._root)}}function QP(n,t){t.value._routerState=n,t.children.forEach(e=>QP(n,e))}function vj(n){const t=n.children.length>0?` { ${n.children.map(vj).join(", ")} } `:"";return`${n.value}${t}`}function XP(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,eh(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),eh(t.params,e.params)||n.params.next(e.params),function Lee(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!eh(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),eh(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function e2(n,t){const e=eh(n.params,t.params)&&function Vee(n,t){return d_(n,t)&&n.every((e,i)=>eh(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||e2(n.parent,t.parent))}function zC(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function bte(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return zC(n,i,r);return zC(n,i)})}(n,t,e);return new wf(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(u=>zC(n,u)),a}}const i=function xte(n){return new Df(new _i(n.url),new _i(n.params),new _i(n.queryParams),new _i(n.fragment),new _i(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>zC(n,o));return new wf(i,r)}}const t2="ngNavigationCancelingError";function yj(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=h_(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=bj(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function bj(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[t2]=!0,i.cancellationCode=t,e&&(i.url=e),i}function xj(n){return Cj(n)&&h_(n.url)}function Cj(n){return n&&n[t2]}class Cte{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new KC,this.attachRef=null}}class KC{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Cte,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}const rk=!1;let n2=(()=>{class n{constructor(e,i,r,o,a){this.parentContexts=e,this.location=i,this.changeDetector=o,this.environmentInjector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=r||En,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,rk);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,rk);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,rk);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,rk);this._activatedRoute=e;const r=this.location,a=e._futureSnapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,f=new Tte(e,u,r.injector);if(i&&function wte(n){return!!n.resolveComponentFactory}(i)){const m=i.resolveComponentFactory(a);this.activated=r.createComponent(m,r.length,f)}else this.activated=r.createComponent(a,{index:r.length,injector:f,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(KC),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Tte{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Df?this.route:t===KC?this.childContexts:this.parent.get(t,e)}}let Tj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[n2],encapsulation:2}),n})();function wj(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function s2(n){const t=n.children&&n.children.map(s2),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==En&&(e.component=Tj),e}function Yc(n){return n.outlet||En}function Dj(n,t){const e=n.filter(i=>Yc(i)===t);return e.push(...n.filter(i=>Yc(i)!==t)),e}function Sj(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class kte{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),XP(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=v0(e);t.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),ao(r,(o,a)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=v0(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);if(i&&i.outlet){const a=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=v0(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=v0(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new mte(o.value.snapshot))}),t.children.length&&this.forwardEvent(new fte(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(XP(r),r===o)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),XP(u.route.value),this.activateChildRoutes(t,null,a.children)}else{const u=Sj(r.snapshot),f=u?.get(s._Vd)??null;a.attachRef=null,a.route=r,a.resolver=f,a.injector=u,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class Aj{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class sk{constructor(t,e){this.component=t,this.route=e}}function Mte(n,t,e){const i=n._root;return JC(i,t?t._root:null,e,[i.value])}function ok(n,t,e){return(Sj(t)??e).get(n)}function JC(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=v0(t);return n.children.forEach(a=>{(function Nte(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,a=t?t.value:null,u=e?e.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const f=function Lte(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!d_(n.url,t.url);case"pathParamsOrQueryParamsChange":return!d_(n.url,t.url)||!eh(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!e2(n,t)||!eh(n.queryParams,t.queryParams);default:return!e2(n,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new Aj(i)):(o.data=a.data,o._resolvedData=a._resolvedData),JC(n,t,o.component?u?u.children:null:e,i,r),f&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new sk(u.outlet.component,a))}else a&&QC(t,u,r),r.canActivateChecks.push(new Aj(i)),JC(n,null,o.component?u?u.children:null:e,i,r)})(a,o[a.value.outlet],e,i.concat([a.value]),r),delete o[a.value.outlet]}),ao(o,(a,u)=>QC(a,e.getContext(u),r)),r}function QC(n,t,e){const i=v0(n),r=n.value;ao(i,(o,a)=>{QC(o,r.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new sk(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function XC(n){return"function"==typeof n}const ak=Symbol("INITIAL_VALUE");function y0(){return _r(n=>kn(n.map(t=>t.pipe(Ai(1),Tl(ak)))).pipe((0,Nt.U)(t=>{for(const e of t)if(!0!==e){if(e===ak)return ak;if(!1===e||e instanceof u_)return e}return!0}),bn(t=>t!==ak),Ai(1)))}function Ej(n){return(0,See.z)(Fi(t=>{if(h_(t))throw yj(0,t)}),(0,Nt.U)(t=>!0===t))}const o2={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kj(n,t,e,i,r){const o=a2(n,t,e);return o.matched?function Kte(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?At(r.map(a=>{const u=n.get(a),f=function Bte(n){return n&&XC(n.canMatch)}(u)?u.canMatch(t,e):u(t,e);return Cf(f)})).pipe(y0(),Ej()):At(!0)}(i=wj(t,i),t,e).pipe((0,Nt.U)(a=>!0===a?o:{...o2})):At(o)}function a2(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...o2}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Nee)(e,n,t);if(!r)return{...o2};const o={};ao(r.posParams,(u,f)=>{o[f]=u.path});const a=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function lk(n,t,e,i,r="corrected"){if(e.length>0&&function Xte(n,t,e){return e.some(i=>ck(n,t,i)&&Yc(i)!==En)}(n,e,i)){const a=new Mn(t,function Qte(n,t,e,i){const r={};r[En]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Yc(o)!==En){const a=new Mn([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,r[Yc(o)]=a}return r}(n,t,i,new Mn(e,n.children)));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function ene(n,t,e){return e.some(i=>ck(n,t,i))}(n,e,i)){const a=new Mn(n.segments,function Jte(n,t,e,i,r,o){const a={};for(const u of i)if(ck(n,e,u)&&!r[Yc(u)]){const f=new Mn([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===o?n.segments.length:t.length,a[Yc(u)]=f}return{...r,...a}}(n,t,e,i,n.children,r));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const o=new Mn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function ck(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Mj(n,t,e,i){return!!(Yc(n)===i||i!==En&&ck(t,e,n))&&("**"===n.path||a2(t,n,e).matched)}function Ij(n,t,e){return 0===t.length&&!n.children[e]}const uk=!1;class dk{constructor(t){this.segmentGroup=t||null}}class Nj{constructor(t){this.urlTree=t}}function eT(n){return jC(new dk(n))}function Lj(n){return jC(new Nj(n))}class rne{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=lk(this.urlTree.root,[],[],this.config).segmentGroup,e=new Mn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,En).pipe((0,Nt.U)(o=>this.createUrlTree(tk(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(um(o=>{if(o instanceof Nj)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof dk?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,En).pipe((0,Nt.U)(r=>this.createUrlTree(tk(r),t.queryParams,t.fragment))).pipe(um(r=>{throw r instanceof dk?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,uk)}createUrlTree(t,e,i){const r=GP(t);return new u_(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Nt.U)(o=>new Mn([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,ci.D)(r).pipe(c_(o=>{const a=i.children[o],u=Dj(e,o);return this.expandSegmentGroup(t,u,a,o).pipe((0,Nt.U)(f=>({segment:f,outlet:o})))}),UP((o,a)=>(o[a.outlet]=a.segment,o),{}),GY())}expandSegment(t,e,i,r,o,a){return(0,ci.D)(i).pipe(c_(u=>this.expandSegmentAgainstRoute(t,e,i,u,r,o,a).pipe(um(m=>{if(m instanceof dk)return At(null);throw m}))),cm(u=>!!u),um((u,f)=>{if(u instanceof p0||"EmptyError"===u.name)return Ij(e,r,o)?At(new Mn([],{})):eT(e);throw u}))}expandSegmentAgainstRoute(t,e,i,r,o,a,u){return Mj(r,e,o,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,a):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a):eT(e):eT(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Lj(o):this.lineralizeSegments(i,o).pipe((0,mr.z)(a=>{const u=new Mn(a,{});return this.expandSegment(t,u,e,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a){const{matched:u,consumedSegments:f,remainingSegments:m,positionalParamSegments:v}=a2(e,r,o);if(!u)return eT(e);const x=this.applyRedirectCommands(f,r.redirectTo,v);return r.redirectTo.startsWith("/")?Lj(x):this.lineralizeSegments(r,x).pipe((0,mr.z)(S=>this.expandSegment(t,e,i,S.concat(m),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=wj(i,t),i.loadChildren?(i._loadedRoutes?At({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,Nt.U)(u=>(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,new Mn(r,{})))):At(new Mn(r,{}))):kj(e,i,r,t).pipe(_r(({matched:a,consumedSegments:u,remainingSegments:f})=>a?this.getChildConfig(t=i._injector??t,i,r).pipe((0,mr.z)(v=>{const x=v.injector??t,S=v.routes,{segmentGroup:k,slicedSegments:O}=lk(e,u,f,S),U=new Mn(k.segments,k.children);if(0===O.length&&U.hasChildren())return this.expandChildren(x,S,U).pipe((0,Nt.U)(Te=>new Mn(u,Te)));if(0===S.length&&0===O.length)return At(new Mn(u,{}));const V=Yc(i)===o;return this.expandSegment(x,U,S,O,V?En:o,!0).pipe((0,Nt.U)(re=>new Mn(u.concat(re.segments),re.children)))})):eT(e)))}getChildConfig(t,e,i){return e.children?At({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?At({routes:e._loadedRoutes,injector:e._loadedInjector}):function zte(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?At(!0):At(r.map(a=>{const u=n.get(a),f=function Rte(n){return n&&XC(n.canLoad)}(u)?u.canLoad(t,e):u(t,e);return Cf(f)})).pipe(y0(),Ej())}(t,e,i).pipe((0,mr.z)(r=>r?this.configLoader.loadChildren(t,e).pipe(Fi(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function nne(n){return jC(bj(uk,3))}())):At({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return At(i);if(r.numberOfChildren>1||!r.children[En])return jC(new s.vHH(4e3,uk));r=r.children[En]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new u_(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ao(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const u=r.substring(1);i[o]=e[u]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let a={};return ao(e.children,(u,f)=>{a[f]=this.createSegmentGroup(t,u,i,r)}),new Mn(o,a)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,uk);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class one{}class cne{constructor(t,e,i,r,o,a,u,f){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u,this.urlSerializer=f}recognize(){const t=lk(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,En).pipe((0,Nt.U)(e=>{if(null===e)return null;const i=new ik([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},En,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new wf(i,e),o=new _j(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=gj(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,ci.D)(Object.keys(i.children)).pipe(c_(r=>{const o=i.children[r],a=Dj(e,r);return this.processSegmentGroup(t,a,o,r)}),UP((r,o)=>r&&o?(r.push(...o),r):null),function Mee(n,t=!1){return(0,Si.e)((e,i)=>{let r=0;e.subscribe((0,Ci.x)(i,o=>{const a=n(o,r++);(a||t)&&i.next(o),!a&&i.complete()}))})}(r=>null!==r),zE(null),GY(),(0,Nt.U)(r=>{if(null===r)return null;const o=Oj(r);return function une(n){n.sort((t,e)=>t.value.outlet===En?-1:e.value.outlet===En?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,ci.D)(e).pipe(c_(a=>this.processSegmentAgainstRoute(a._injector??t,a,i,r,o)),cm(a=>!!a),um(a=>{if(a instanceof p0)return Ij(i,r,o)?At([]):At(null);throw a}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!Mj(e,i,r,o))return At(null);let a;if("**"===e.path){const u=r.length>0?WY(r).parameters:{},f=Pj(i)+r.length;a=At({snapshot:new ik(r,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vj(e),Yc(e),e.component??e._loadedComponent??null,e,Rj(i),f,Bj(e),f),consumedSegments:[],remainingSegments:[]})}else a=kj(i,e,r,t).pipe((0,Nt.U)(({matched:u,consumedSegments:f,remainingSegments:m,parameters:v})=>{if(!u)return null;const x=Pj(i)+f.length;return{snapshot:new ik(f,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vj(e),Yc(e),e.component??e._loadedComponent??null,e,Rj(i),x,Bj(e),x),consumedSegments:f,remainingSegments:m}}));return a.pipe(_r(u=>{if(null===u)return At(null);const{snapshot:f,consumedSegments:m,remainingSegments:v}=u;t=e._injector??t;const x=e._loadedInjector??t,S=function dne(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:k,slicedSegments:O}=lk(i,m,v,S.filter(V=>void 0===V.redirectTo),this.relativeLinkResolution);if(0===O.length&&k.hasChildren())return this.processChildren(x,S,k).pipe((0,Nt.U)(V=>null===V?null:[new wf(f,V)]));if(0===S.length&&0===O.length)return At([new wf(f,[])]);const U=Yc(e)===o;return this.processSegment(x,S,k,O,U?En:o).pipe((0,Nt.U)(V=>null===V?null:[new wf(f,V)]))}))}}function hne(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Oj(n){const t=[],e=new Set;for(const i of n){if(!hne(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Oj(i.children);t.push(new wf(i.value,r))}return t.filter(i=>!e.has(i))}function Rj(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Pj(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Vj(n){return n.data||{}}function Bj(n){return n.resolve||{}}const l2=Symbol("RouteTitle");function mne(n,t){return(0,mr.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return At(e);let o=0;return(0,ci.D)(r).pipe(c_(a=>function gne(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!Uj(r)&&(o[l2]=r.title),function _ne(n,t,e,i){const r=function vne(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return At({});const o={};return(0,ci.D)(r).pipe((0,mr.z)(a=>function yne(n,t,e,i){const r=ok(n,t,i);return Cf(r.resolve?r.resolve(t,e):r(t,e))}(n[a],t,e,i).pipe(cm(),Fi(u=>{o[a]=u}))),HP(1),function Td(n){return(0,Nt.U)(()=>n)}(o),um(a=>a instanceof p0?wr.E:jC(a)))}(o,n,t,i).pipe((0,Nt.U)(a=>(n._resolvedData=a,n.data=gj(n,e).resolve,r&&Uj(r)&&(n.data[l2]=r.title),null)))}(a.route,i,n,t)),Fi(()=>o++),HP(1),(0,mr.z)(a=>o===r.length?At(e):wr.E))})}function Uj(n){return"string"==typeof n.title||null===n.title}function c2(n){return _r(t=>{const e=n(t);return e?(0,ci.D)(e).pipe((0,Nt.U)(()=>t)):At(t)})}let Hj=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===En);return i}getResolvedTitleForRoute(e){return e.data[l2]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Yj)},providedIn:"root"}),n})(),Yj=(()=>{class n extends Hj{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class bne{}class Cne extends class xne{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const u2=new s.OlP("",{providedIn:"root",factory:()=>({})}),d2=new s.OlP("ROUTES");let h2=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return At(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Cf(e.loadComponent()).pipe(Fi(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),YP(()=>{this.componentLoaders.delete(e)})),r=new jY(i,()=>new sn.x).pipe(BP());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return At({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Nt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let f,m,v=!1;Array.isArray(u)?m=u:(f=u.create(e).injector,m=qY(f.get(d2,[],s.XFs.Self|s.XFs.Optional)));return{routes:m.map(s2),injector:f}}),YP(()=>{this.childrenLoaders.delete(i)})),a=new jY(o,()=>new sn.x).pipe(BP());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(e){return Cf(e()).pipe((0,mr.z)(i=>i instanceof s.YKP||Array.isArray(i)?At(i):(0,ci.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class wne{}class Dne{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Sne(n){throw n}function Ane(n,t,e){return t.parse("/")}const Ene={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kne={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Zj(){const n=(0,s.f3M)(ej),t=(0,s.f3M)(KC),e=(0,s.f3M)(X),i=(0,s.f3M)(s.zs3),r=(0,s.f3M)(s.Sil),o=(0,s.f3M)(d2,{optional:!0})??[],a=(0,s.f3M)(u2,{optional:!0})??{},u=(0,s.f3M)(Yj),f=(0,s.f3M)(Hj,{optional:!0}),m=(0,s.f3M)(wne,{optional:!0}),v=(0,s.f3M)(bne,{optional:!0}),x=new Bi(null,n,t,e,i,r,qY(o));return m&&(x.urlHandlingStrategy=m),v&&(x.routeReuseStrategy=v),x.titleStrategy=f??u,function Mne(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(a,x),x}let Bi=(()=>{class n{constructor(e,i,r,o,a,u,f){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new sn.x,this.errorHandler=Sne,this.malformedUriErrorHandler=Ane,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>At(void 0),this.urlHandlingStrategy=new Dne,this.routeReuseStrategy=new Cne,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=a.get(h2),this.configLoader.onLoadEndListener=S=>this.triggerEvent(new dte(S)),this.configLoader.onLoadStartListener=S=>this.triggerEvent(new ute(S)),this.ngModule=a.get(s.h0i),this.console=a.get(s.c2e);const x=a.get(s.R0b);this.isNgZoneEnabled=x instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function Oee(){return new u_(new Mn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=mj(this.currentUrlTree,this.rootComponentType),this.transitions=new _i({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(bn(r=>0!==r.id),(0,Nt.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),_r(r=>{let o=!1,a=!1;return At(r).pipe(Fi(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),_r(u=>{const f=this.browserUrlTree.toString(),m=!this.navigated||u.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||m)&&this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Gj(u.source)&&(this.browserUrlTree=u.extractedUrl),At(u).pipe(_r(x=>{const S=this.transitions.getValue();return i.next(new zP(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),S!==this.transitions.getValue()?wr.E:Promise.resolve(x)}),function sne(n,t,e,i){return _r(r=>function ine(n,t,e,i,r){return new rne(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Nt.U)(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Fi(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},r.urlAfterRedirects=x.urlAfterRedirects}),function pne(n,t,e,i,r,o){return(0,mr.z)(a=>function lne(n,t,e,i,r,o,a="emptyOnly",u="legacy"){return new cne(n,t,e,i,r,a,u,o).recognize().pipe(_r(f=>null===f?function ane(n){return new Tr.y(t=>t.error(n))}(new one):At(f)))}(n,t,e,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,r,o).pipe((0,Nt.U)(u=>({...a,targetSnapshot:u}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Fi(x=>{if(r.targetSnapshot=x.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const k=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(k,x)}this.browserUrlTree=x.urlAfterRedirects}const S=new ste(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);i.next(S)}));if(m&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:S,extractedUrl:k,source:O,restoredState:U,extras:V}=u,te=new zP(S,this.serializeUrl(k),O,U);i.next(te);const re=mj(k,this.rootComponentType).snapshot;return At(r={...u,targetSnapshot:re,urlAfterRedirects:k,extras:{...V,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=u.rawUrl,u.resolve(null),wr.E}),Fi(u=>{const f=new ote(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(f)}),(0,Nt.U)(u=>r={...u,guards:Mte(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function Hte(n,t){return(0,mr.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return 0===a.length&&0===o.length?At({...e,guardsResult:!0}):function Yte(n,t,e,i){return(0,ci.D)(n).pipe((0,mr.z)(r=>function Wte(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?At(o.map(u=>{const f=ok(u,t,r);return Cf(function Vte(n){return n&&XC(n.canDeactivate)}(f)?f.canDeactivate(n,t,e,i):f(n,t,e,i)).pipe(cm())})).pipe(y0()):At(!0)}(r.component,r.route,e,t,i)),cm(r=>!0!==r,!0))}(a,i,r,n).pipe((0,mr.z)(u=>u&&function Ote(n){return"boolean"==typeof n}(u)?function jte(n,t,e,i){return(0,ci.D)(t).pipe(c_(r=>ds(function Gte(n,t){return null!==n&&t&&t(new hte(n)),At(!0)}(r.route.parent,i),function Zte(n,t){return null!==n&&t&&t(new pte(n)),At(!0)}(r.route,i),function qte(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>function Ite(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>YY(()=>At(a.guards.map(f=>{const m=ok(f,a.node,e);return Cf(function Fte(n){return n&&XC(n.canActivateChild)}(m)?m.canActivateChild(i,n):m(i,n)).pipe(cm())})).pipe(y0())));return At(o).pipe(y0())}(n,r.path,e),function $te(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return At(!0);const r=i.map(o=>YY(()=>{const a=ok(o,t,e);return Cf(function Pte(n){return n&&XC(n.canActivate)}(a)?a.canActivate(t,n):a(t,n)).pipe(cm())}));return At(r).pipe(y0())}(n,r.route,e))),cm(r=>!0!==r,!0))}(i,o,n,t):At(u)),(0,Nt.U)(u=>({...e,guardsResult:u})))})}(this.ngModule.injector,u=>this.triggerEvent(u)),Fi(u=>{if(r.guardsResult=u.guardsResult,h_(u.guardsResult))throw yj(0,u.guardsResult);const f=new ate(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.triggerEvent(f)}),bn(u=>!!u.guardsResult||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),c2(u=>{if(u.guards.canActivateChecks.length)return At(u).pipe(Fi(f=>{const m=new lte(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}),_r(f=>{let m=!1;return At(f).pipe(mne(this.paramsInheritanceStrategy,this.ngModule.injector),Fi({next:()=>m=!0,complete:()=>{m||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),Fi(f=>{const m=new cte(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}))}),c2(u=>{const f=m=>{const v=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(m.routeConfig).pipe(Fi(x=>{m.component=x}),(0,Nt.U)(()=>{})));for(const x of m.children)v.push(...f(x));return v};return kn(f(u.targetSnapshot.root)).pipe(zE(),Ai(1))}),c2(()=>this.afterPreactivation()),(0,Nt.U)(u=>{const f=function yte(n,t,e){const i=zC(n,t._root,e?e._root:void 0);return new pj(i,t)}(this.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return r={...u,targetRouterState:f}}),Fi(u=>{this.currentUrlTree=u.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),this.routerState=u.targetRouterState,"deferred"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,u),this.browserUrlTree=u.urlAfterRedirects)}),((n,t,e)=>(0,Nt.U)(i=>(new kte(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,u=>this.triggerEvent(u)),Fi({next(){o=!0},complete(){o=!0}}),YP(()=>{o||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),um(u=>{if(a=!0,Cj(u)){xj(u)||(this.navigated=!0,this.restoreHistory(r,!0));const f=new nk(r.id,this.serializeUrl(r.extractedUrl),u.message,u.cancellationCode);if(i.next(f),xj(u)){const m=this.urlHandlingStrategy.merge(u.url,this.rawUrlTree),v={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Gj(r.source)};this.scheduleNavigation(m,"imperative",null,v,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const f=new dj(r.id,this.serializeUrl(r.extractedUrl),u,r.targetSnapshot??void 0);i.next(f);try{r.resolve(this.errorHandler(u))}catch(m){r.reject(m)}}return wr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(r.state=u)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(s2),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:f}=i,m=r||this.routerState.root,v=f?this.currentUrlTree.fragment:a;let x=null;switch(u){case"merge":x={...this.currentUrlTree.queryParams,...o};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=o||null}return null!==x&&(x=this.removeEmptyProps(x)),Xee(m,this.currentUrlTree,e,x,v??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=h_(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function Ine(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...Ene}:!1===i?{...kne}:i,h_(e))return KY(this.currentUrlTree,e,r);const o=this.parseUrl(e);return KY(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new f_(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let u,f,m;a?(u=a.resolve,f=a.reject,m=a.promise):m=new Promise((S,k)=>{u=S,f=k});const v=++this.navigationId;let x;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),x=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):x=0,this.setTransition({id:v,targetPageId:x,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:u,reject:f,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(S=>Promise.reject(S))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const o=new nk(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return Zj()},providedIn:"root"}),n})();function Gj(n){return"imperative"!==n}let f2=(()=>{class n{constructor(e,i,r,o,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.commands=null,this.onChanges=new sn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:(0,s.D6c)(this.skipLocationChange),replaceUrl:(0,s.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,s.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Bi),s.Y36(Df),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),b0=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new sn.x,this.subscription=e.events.subscribe(o=>{o instanceof f_&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,a){if(0!==e||i||r||o||a||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const u={skipLocationChange:(0,s.D6c)(this.skipLocationChange),replaceUrl:(0,s.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,u),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,s.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Bi),s.Y36(Df),s.Y36(Ce))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),pk=(()=>{class n{constructor(e,i,r,o,a,u){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=a,this.linkWithHref=u,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=e.events.subscribe(f=>{f instanceof f_&&this.update()})}ngAfterContentInit(){At(this.links.changes,this.linksWithHrefs.changes,At(null)).pipe((0,mc.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,ci.D)(e).pipe((0,mc.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function Nne(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Bi),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(f2,8),s.Y36(b0,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,f2,5),s.Suo(r,b0,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.links=o),s.iGM(o=s.CRH())&&(i.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[s.TTD]}),n})();class $j{}let qj=(()=>{class n{constructor(e,i,r,o,a){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(bn(e=>e instanceof f_),c_(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const a=o._injector??e,u=o._loadedInjector??a;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(a,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(u,o.children??o._loadedRoutes))}return(0,ci.D)(r).pipe((0,mc.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):At(null);const o=r.pipe((0,mr.z)(a=>null===a?At(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(i.loadComponent&&!i._loadedComponent){const a=this.loader.loadComponent(i);return(0,ci.D)([o,a]).pipe((0,mc.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Bi),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG($j),s.LFG(h2))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Wj=new s.OlP("");let Lne=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof zP?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof f_&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof hj&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new hj(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const zj=new s.OlP("ROUTER_FORROOT_GUARD"),Kj=new s.OlP(""),One=[X,{provide:ej,useClass:tj},{provide:Bi,useFactory:Zj},KC,{provide:Df,useFactory:function Rne(n){return n.routerState.root},deps:[Bi]},h2];function Pne(){return new s.PXZ("Router",Bi)}let Jj=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[One,[],Qj(e),{provide:zj,useFactory:Une,deps:[[Bi,new s.FiY,new s.tp0]]},{provide:u2,useValue:i||{}},i?.useHash?{provide:Ce,useClass:Ae}:{provide:Ce,useClass:oe},{provide:Wj,useFactory:()=>{const n=(0,s.f3M)(Bi),t=(0,s.f3M)(np),e=(0,s.f3M)(u2);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Lne(n,t,e)}},i?.preloadingStrategy?qne(i.preloadingStrategy):[],{provide:s.PXZ,multi:!0,useFactory:Pne},i?.initialNavigation?Yne(i):[],[{provide:Xj,useFactory:Hne},{provide:s.tb,multi:!0,useExisting:Xj}]]}}static forChild(e){return{ngModule:n,providers:[Qj(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zj,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function Une(n){return"guarded"}function Qj(n){return[{provide:d2,multi:!0,useValue:n}]}function Hne(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(Bi),r=n.get(eZ);1===n.get(p2)&&i.initialNavigation(),n.get(Kj,null,s.XFs.Optional)?.setUpPreloading(),n.get(Wj,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const Xj=new s.OlP("");function Yne(n){return["disabled"===n.initialNavigation?[{provide:s.ip1,multi:!0,useFactory:()=>{const n=(0,s.f3M)(Bi);return()=>{n.setUpLocationChangeListener()}}},{provide:p2,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:p2,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:n=>{const t=n.get(F,Promise.resolve(null));let e=!1;return()=>t.then(()=>new Promise(r=>{const o=n.get(Bi),a=n.get(eZ);(function i(r){n.get(Bi).events.pipe(bn(a=>a instanceof f_||a instanceof nk||a instanceof dj),(0,Nt.U)(a=>a instanceof f_||a instanceof nk&&(0===a.code||1===a.code)&&null),bn(a=>null!==a),Ai(1)).subscribe(()=>{r()})})(()=>{r(!0),e=!0}),o.afterPreactivation=()=>(r(!0),e||a.closed?At(void 0):a),o.initialNavigation()}))}}]:[]]}const eZ=new s.OlP("",{factory:()=>new sn.x}),p2=new s.OlP("",{providedIn:"root",factory:()=>1});function qne(n){return[qj,{provide:Kj,useExisting:qj},{provide:$j,useExisting:n}]}let wi=(()=>{class n{constructor(e,i,r){this.angularFireAuth=e,this.db=i,this.router=r}setAuthState(){return this.angularFireAuth.authState.subscribe(e=>{e?(this.userData=e,this.GetUserData(e.uid).valueChanges().subscribe(i=>{localStorage.setItem("user",JSON.stringify({user:this.userData,...i})),JSON.parse(localStorage.getItem("user"))})):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignUp(e,i,r,o,a){var u=this;return(0,ke.Z)(function*(){return yield u.angularFireAuth.createUserWithEmailAndPassword(e,i).then(f=>{f.user?.updateProfile({displayName:o}),u.SetUserData(f.user,o,r,a)}).catch(f=>{console.log("Something is wrong")})})()}SignIn(e,i){var r=this;return(0,ke.Z)(function*(){const o=(0,HY.n)();return yield(0,HY.a5)(o,e,i).then(a=>{r.photoURL=o.currentUser?.photoURL,r.setAuthState();var u=r;setTimeout(function(){u.router.navigate(["/dashboard"])},1e3)}).catch(a=>{alert(a.message)})})()}updatePassword(e){return(0,ke.Z)(function*(){})()}SetUserData(e,i,r,o){this.usersRef=this.db.list("users");const a={uid:e.uid,email:e.email,displayName:i,role:r,district:o};return this.usersRef.push(a),this.userRef.set(a)}GetUserData(e){return this.usersRef=this.db.list("users",i=>i.orderByChild("uid").equalTo(e)),this.usersRef}SignOut(){var e=this;return(0,ke.Z)(function*(){return yield e.angularFireAuth.signOut().then(()=>{localStorage.removeItem("user"),e.router.navigate(["login"])})})()}get isLoggedIn(){return null!=JSON.parse(localStorage.getItem("user"))}getRole(){return JSON.parse(localStorage.getItem("user"))[0].role}displayName(){return JSON.parse(localStorage.getItem("user"))[0].displayName}getDistrict(){return JSON.parse(localStorage.getItem("user"))[0].district}getUserEmail(){return JSON.parse(localStorage.getItem("user"))[0].email}getPhotoURL(){return this.photoURL}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(l_),s.LFG(lm),s.LFG(Bi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class zne{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Kne(t,this.dueTime,this.scheduler))}}class Kne extends ks.L{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Jne,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Jne(n){n.debouncedNext()}const tZ="firebasestorage.googleapis.com",nZ="storageBucket";class Ar extends B.ZR{constructor(t,e){super(m2(t),`Firebase Storage: ${e} (${m2(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ar.prototype)}_codeEquals(t){return m2(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function m2(n){return"storage/"+n}function g2(){return new Ar("unknown","An unknown error occurred, please check the error payload for server response.")}function iZ(){return new Ar("canceled","User canceled the upload/download.")}function rZ(){return new Ar("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function x0(n){return new Ar("invalid-argument",n)}function sZ(){return new Ar("app-deleted","The Firebase app was deleted.")}function oZ(n){return new Ar("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tT(n,t){return new Ar("invalid-format","String does not match format '"+n+"': "+t)}function nT(n){throw new Ar("internal-error","Internal error: "+n)}class jo{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=jo.makeFromUrl(t,e)}catch{return new jo(t,"")}if(""===i.path)return i;throw function aie(n){return new Ar("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",u=new RegExp("^gs://"+r+"(/(.*))?$","i");function m(we){we.path_=decodeURIComponent(we.path)}const x=e.replace(/[.]/g,"\\."),Te=[{regex:u,indices:{bucket:1,path:3},postModify:function o(we){"/"===we.path.charAt(we.path.length-1)&&(we.path_=we.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${x}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:m},{regex:new RegExp(`^https?://${e===tZ?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:m}];for(let we=0;we<Te.length;we++){const Ve=Te[we],Pe=Ve.regex.exec(t);if(Pe){let mt=Pe[Ve.indices.path];mt||(mt=""),i=new jo(Pe[Ve.indices.bucket],mt),Ve.postModify(i);break}}if(null==i)throw function oie(n){return new Ar("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class die{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function mk(n){return"string"==typeof n||n instanceof String}function aZ(n){return _2()&&n instanceof Blob}function _2(){return typeof Blob<"u"}function v2(n,t,e,i){if(i<t)throw x0(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw x0(`Invalid value for '${n}'. Expected ${e} or less.`)}function Sf(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function lZ(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var hm=(()=>{return(n=hm||(hm={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",hm;var n})();class vie{constructor(t,e,i,r,o,a,u,f,m,v,x){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,k)=>{this.resolve_=S,this.reject_=k,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,a=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());!function mie(n){return void 0!==n}(f)?o():o(f)}catch(f){a(f)}else if(null!==u){const f=g2();f.serverResponse=u.getErrorText(),a(this.errorCallback_?this.errorCallback_(u,f):f)}else a(r.canceled?this.appDelete_?sZ():iZ():function sie(){return new Ar("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new gk(!1,null,!0)):this.backoffId_=function hie(n,t,e){let i=1,r=null,o=null,a=!1,u=0;function f(){return 2===u}let m=!1;function v(...V){m||(m=!0,t.apply(null,V))}function x(V){r=setTimeout(()=>{r=null,n(k,f())},V)}function S(){o&&clearTimeout(o)}function k(V,...te){if(m)return void S();if(V)return S(),void v.call(null,V,...te);if(f()||a)return S(),void v.call(null,V,...te);let Te;i<64&&(i*=2),1===u?(u=2,Te=0):Te=1e3*(i+Math.random()),x(Te)}let O=!1;function U(V){O||(O=!0,S(),!m&&(null!==r?(V||(u=2),clearTimeout(r),x(0)):V||(u=1)))}return x(0),o=setTimeout(()=>{a=!0,U(!0)},e),U}((i,r)=>{if(r)return void i(!1,new gk(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const a=u=>{null!==this.progressCallback_&&this.progressCallback_(u.loaded,u.lengthComputable?u.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const u=o.getErrorCode()===hm.NO_ERROR,f=o.getStatus();if(!u||this.isRetryStatusCode_(f)){const v=o.getErrorCode()===hm.ABORT;return void i(!1,new gk(!1,null,v))}const m=-1!==this.successCodes_.indexOf(f);i(!0,new gk(m,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function fie(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),o=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||o}}class gk{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function Die(...n){const t=function wie(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(_2())return new Blob(n);throw new Ar("unsupported-environment","This browser doesn't seem to support creating Blobs")}const jl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class y2{constructor(t,e){this.data=t,this.contentType=e||null}}function b2(n,t){switch(n){case jl.RAW:return new y2(cZ(t));case jl.BASE64:case jl.BASE64URL:return new y2(uZ(n,t));case jl.DATA_URL:return new y2(function kie(n){const t=new dZ(n);return t.base64?uZ(jl.BASE64,t.rest):function Eie(n){let t;try{t=decodeURIComponent(n)}catch{throw tT(jl.DATA_URL,"Malformed data URL.")}return cZ(t)}(t.rest)}(t),function Mie(n){return new dZ(n).contentType}(t))}throw g2()}function cZ(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function uZ(n,t){switch(n){case jl.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw tT(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case jl.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw tT(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function Aie(n){return atob(n)}(t)}catch{throw tT(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class dZ{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw tT(jl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function Iie(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class th{constructor(t,e){let i=0,r="";aZ(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(aZ(this.data_)){const r=function Sie(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new th(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new th(i,!0)}}static getBlob(...t){if(_2()){const e=t.map(i=>i instanceof th?i.data_:i);return new th(Die.apply(null,e))}{const e=t.map(a=>mk(a)?b2(jl.RAW,a).data:a.data_);let i=0;e.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(a=>{for(let u=0;u<a.length;u++)r[o++]=a[u]}),new th(r,!0)}}uploadData(){return this.data_}}function x2(n){let t;try{t=JSON.parse(n)}catch{return null}return function _ie(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function hZ(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Oie(n,t){return t}class va{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||Oie}}let _k=null;function iT(){if(_k)return _k;const n=[];n.push(new va("bucket")),n.push(new va("generation")),n.push(new va("metageneration")),n.push(new va("name","fullPath",!0));const e=new va("name");e.xform=function t(o,a){return function Rie(n){return!mk(n)||n.length<2?n:hZ(n)}(a)},n.push(e);const r=new va("size");return r.xform=function i(o,a){return void 0!==a?Number(a):a},n.push(r),n.push(new va("timeCreated")),n.push(new va("updated")),n.push(new va("md5Hash",null,!0)),n.push(new va("cacheControl",null,!0)),n.push(new va("contentDisposition",null,!0)),n.push(new va("contentEncoding",null,!0)),n.push(new va("contentLanguage",null,!0)),n.push(new va("contentType",null,!0)),n.push(new va("metadata","customMetadata",!0)),_k=n,_k}function fZ(n,t,e){const i=x2(t);return null===i?null:function Fie(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const a=e[o];i[a.local]=a.xform(i,t[a.server])}return function Pie(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new jo(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function C2(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const pZ="prefixes";class nh{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ih(n){if(!n)throw g2()}function vk(n,t){return function e(i,r){const o=fZ(n,r,t);return ih(null!==o),o}}function C0(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function iie(){return new Ar("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function nie(){return new Ar("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function tie(n){return new Ar("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function rie(n){return new Ar("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function rT(n){const t=C0(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function eie(n){return new Ar("object-not-found","Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function gZ(n,t,e){const r=Sf(t.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,u=new nh(r,"GET",vk(n,e),a);return u.errorHandler=rT(t),u}function jie(n,t,e,i,r){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);const u=Sf(t.bucketOnlyServerUrl(),n.host,n._protocol),m=n.maxOperationRetryTime,v=new nh(u,"GET",function Hie(n,t){return function e(i,r){const o=function Uie(n,t,e){const i=x2(e);return null===i?null:function Bie(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[pZ])for(const r of e[pZ]){const o=r.replace(/\/$/,""),a=n._makeStorageReference(new jo(t,o));i.prefixes.push(a)}if(e.items)for(const r of e.items){const o=n._makeStorageReference(new jo(t,r.name));i.items.push(o)}return i}(n,t,i)}(n,t,r);return ih(null!==o),o}}(n,t.bucket),m);return v.urlParams=o,v.errorHandler=C0(t),v}function vZ(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function qie(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class yk{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function T2(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{ih(!1)}return ih(!!e&&-1!==(t||["active"]).indexOf(e)),e}const Jie={STATE_CHANGED:"state_changed"},ya={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function w2(n){switch(n){case"running":case"pausing":case"canceling":return ya.RUNNING;case"paused":return ya.PAUSED;case"success":return ya.SUCCESS;case"canceled":return ya.CANCELED;default:return ya.ERROR}}class Qie{constructor(t,e,i){if(function gie(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function T0(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class ere extends class Xie{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hm.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=hm.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=hm.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw nT("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nT("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nT("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nT("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nT("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Uu(){return new ere}class CZ{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=iT(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function Wie(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),a=vZ(t,i,r),u={name:a.fullPath},f=Sf(o,n.host,n._protocol),v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},x=C2(a,e),O=new nh(f,"POST",function k(U){let V;T2(U);try{V=U.getResponseHeader("X-Goog-Upload-URL")}catch{ih(!1)}return ih(mk(V)),V},n.maxUploadRetryTime);return O.urlParams=u,O.headers=v,O.body=x,O.errorHandler=C0(t),O}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Uu,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function zie(n,t,e,i){const f=new nh(e,"POST",function o(m){const v=T2(m,["active","final"]);let x=null;try{x=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ih(!1)}x||ih(!1);const S=Number(x);return ih(!isNaN(S)),new yk(S,i.size(),"final"===v)},n.maxUploadRetryTime);return f.headers={"X-Goog-Upload-Command":"query"},f.errorHandler=C0(t),f}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,Uu,e,i);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new yk(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let a;try{a=function Kie(n,t,e,i,r,o,a,u){const f=new yk(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw function cie(){return new Ar("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const m=f.total-f.current;let v=m;r>0&&(v=Math.min(v,r));const x=f.current,O={"X-Goog-Upload-Command":v===m?"upload, finalize":"upload","X-Goog-Upload-Offset":`${f.current}`},U=i.slice(x,x+v);if(null===U)throw rZ();const Te=new nh(e,"POST",function V(we,Ve){const Pe=T2(we,["active","final"]),ct=f.current+v,mt=i.size();let en;return en="final"===Pe?vk(t,o)(we,Ve):null,new yk(ct,mt,"final"===Pe,en)},t.maxUploadRetryTime);return Te.headers=O,Te.body=U.uploadData(),Te.progressCallback=u||null,Te.errorHandler=C0(n),Te}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(f){return this._error=f,void this._transition("error")}const u=this._ref.storage._makeRequest(a,Uu,r,o);this._request=u,u.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=gZ(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Uu,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function yZ(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},f=function u(){let Te="";for(let we=0;we<2;we++)Te+=Math.random().toString().slice(2);return Te}();a["Content-Type"]="multipart/related; boundary="+f;const m=vZ(t,i,r),v=C2(m,e),k=th.getBlob("--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+v+"\r\n--"+f+"\r\nContent-Type: "+m.contentType+"\r\n\r\n",i,"\r\n--"+f+"--");if(null===k)throw rZ();const O={name:m.fullPath},U=Sf(o,n.host,n._protocol),te=n.maxUploadRetryTime,re=new nh(U,"POST",vk(n,e),te);return re.urlParams=O,re.headers=a,re.body=k.uploadData(),re.errorHandler=C0(t),re}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Uu,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=iZ(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=w2(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new Qie(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(w2(this._state)){case ya.SUCCESS:T0(this._resolve.bind(null,this.snapshot))();break;case ya.CANCELED:case ya.ERROR:T0(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(w2(this._state)){case ya.RUNNING:case ya.PAUSED:t.next&&T0(t.next.bind(t,this.snapshot))();break;case ya.SUCCESS:t.complete&&T0(t.complete.bind(t))();break;default:t.error&&T0(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class p_{constructor(t,e){this._service=t,this._location=e instanceof jo?e:jo.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new p_(t,e)}get root(){const t=new jo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hZ(this._location.path)}get storage(){return this._service}get parent(){const t=function Nie(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new jo(this._location.bucket,t);return new p_(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw oZ(t)}}function wZ(n,t,e){return D2.apply(this,arguments)}function D2(){return(D2=(0,ke.Z)(function*(n,t,e){const r=yield DZ(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield wZ(n,t,r.nextPageToken))})).apply(this,arguments)}function DZ(n,t){null!=t&&"number"==typeof t.maxResults&&v2("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=jie(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Uu)}function hre(n){n._throwIfRoot("getDownloadURL");const t=function Zie(n,t,e){const r=Sf(t.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,u=new nh(r,"GET",function Yie(n,t){return function e(i,r){const o=fZ(n,r,t);return ih(null!==o),function Vie(n,t,e,i){const r=x2(t);if(null===r||!mk(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const a=encodeURIComponent;return o.split(",").map(m=>{const x=n.fullPath;return Sf("/b/"+a(n.bucket)+"/o/"+a(x),e,i)+lZ({alt:"media",token:m})})[0]}(o,r,n.host,n._protocol)}}(n,e),a);return u.errorHandler=rT(t),u}(n.storage,n._location,iT());return n.storage.makeRequestWithTokens(t,Uu).then(e=>{if(null===e)throw function uie(){return new Ar("no-download-url","The given file does not have any download URLs.")}();return e})}function SZ(n,t){const e=function Lie(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new jo(n._location.bucket,e);return new p_(n.storage,i)}function AZ(n,t){if(n instanceof S2){const e=n;if(null==e._bucket)throw function lie(){return new Ar("no-default-bucket","No default bucket found. Did you set the '"+nZ+"' property when initializing the app?")}();const i=new p_(e,e._bucket);return null!=t?AZ(i,t):i}return void 0!==t?SZ(n,t):n}function gre(n,t){if(t&&function pre(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof S2)return function mre(n,t){return new p_(n,t)}(n,t);throw x0("To use ref(service, url), the first argument must be a Storage instance.")}return AZ(n,t)}function EZ(n,t){const e=t?.[nZ];return null==e?null:jo.makeFromBucketSpec(e,n)}class S2{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=tZ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?jo.makeFromBucketSpec(r,this._host):EZ(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?jo.makeFromBucketSpec(this._url,t):EZ(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){v2("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){v2("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,ke.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,ke.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new p_(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new die(sZ());{const o=function Tie(n,t,e,i,r,o){const a=lZ(n.urlParams),u=n.url+a,f=Object.assign({},n.headers);return function xie(n,t){t&&(n["X-Firebase-GMPID"]=t)}(f,t),function yie(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(f,e),function bie(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(f,o),function Cie(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(f,i),new vie(u,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var i=this;return(0,ke.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const kZ="@firebase/storage";function NZ(n,t){return gre(n=(0,B.m9)(n),t)}function Are(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new S2(e,i,r,t,Sr.SDK_VERSION)}!function Ere(){(0,Sr._registerComponent)(new za.wA("storage",Are,"PUBLIC").setMultipleInstances(!0)),(0,Sr.registerVersion)(kZ,"0.9.2",""),(0,Sr.registerVersion)(kZ,"0.9.2","esm2017")}();class bk{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class LZ{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new bk(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new bk(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(o="function"==typeof e?a=>e(new bk(a,this,this._ref)):{next:e.next?a=>e.next(new bk(a,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}}class OZ{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Af(t,this._service))}get items(){return this._delegate.items.map(t=>new Af(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Af{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function Dre(n,t){return SZ(n,t)}(this._delegate,t);return new Af(e,this.storage)}get root(){return new Af(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Af(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new LZ(function vre(n,t,e){return function are(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new CZ(n,new th(t),e)}(n=(0,B.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=jl.RAW,i){this._throwIfRoot("putString");const r=b2(e,t),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new LZ(new CZ(this._delegate,new th(r.data,!0),o),this)}listAll(){return function Cre(n){return function cre(n){const t={prefixes:[],items:[]};return wZ(n,t).then(()=>t)}(n=(0,B.m9)(n))}(this._delegate).then(t=>new OZ(t,this.storage))}list(t){return function xre(n,t){return DZ(n=(0,B.m9)(n),t)}(this._delegate,t||void 0).then(e=>new OZ(e,this.storage))}getMetadata(){return function yre(n){return function ure(n){n._throwIfRoot("getMetadata");const t=gZ(n.storage,n._location,iT());return n.storage.makeRequestWithTokens(t,Uu)}(n=(0,B.m9)(n))}(this._delegate)}updateMetadata(t){return function bre(n,t){return function dre(n,t){n._throwIfRoot("updateMetadata");const e=function Gie(n,t,e,i){const o=Sf(t.fullServerUrl(),n.host,n._protocol),u=C2(e,i),m=n.maxOperationRetryTime,v=new nh(o,"PATCH",vk(n,i),m);return v.headers={"Content-Type":"application/json; charset=utf-8"},v.body=u,v.errorHandler=rT(t),v}(n.storage,n._location,t,iT());return n.storage.makeRequestWithTokens(e,Uu)}(n=(0,B.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function Tre(n){return hre(n=(0,B.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function wre(n){return function fre(n){n._throwIfRoot("deleteObject");const t=function $ie(n,t){const i=Sf(t.fullServerUrl(),n.host,n._protocol),u=new nh(i,"DELETE",function a(f,m){},n.maxOperationRetryTime);return u.successCodes=[200,204],u.errorHandler=rT(t),u}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Uu)}(n=(0,B.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw oZ(t)}}class RZ{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(PZ(t))throw x0("ref() expected a child path but got a URL, use refFromURL instead.");return new Af(NZ(this._delegate,t),this)}refFromURL(t){if(!PZ(t))throw x0("refFromURL() expected a full URL but got a child path, use ref() instead.");try{jo.makeFromUrl(t,this._delegate.host)}catch{throw x0("refFromUrl() expected a valid full URL but got an invalid one.")}return new Af(NZ(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function Sre(n,t,e,i={}){!function _re(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,B.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function PZ(n){return/^[A-Za-z]+:\/\//.test(n)}function Nre(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new RZ(e,i)}function FZ(n){const t=function Ore(n){return new Es.y(t=>{const e=a=>t.next(a);e(n.snapshot);const o=n.on("state_changed",e);return n.then(a=>{e(a),t.complete()},a=>{e(n.snapshot),(a=>{t.error(a)})(a)}),function(){o()}}).pipe(function Wne(n,t=mx.P){return e=>e.lift(new zne(n,t))}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe(ir(e=>e.bytesTransferred/e.totalBytes*100))}}function xk(n){return{getDownloadURL:()=>(0,Mc.of)(void 0).pipe(zn.fc,Wa(()=>n.getDownloadURL()),zn.iC),getMetadata:()=>(0,Mc.of)(void 0).pipe(zn.fc,Wa(()=>n.getMetadata()),zn.iC),delete:()=>io(n.delete()),child:t=>xk(n.child(t)),updateMetadata:t=>io(n.updateMetadata(t)),put:(t,e)=>FZ(n.put(t,e)),putString:(t,e,i)=>FZ(n.putString(t,e,i)),list:t=>io(n.list(t)),listAll:()=>io(n.listAll())}}!function Lre(n){const t={TaskState:ya,TaskEvent:Jie,StringFormat:jl,Storage:RZ,Reference:Af};n.INTERNAL.registerComponent(new za.wA("storage-compat",Nre,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.10")}(Ax.Z);const Rre=new s.OlP("angularfire2.storageBucket"),Pre=new s.OlP("angularfire2.storage.maxUploadRetryTime"),Fre=new s.OlP("angularfire2.storage.maxOperationRetryTime"),Vre=new s.OlP("angularfire2.storage.use-emulator");let VZ=(()=>{class n{constructor(e,i,r,o,a,u,f,m,v,x){const S=(0,jr.on)(e,a,i);this.storage=(0,jr.cc)(`${S.name}.storage.${r}`,"AngularFireStorage",S.name,()=>{const k=a.runOutsideAngular(()=>S.storage(r||void 0)),O=v;return O&&k.useEmulator(...O),f&&k.setMaxUploadRetryTime(f),m&&k.setMaxOperationRetryTime(m),k},[f,m])}ref(e){return xk(this.storage.ref(e))}refFromURL(e){return xk(this.storage.refFromURL(e))}upload(e,i,r){return xk(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(jr.Dh),s.LFG(jr.xv,8),s.LFG(Rre,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(zn.HU),s.LFG(Pre,8),s.LFG(Fre,8),s.LFG(Vre,8),s.LFG(HC,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Bre=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Ure=(()=>{class n{constructor(){WE.Z.registerVersion("angularfire",zn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[VZ],imports:[Bre]}),n})(),ba=(()=>{class n{constructor(e,i,r){this.db=e,this.authService=i,this.storage=r}AddPlayer(e){this.playersRef.push({districtName:e.districtName,schoolID:e.schoolID,schoolName:e.schoolName,studentName:e.studentName,fatherName:e.fatherName,gender:e.gender,dob:e.dob.getTime(),caste:e.caste,enteredBy:e.enteredBy,enteredDate:e.enteredDate,position:e.position,isApproved:!1,approvedBy:"",photoURL:e.photoURL,certURL:e.certURL,remarks:e.remarks})}updatePlayer(e,i,r){this.playerRef=this.db.object("players/"+e),this.playerRef.update({districtName:i.districtName,schoolID:i.schoolID,schoolName:i.schoolName,studentName:i.studentName,fatherName:i.fatherName,gender:i.gender,dob:i.dob.getTime(),caste:i.caste,position:i.position,photoURL:i.photoURL,certURL:i.certURL})}getStudentAll(){return this.playersRef=this.db.list("players"),this.playersRef}getStudentIndividual(e){return this.playerRef=this.db.object("players/"+e),this.playerRef}getStudentDistrict(e){return this.playersRef=this.db.list("players",i=>i.orderByChild("districtName").equalTo(e)),this.playersRef}getStudentSchool(e){return this.playersRef=this.db.list("players",i=>i.orderByChild("schoolName").equalTo(e)),this.playersRef}getStudentSchoolByID(e){return this.playersRef=this.db.list("players",i=>i.orderByChild("schoolID").equalTo(e)),this.playersRef}getUnApprovedList(){return this.playersRef=this.db.list("players",e=>e.orderByChild("isApproved").equalTo(!1)),this.playersRef}getApprovedList(){return this.playersRef=this.db.list("players",e=>e.orderByChild("isApproved").equalTo(!0)),this.playersRef}pushFileToStorage(e,i,r){var o=this;return(0,ke.Z)(function*(){const a=`/uploads/${i}-${r}.${e.file.name.split(".").pop()}`;return o.storage.ref(a),(yield o.storage.upload(a,e.file)).ref.getDownloadURL()})()}UpdateApproval(e,i,r){this.playerRef=this.db.object("players/"+e),this.playerRef.update({isApproved:r,remarks:i,approvedBy:this.authService.getUserEmail(),approvedDate:Date.now()})}TransferPlayer(e){this.playerRef=this.db.object("players/"+e.playerID),this.playerRef.update({isApproved:!1,remarks:"",approvedBy:null,approvedDate:null,schoolName:e.schoolName,schoolID:e.schoolID,districtName:e.districtName,enteredDate:e.transferDate.getTime()})}TransferPlayerHistory(e){this.playersRef=this.db.list("players-history"),this.playersRef.push({playerID:e.playerID,schoolName:e.oldSchoolName,schoolID:e.oldSchoolID,districtName:e.oldDistrictName,enteredBy:e.oldEnteredBy,startDate:e.oldEnteredDate,approvedBy:e.oldApprovedBy,approvedDate:e.oldApprovedDate,transferDate:e.transferDate.getTime(),remarks:e.oldRemarks})}getTransferHistory(e){return this.playersRef=this.db.list("players-history",i=>i.orderByChild("playerID").equalTo(e)),this.playersRef}releasePlayer(e){console.log(e),this.playersRef=this.db.list("players-release"),this.playersRef.push(e)}deletePlayer(e){this.playerRef=this.db.object("players/"+e),this.playerRef.remove()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lm),s.LFG(wi),s.LFG(VZ))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hre=(()=>{class n{constructor(){this._printStyle=[],this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(e){for(let i in e)e.hasOwnProperty(i)&&this._printStyle.push((i+JSON.stringify(e[i])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(e){let i=function(r){return`<link rel="stylesheet" type="text/css" href="${r}">`};if(-1!==e.indexOf(",")){const r=e.split(",");for(let o of r)this._styleSheetFile=this._styleSheetFile+i(o)}else this._styleSheetFile=i(e)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(e){const i=[],r=document.getElementsByTagName(e);for(let o=0;o<r.length;o++)i.push(r[o].outerHTML);return i.join("\r\n")}getFormData(e){for(var i=0;i<e.length;i++)e[i].defaultValue=e[i].value,e[i].checked&&(e[i].defaultChecked=!0)}getHtmlContents(){let e=document.getElementById(this.printSectionId),i=e.getElementsByTagName("input");this.getFormData(i);let r=e.getElementsByTagName("textarea");return this.getFormData(r),e.innerHTML}print(){let e,i,r="",o="";const a=this.getElementTag("base");this.useExistingCss&&(r=this.getElementTag("style"),o=this.getElementTag("link")),e=this.getHtmlContents(),i=window.open("","_blank","top=0,left=0,height=auto,width=auto"),i.document.open(),i.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${a}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${r}\n          ${o}\n        </head>\n        <body>\n          ${e}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),i.document.close()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["button","ngxPrint",""]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.print()})},inputs:{useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile",printSectionId:"printSectionId",printTitle:"printTitle"}}),n})(),Yre=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function jre(n,t){if(1&n&&(s.TgZ(0,"tr")(1,"td",15),s._uU(2),s.qZA(),s.TgZ(3,"td",15),s._uU(4),s.qZA(),s.TgZ(5,"td",15),s._uU(6),s.qZA(),s.TgZ(7,"td",15),s._uU(8),s.ALo(9,"date"),s.qZA()()),2&n){const e=t.$implicit,i=t.index;s.xp6(2),s.Oqu(i+1),s.xp6(2),s.Oqu(e.studentName),s.xp6(2),s.Oqu(e.fatherName),s.xp6(2),s.Oqu(s.xi3(9,4,e.dob,"dd-MMM-yyyy"))}}let Zre=(()=>{class n{constructor(e,i){this.activeModal=e,this.playerService=i,this.Players=[]}ngOnInit(){this.playerService.getStudentSchoolByID(this.schoolID).snapshotChanges().subscribe(i=>{this.Players=[],i.forEach(r=>{let o=r.payload.toJSON();this.Players.push(o)})}),console.log(this.schoolID,this.schoolName,this.distName)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(no),s.Y36(ba))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-rep-players-print"]],inputs:{schoolName:"schoolName",modal_title:"modal_title",schoolID:"schoolID",distName:"distName"},decls:36,vars:5,consts:[[1,"card"],[1,"card-header","d-flex"],[1,"card-title","mr-auto","p-2"],["printSectionId","printRegion","ngxPrint","",1,"btn","btn-primary","p-2",3,"useExistingCss"],[1,"fa","fa-print"],["type","button","aria-label","Close",1,"close","p-2",3,"click"],["aria-hidden","true"],[1,"card-body"],["id","printRegion"],[1,"row"],[1,"col-3"],[1,"col-9"],[1,"d-flex","justify-content-between","flex-wrap","flex-md-nowrap","align-items-center","pt-3","pb-2","mb-3c"],[1,"table","table-responsive"],[1,"table","table-bordered"],["scope","row"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),s._uU(3),s.qZA(),s.TgZ(4,"button",3),s._UZ(5,"i",4),s.qZA(),s.TgZ(6,"button",5),s.NdJ("click",function(){return i.activeModal.dismiss("Cross click")}),s.TgZ(7,"span",6),s._uU(8,"\xd7"),s.qZA()()(),s.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10),s._uU(13,"School Name : "),s.qZA(),s.TgZ(14,"div",11),s._uU(15),s.qZA()(),s.TgZ(16,"div",9)(17,"div",10),s._uU(18,"District : "),s.qZA(),s.TgZ(19,"div",10),s._uU(20),s.qZA()(),s._UZ(21,"div",12),s.TgZ(22,"div",13)(23,"table",14)(24,"thead")(25,"tr")(26,"th",15),s._uU(27,"Sl No"),s.qZA(),s.TgZ(28,"th",15),s._uU(29,"Player Name"),s.qZA(),s.TgZ(30,"th",15),s._uU(31,"Father Name"),s.qZA(),s.TgZ(32,"th",15),s._uU(33,"DOB"),s.qZA()()(),s.TgZ(34,"tbody"),s.YNc(35,jre,10,7,"tr",16),s.qZA()()()()()()),2&e&&(s.xp6(3),s.Oqu(i.modal_title),s.xp6(1),s.Q6J("useExistingCss",!0),s.xp6(11),s.Oqu(i.schoolName),s.xp6(5),s.Oqu(i.distName),s.xp6(15),s.Q6J("ngForOf",i.Players))},dependencies:[Gt,Hre,Cs]}),n})(),Hu=(()=>{class n{constructor(e){this.db=e}AddDistrict(e){this.districtsRef.push({districtName:e.districtName,enteredBy:e.enteredBy})}getDistrict(e){return this.districtRef=this.db.object("district"),this.districtRef}getDistrictAll(){return this.districtsRef=this.db.list("district"),this.districtsRef}UpdateDistrict(e){this.districtRef.update({districtName:e.districtName,enteredBy:e.enteredBy})}DeleteDistrict(e){this.districtRef=this.db.object("district/"+e),this.districtRef.remove()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jc=(()=>{class n{constructor(e){this.db=e}AddSchool(e){this.schoolsRef.push({schoolName:e.schoolName,schoolAddress:e.schoolAddress,schoolDistrict:e.schoolDistrict,enteredBy:e.enteredBy,enteredDate:Date.now(),hasTrainer:!1,location:e.location,boys:e.boys,girls:e.girls,total:e.total})}getSchool(e){return this.schoolRef=this.db.object("school/"+e),this.schoolRef}getSchoolList(e){return this.schoolsRef=this.db.list("school",i=>i.orderByChild("schoolDistrict").equalTo(e)),this.schoolsRef}getSchoolAll(){return this.schoolsRef=this.db.list("school"),this.schoolsRef}updateSchool(e){this.schoolRef.update({schoolName:e.schoolName,schoolAddress:e.schoolAddress,schoolDistrict:e.schoolDistrict,hasTrainer:e.hasTrainer,location:e.location,boys:e.boys,girls:e.girls,total:e.total})}updateSchoolTrainer(e,i){this.schoolRef=this.db.object("school/"+e),this.schoolRef.update({hasTrainer:i})}deleteSchool(e){this.schoolRef=this.db.object("school/"+e),this.schoolRef.remove()}AddSchoolHistory(e){this.schoolsRef=this.db.list("school-history"),this.schoolsRef.push({schoolName:e.schoolName,schoolAddress:e.schoolAddress,schoolDistrict:e.schoolDistrict,enteredBy:e.enteredBy,hasTrainer:!1,location:e.location,boys:e.boys,girls:e.girls,total:e.total,enteredDate:e.enteredDate,deleteDate:Date.now()})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gre(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",12),s.NdJ("keyup.enter",function(){s.CHM(e),s.oxw(3);const r=s.MAs(1);return s.KtG(r.previous())})("click",function(){s.CHM(e),s.oxw(3);const r=s.MAs(1);return s.KtG(r.previous())}),s._uU(1),s.TgZ(2,"span",13),s._uU(3),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.previousLabel," "),s.xp6(2),s.Oqu(e.screenReaderPageLabel)}}function $re(n,t){if(1&n&&(s.TgZ(0,"span",14),s._uU(1),s.TgZ(2,"span",13),s._uU(3),s.qZA()()),2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.previousLabel," "),s.xp6(2),s.Oqu(e.screenReaderPageLabel)}}function qre(n,t){if(1&n&&(s.TgZ(0,"li",9),s.YNc(1,Gre,4,2,"a",10),s.YNc(2,$re,4,2,"span",11),s.qZA()),2&n){s.oxw(2);const e=s.MAs(1);s.ekj("disabled",e.isFirstPage()),s.xp6(1),s.Q6J("ngIf",1<e.getCurrent()),s.xp6(1),s.Q6J("ngIf",e.isFirstPage())}}function Wre(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",12),s.NdJ("keyup.enter",function(){s.CHM(e);const r=s.oxw().$implicit;s.oxw(2);const o=s.MAs(1);return s.KtG(o.setCurrent(r.value))})("click",function(){s.CHM(e);const r=s.oxw().$implicit;s.oxw(2);const o=s.MAs(1);return s.KtG(o.setCurrent(r.value))}),s.TgZ(1,"span",13),s._uU(2),s.qZA(),s.TgZ(3,"span"),s._uU(4),s.ALo(5,"number"),s.qZA()()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.xp6(2),s.hij("",i.screenReaderPageLabel," "),s.xp6(2),s.Oqu("..."===e.label?e.label:s.xi3(5,2,e.label,""))}}function zre(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"span",16)(2,"span",13),s._uU(3),s.qZA(),s.TgZ(4,"span"),s._uU(5),s.ALo(6,"number"),s.qZA()(),s.BQk()),2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.xp6(3),s.hij("",i.screenReaderCurrentLabel," "),s.xp6(2),s.Oqu("..."===e.label?e.label:s.xi3(6,2,e.label,""))}}function Kre(n,t){if(1&n&&(s.TgZ(0,"li"),s.YNc(1,Wre,6,5,"a",10),s.YNc(2,zre,7,5,"ng-container",15),s.qZA()),2&n){const e=t.$implicit;s.oxw(2);const i=s.MAs(1);s.ekj("current",i.getCurrent()===e.value)("ellipsis","..."===e.label),s.xp6(1),s.Q6J("ngIf",i.getCurrent()!==e.value),s.xp6(1),s.Q6J("ngIf",i.getCurrent()===e.value)}}function Jre(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",12),s.NdJ("keyup.enter",function(){s.CHM(e),s.oxw(3);const r=s.MAs(1);return s.KtG(r.next())})("click",function(){s.CHM(e),s.oxw(3);const r=s.MAs(1);return s.KtG(r.next())}),s._uU(1),s.TgZ(2,"span",13),s._uU(3),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.nextLabel," "),s.xp6(2),s.Oqu(e.screenReaderPageLabel)}}function Qre(n,t){if(1&n&&(s.TgZ(0,"span",14),s._uU(1),s.TgZ(2,"span",13),s._uU(3),s.qZA()()),2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.nextLabel," "),s.xp6(2),s.Oqu(e.screenReaderPageLabel)}}function Xre(n,t){if(1&n&&(s.TgZ(0,"li",17),s.YNc(1,Jre,4,2,"a",10),s.YNc(2,Qre,4,2,"span",11),s.qZA()),2&n){s.oxw(2);const e=s.MAs(1);s.ekj("disabled",e.isLastPage()),s.xp6(1),s.Q6J("ngIf",!e.isLastPage()),s.xp6(1),s.Q6J("ngIf",e.isLastPage())}}function ese(n,t){if(1&n&&(s.TgZ(0,"ul",4),s.YNc(1,qre,3,4,"li",5),s.TgZ(2,"li",6),s._uU(3),s.qZA(),s.YNc(4,Kre,3,6,"li",7),s.YNc(5,Xre,3,4,"li",8),s.qZA()),2&n){const e=s.oxw(),i=s.MAs(1);s.ekj("responsive",e.responsive),s.xp6(1),s.Q6J("ngIf",e.directionLinks),s.xp6(2),s.AsE(" ",i.getCurrent()," / ",i.getLastPage()," "),s.xp6(1),s.Q6J("ngForOf",i.pages)("ngForTrackBy",e.trackByIndex),s.xp6(1),s.Q6J("ngIf",e.directionLinks)}}class A2{constructor(){this.change=new s.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)}updateInstance(t){let e=!1;for(let i in this.instances[t.id])t[i]!==this.instances[t.id][i]&&(this.instances[t.id][i]=t[i],e=!0);return e}getCurrentPage(t){return this.instances[t]?this.instances[t].currentPage:1}setCurrentPage(t,e){if(this.instances[t]){let i=this.instances[t];e<=Math.ceil(i.totalItems/i.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}}setTotalItems(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))}setItemsPerPage(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))}getInstance(t=this.DEFAULT_ID){return this.instances[t]?this.clone(this.instances[t]):{}}clone(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}}const tse=Number.MAX_SAFE_INTEGER;let Xa=(()=>{class n{constructor(e){this.service=e,this.state={}}transform(e,i){if(!(e instanceof Array)){let x=i.id||this.service.defaultId();return this.state[x]?this.state[x].slice:e}let u,f,r=i.totalItems&&i.totalItems!==e.length,o=this.createInstance(e,i),a=o.id,m=o.itemsPerPage,v=this.service.register(o);if(!r&&e instanceof Array){if(m=+m||tse,u=(o.currentPage-1)*m,f=u+m,this.stateIsIdentical(a,e,u,f))return this.state[a].slice;{let S=e.slice(u,f);return this.saveState(a,e,S,u,f),this.service.change.emit(a),S}}return v&&this.service.change.emit(a),this.saveState(a,e,e,u,f),e}createInstance(e,i){return this.checkConfig(i),{id:null!=i.id?i.id:this.service.defaultId(),itemsPerPage:+i.itemsPerPage||0,currentPage:+i.currentPage||1,totalItems:+i.totalItems||e.length}}checkConfig(e){const r=["itemsPerPage","currentPage"].filter(o=>!(o in e));if(0<r.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${r.join(", ")}`)}saveState(e,i,r,o,a){this.state[e]={collection:i,size:i.length,slice:r,start:o,end:a}}stateIsIdentical(e,i,r,o){let a=this.state[e];return!(!a||a.size!==i.length||a.start!==r||a.end!==o)&&a.slice.every((f,m)=>f===i[r+m])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(A2,16))},n.\u0275pipe=s.Yjl({name:"paginate",type:n,pure:!1}),n})(),nse=(()=>{class n{constructor(e,i){this.service=e,this.changeDetectorRef=i,this.maxSize=7,this.pageChange=new s.vpe,this.pageBoundsCorrection=new s.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(r=>{this.id===r&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(e){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(e){this.pageChange.emit(e)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let e=this.service.getInstance(this.id);const i=this.outOfBoundCorrection(e);i!==e.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(i),this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}outOfBoundCorrection(e){const i=Math.ceil(e.totalItems/e.itemsPerPage);return i<e.currentPage&&0<i?i:e.currentPage<1?1:e.currentPage}createPageArray(e,i,r,o){o=+o;let a=[];const u=Math.max(Math.ceil(r/i),1),f=Math.ceil(o/2),m=e<=f,v=u-f<e,x=!m&&!v;let S=o<u,k=1;for(;k<=u&&k<=o;){let O,U=this.calculatePageNumber(k,e,o,u),V=2===k&&(x||v),te=k===o-1&&(x||m);O=S&&(V||te)?"...":U,a.push({label:O,value:U}),k++}return a}calculatePageNumber(e,i,r,o){let a=Math.ceil(r/2);return e===r?o:1===e?e:r<o?o-a<i?o-r+e:a<i?i-a+e:e:e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(A2),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[s.TTD]}),n})();function E2(n){return!!n&&"false"!==n}let Yu=(()=>{class n{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new s.vpe,this.pageBoundsCorrection=new s.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(e){this._directionLinks=E2(e)}get autoHide(){return this._autoHide}set autoHide(e){this._autoHide=E2(e)}get responsive(){return this._responsive}set responsive(e){this._responsive=E2(e)}trackByIndex(e){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(e,i){if(1&e&&(s.TgZ(0,"pagination-template",0,1),s.NdJ("pageChange",function(o){return i.pageChange.emit(o)})("pageBoundsCorrection",function(o){return i.pageBoundsCorrection.emit(o)}),s.TgZ(2,"nav",2),s.YNc(3,ese,6,8,"ul",3),s.qZA()()),2&e){const r=s.MAs(1);s.Q6J("id",i.id)("maxSize",i.maxSize),s.xp6(2),s.uIk("aria-label",i.screenReaderPaginationLabel),s.xp6(1),s.Q6J("ngIf",!(i.autoHide&&r.pages.length<=1))}},dependencies:[nse,kt,Gt,lu],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),n})(),ise=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[A2],imports:[[Qn]]}),n})();function rse(n,t){1&n&&s._UZ(0,"img",28)}let lo=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.displayName="",this.photoURL=""}ngOnInit(){this.displayName=this.authService.displayName(),this.photoURL=this.authService.getPhotoURL()}ngAfterViewInit(){this.displayName=this.authService.displayName()}logOut(){this.authService.SignOut()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wi),s.Y36(Bi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-header"]],decls:34,vars:2,consts:[[1,"main-header","navbar","navbar-expand","navbar-white","navbar-light"],[1,"navbar-nav"],[1,"nav-item"],["data-widget","pushmenu","href","#","role","button",1,"nav-link"],[1,"fa","fa-bars"],[1,"nav-item","d-none","d-sm-inline-block"],["href","#",1,"nav-link"],[1,"navbar-nav","ml-auto"],["data-widget","navbar-search","href","#","role","button",1,"nav-link"],[1,"fa","fa-search"],[1,"navbar-search-block"],[1,"form-inline"],[1,"input-group","input-group-sm"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","form-control-navbar"],[1,"input-group-append"],["type","submit",1,"btn","btn-navbar"],["type","button","data-widget","navbar-search",1,"btn","btn-navbar"],[1,"fa","fa-times"],[1,"nav-item","dropdown"],["href","#","data-toggle","dropdown",1,"nav-link","dropdown-toggle","user-action"],["src","assets/dist/img/user2-160x160.jpg","height","25","class","rounded-circle","alt","Avatar",4,"ngIf"],[1,"caret"],[1,"dropdown-menu"],["href","#","routerLink","/userprofile","routerLinkActive","active",1,"dropdown-item"],[1,"fa","fa-user"],[1,"dropdown-divider"],["href","#",1,"dropdown-item",3,"click"],[1,"fa","fa-sign-out"],["src","assets/dist/img/user2-160x160.jpg","height","25","alt","Avatar",1,"rounded-circle"]],template:function(e,i){1&e&&(s.TgZ(0,"nav",0)(1,"ul",1)(2,"li",2)(3,"a",3),s._UZ(4,"i",4),s.qZA()(),s.TgZ(5,"li",5)(6,"a",6),s._uU(7,"Home"),s.qZA()()(),s.TgZ(8,"ul",7)(9,"li",2)(10,"a",8),s._UZ(11,"i",9),s.qZA(),s.TgZ(12,"div",10)(13,"form",11)(14,"div",12),s._UZ(15,"input",13),s.TgZ(16,"div",14)(17,"button",15),s._UZ(18,"i",9),s.qZA(),s.TgZ(19,"button",16),s._UZ(20,"i",17),s.qZA()()()()()()(),s.TgZ(21,"div",18)(22,"a",19),s.YNc(23,rse,1,0,"img",20),s._uU(24),s._UZ(25,"b",21),s.qZA(),s.TgZ(26,"div",22)(27,"a",23),s._UZ(28,"i",24),s._uU(29," Profile"),s.qZA(),s._UZ(30,"div",25),s.TgZ(31,"a",26),s.NdJ("click",function(){return i.logOut()}),s._UZ(32,"i",27),s._uU(33," Logout"),s.qZA()()()()),2&e&&(s.xp6(23),s.Q6J("ngIf",i.photoURL),s.xp6(1),s.hij(" ",i.displayName," "))},dependencies:[kt,b0,pk,eo,Hr,ng]}),n})();function sse(n,t){1&n&&s._UZ(0,"img",13)}function ose(n,t){1&n&&(s.TgZ(0,"li",14)(1,"a",15),s._UZ(2,"i",16),s.TgZ(3,"p"),s._uU(4," Administrator "),s._UZ(5,"i",17),s.qZA()(),s.TgZ(6,"ul",18)(7,"li",14)(8,"a",19),s._UZ(9,"i",20),s.TgZ(10,"p"),s._uU(11,"District"),s.qZA()()(),s.TgZ(12,"li",14)(13,"a",21),s._UZ(14,"i",22),s.TgZ(15,"p"),s._uU(16,"School"),s.qZA()()(),s.TgZ(17,"li",14)(18,"a",23),s._UZ(19,"i",24),s.TgZ(20,"p"),s._uU(21,"Position"),s.qZA()()(),s.TgZ(22,"li",14)(23,"a",25),s._UZ(24,"i",26),s.TgZ(25,"p"),s._uU(26,"Trainer"),s.qZA()()(),s.TgZ(27,"li",14)(28,"a",27),s._UZ(29,"i",28),s.TgZ(30,"p"),s._uU(31,"User"),s.qZA()()(),s.TgZ(32,"li",14)(33,"a",15),s._uU(34," \xa0\xa0 "),s._UZ(35,"i",29),s.TgZ(36,"p"),s._uU(37," Transfer "),s._UZ(38,"i",17),s.qZA()(),s.TgZ(39,"ul",18)(40,"li",14)(41,"a",30),s._UZ(42,"i",31),s.TgZ(43,"p"),s._uU(44,"Player"),s.qZA()()()()(),s.TgZ(45,"li",14)(46,"a",15),s._uU(47," \xa0\xa0 "),s._UZ(48,"i",32),s.TgZ(49,"p"),s._uU(50," Release "),s._UZ(51,"i",17),s.qZA()(),s.TgZ(52,"ul",18)(53,"li",14)(54,"a",33),s._UZ(55,"i",31),s.TgZ(56,"p"),s._uU(57,"Player"),s.qZA()()()()()()())}function ase(n,t){1&n&&(s.TgZ(0,"li",14)(1,"a",38),s._UZ(2,"i",39),s.TgZ(3,"p"),s._uU(4,"School"),s.qZA()()())}function lse(n,t){if(1&n&&(s.TgZ(0,"li",14)(1,"a",15),s._UZ(2,"i",34),s.TgZ(3,"p"),s._uU(4," District Office "),s._UZ(5,"i",35),s.qZA()(),s.TgZ(6,"ul",18),s.YNc(7,ase,5,0,"li",12),s.TgZ(8,"li",14)(9,"a",36),s._UZ(10,"i",37),s.TgZ(11,"p"),s._uU(12,"Approval"),s.qZA()()()()()),2&n){const e=s.oxw();s.xp6(7),s.Q6J("ngIf","Moderator"==e.authService.getRole())}}function cse(n,t){1&n&&(s.TgZ(0,"li",14)(1,"a",43),s._UZ(2,"i",44),s.TgZ(3,"p"),s._uU(4,"Player Entry"),s.qZA()()())}function use(n,t){if(1&n&&(s.TgZ(0,"li",14)(1,"a",15),s._UZ(2,"i",40),s.TgZ(3,"p"),s._uU(4," Data Entry "),s._UZ(5,"i",17),s.qZA()(),s.TgZ(6,"ul",18)(7,"li",14)(8,"a",41),s._UZ(9,"i",42),s.TgZ(10,"p"),s._uU(11,"School List"),s.qZA()()(),s.YNc(12,cse,5,0,"li",12),s.qZA()()),2&n){const e=s.oxw();s.xp6(12),s.Q6J("ngIf",!e.isAdmin)}}function dse(n,t){1&n&&(s.TgZ(0,"li",14)(1,"a",15),s._UZ(2,"i",45),s.TgZ(3,"p"),s._uU(4," Report "),s._UZ(5,"i",35),s.qZA()(),s.TgZ(6,"ul",18)(7,"li",14)(8,"a",46),s._UZ(9,"i",47),s.TgZ(10,"p"),s._uU(11,"Approved"),s.qZA()()()(),s.TgZ(12,"ul",18)(13,"li",14)(14,"a",48),s._UZ(15,"i",47),s.TgZ(16,"p"),s._uU(17,"Players"),s.qZA()()()()())}let co=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){this.displayName=this.authService.displayName(),this.photoURL=this.authService.getPhotoURL(),"Administrator"==this.authService.getRole()?(this.isAdmin=!0,this.isModerator=!0,this.isUser=!0):"Moderator"==this.authService.getRole()?(this.isAdmin=!1,this.isModerator=!0,this.isUser=!0):(this.isAdmin=!1,this.isModerator=!1,this.isUser=!0)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sidebar"]],decls:18,vars:6,consts:[[1,"main-sidebar","sidebar-dark-primary","elevation-4"],["href","index3.html",1,"brand-link"],["src","assets/dist/img/AdminLTELogo.png","alt","AdminLTE Logo",1,"brand-image","img-circle","elevation-3",2,"opacity",".8"],[1,"brand-text","font-weight-light"],[1,"sidebar"],[1,"user-panel","mt-3","pb-3","mb-3","d-flex"],[1,"image"],["src","assets/dist/img/user2-160x160.jpg","class","img-circle elevation-2","alt","User Image",4,"ngIf"],[1,"info"],["href","#",1,"d-block"],[1,"mt-2"],["data-widget","treeview","role","menu","data-accordion","false",1,"nav","nav-pills","nav-sidebar","flex-column"],["class","nav-item",4,"ngIf"],["src","assets/dist/img/user2-160x160.jpg","alt","User Image",1,"img-circle","elevation-2"],[1,"nav-item"],["href","#",1,"nav-link"],[1,"nav-icon","fa","fa-user","text-primary"],[1,"fa","fa-angle-left","right"],[1,"nav","nav-treeview"],["routerLink","/district","routerLinkActive","Active",1,"nav-link"],[1,"fa","fa-globe","nav-icon","text-primary"],["routerLink","/school","routerLinkActive","Active",1,"nav-link"],[1,"fa","fa-book","nav-icon","text-primary"],["routerLink","/position","routerLinkActive","Active",1,"nav-link"],[1,"fa","fa-circle","nav-icon","text-primary"],["routerLink","/trainer","routerLinkActive","Active",1,"nav-link"],[1,"fa","fa-teacher","nav-icon","text-primary"],["routerLink","/register","routerLinkActive","Active",1,"nav-link"],[1,"fa","fa-user","nav-icon","text-primary"],[1,"fa","fa-exchange","text-primary"],["routerLink","/playertransfer","routerLinkActive","Active",1,"nav-link"],[1,"fa","fa-street-view","nav-icon","text-primary"],[1,"fa","fa-ban","text-primary"],["routerLink","/playerrelease","routerLinkActive","Active",1,"nav-link"],[1,"nav-icon","fa","fa-building","text-success"],[1,"right","fa","fa-angle-left"],["routerLink","/approval","routerLinkActive","Active",1,"nav-link"],[1,"fa","fa-clipboard","nav-icon","text-success"],["routerLink","/schoolmod","routerLinkActive","Active",1,"nav-link"],[1,"fa","fa-circle","nav-icon","text-success"],[1,"nav-icon","fa","fa-table","text-info"],["routerLink","/schooldist","routerLinkActive","Active",1,"nav-link"],[1,"fa","fa-building","nav-icon","text-info"],["routerLink","/player","routerLinkActive","Active",1,"nav-link"],[1,"fas","fa-street-view","nav-icon","text-info"],[1,"nav-icon","fa","fa-file","text-warning"],["routerLink","/repApproved","routerLinkActive","Active",1,"nav-link"],[1,"fa","fa-clipboard","nav-icon","text-warning"],["routerLink","/repPlayers","routerLinkActive","Active",1,"nav-link"]],template:function(e,i){1&e&&(s.TgZ(0,"aside",0)(1,"a",1),s._UZ(2,"img",2),s.TgZ(3,"span",3),s._uU(4,"VTR Computer"),s.qZA()(),s.TgZ(5,"div",4)(6,"div",5)(7,"div",6),s.YNc(8,sse,1,0,"img",7),s.qZA(),s.TgZ(9,"div",8)(10,"a",9),s._uU(11),s.qZA()()(),s.TgZ(12,"nav",10)(13,"ul",11),s.YNc(14,ose,58,0,"li",12),s.YNc(15,lse,13,1,"li",12),s.YNc(16,use,13,1,"li",12),s.YNc(17,dse,18,0,"li",12),s.qZA()()()()),2&e&&(s.xp6(8),s.Q6J("ngIf",i.photoURL),s.xp6(3),s.Oqu(i.displayName),s.xp6(3),s.Q6J("ngIf",i.isAdmin),s.xp6(1),s.Q6J("ngIf",i.isModerator),s.xp6(1),s.Q6J("ngIf",i.isUser),s.xp6(1),s.Q6J("ngIf",i.isModerator))},dependencies:[kt,b0,pk]}),n})(),uo=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:6,vars:0,consts:[[1,"main-footer"],[1,"float-right","d-none","d-sm-inline-block"]],template:function(e,i){1&e&&(s.TgZ(0,"footer",0),s._uU(1," VTR Computer "),s.TgZ(2,"div",1)(3,"b"),s._uU(4,"Version"),s.qZA(),s._uU(5," 1.0.0 "),s.qZA()())}}),n})();const hse=["school"];function fse(n,t){if(1&n&&(s.TgZ(0,"option",37),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.s9C("ngValue",e.districtName),s.xp6(1),s.hij(" ",e.districtName," ")}}function pse(n,t){if(1&n&&(s.TgZ(0,"option",37),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.s9C("ngValue",e.$key),s.xp6(1),s.hij(" ",e.schoolName," ")}}function mse(n,t){if(1&n&&(s.TgZ(0,"tr")(1,"td",34),s._uU(2),s.qZA(),s.TgZ(3,"td",34),s._uU(4),s.qZA(),s.TgZ(5,"td",34),s._uU(6),s.ALo(7,"date"),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.studentName),s.xp6(2),s.Oqu(e.fatherName),s.xp6(2),s.Oqu(s.xi3(7,3,e.dob,"dd-MMM-yyyy"))}}const gse=function(n){return{itemsPerPage:10,currentPage:n}};let _se=(()=>{class n{constructor(e,i,r,o,a){this.distService=e,this.schoolService=i,this.playerService=r,this.fb=o,this.mymodal=a,this.noData=!1,this.p=1,this.readOnlyControl=!1,this.District=[],this.School=[],this.Players=[]}ngOnInit(){this.newForm(),this.loadDistrict()}newForm(){this.queryForm=this.fb.group({districtName:[""],schoolName:[""]})}loadDistrict(){this.distService.getDistrictAll().snapshotChanges().subscribe(i=>{this.District=[],i.forEach(r=>{let o=r.payload.toJSON();this.District.push(o)})})}changeDistrict(e){if(""!=e.target.value){var r=e.target.value.split(": ");this.queryForm.controls.schoolName.setValue(""),this.distName=r[1],this.getSchoolList(r[1])}}getSchoolList(e){this.schoolService.getSchoolList(e).snapshotChanges().subscribe(r=>{this.School=[],r.forEach(o=>{let a={$key:o.key,...o.payload.toJSON()};this.School.push(a)})})}changeSchool(e){if(""!=e.target.value){var r=e.target.value.split(": ");this.selIndex=r[0],this.schoolID=r[1],this.schoolName=this.school.nativeElement[r[0]].text}}submitSearch(){this.playerService.getStudentSchoolByID(this.schoolID).snapshotChanges().subscribe(i=>{this.Players=[],i.forEach(r=>{let o=r.payload.toJSON();this.Players.push(o)})})}printData(){const e=this.mymodal.open(Zre,{size:"xl",backdrop:!1,keyboard:!1});e.componentInstance.modal_title="Student List",e.componentInstance.schoolName=this.schoolName,e.componentInstance.distName=this.distName,e.componentInstance.schoolID=this.schoolID}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hu),s.Y36(jc),s.Y36(ba),s.Y36(to),s.Y36(pa))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-rep-players"]],viewQuery:function(e,i){if(1&e&&s.Gf(hse,5),2&e){let r;s.iGM(r=s.CRH())&&(i.school=r.first)}},decls:71,vars:9,consts:[[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"m-0"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"content"],[1,"d-flex","justify-content-between","flex-wrap","flex-md-nowrap","align-items-center","pt-3","pb-2","mb-3","border-bottom"],[1,"card","card-primary"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-4","card","card-outline","p-2"],[1,"col-4"],[1,"col-8"],["formControlName","districtName","name","districtName","required","",1,"form-control",3,"change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","schoolName","name","schoolName","required","",1,"form-control",3,"change"],["school",""],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"card-tools"],[1,"input-group","input-group-sm",2,"width","50px"],[1,"input-group-append"],[1,"btn","btn-default","btn-xs"],[1,"fa","fa-print",3,"click"],[1,"table-responsive"],[1,"table","table-bordered"],["scope","row"],[4,"ngFor","ngForOf"],[3,"pageChange"],[3,"ngValue"]],template:function(e,i){1&e&&(s._UZ(0,"app-header")(1,"app-sidebar"),s.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h1",5),s._uU(8,"Report Players"),s.qZA()(),s.TgZ(9,"div",4)(10,"ol",6)(11,"li",7)(12,"a",8),s._uU(13,"Home"),s.qZA()(),s.TgZ(14,"li",9),s._uU(15,"Players"),s.qZA()()()()()(),s.TgZ(16,"section",10)(17,"div",2),s._UZ(18,"div",11),s.TgZ(19,"div",12)(20,"div",13)(21,"h3",14),s._uU(22,"Query"),s.qZA()(),s.TgZ(23,"div",15)(24,"form",16)(25,"div",17)(26,"div",18)(27,"div",17)(28,"div",19),s._uU(29,"District"),s.qZA(),s.TgZ(30,"div",20)(31,"select",21),s.NdJ("change",function(o){return i.changeDistrict(o)}),s._UZ(32,"option",22),s.YNc(33,fse,2,2,"option",23),s.qZA()()()(),s.TgZ(34,"div",18)(35,"div",17)(36,"div",19),s._uU(37,"School"),s.qZA(),s.TgZ(38,"div",20)(39,"select",24,25),s.NdJ("change",function(o){return i.changeSchool(o)}),s._UZ(41,"option",22),s.YNc(42,pse,2,2,"option",23),s.qZA()()()(),s.TgZ(43,"div",19)(44,"button",26),s.NdJ("click",function(){return i.submitSearch()}),s._uU(45,"Search"),s.qZA()()()()()(),s.TgZ(46,"div",12)(47,"div",13)(48,"h3",14),s._uU(49,"Result"),s.qZA(),s.TgZ(50,"div",27)(51,"div",28)(52,"div",29)(53,"a",30)(54,"i",31),s.NdJ("click",function(){return i.printData()}),s.qZA()()()()()(),s.TgZ(55,"div",15)(56,"div",32)(57,"table",33)(58,"thead")(59,"tr")(60,"th",34),s._uU(61,"Player Name"),s.qZA(),s.TgZ(62,"th",34),s._uU(63,"Father Name"),s.qZA(),s.TgZ(64,"th",34),s._uU(65,"DOB"),s.qZA()()(),s.TgZ(66,"tbody"),s.YNc(67,mse,8,6,"tr",35),s.ALo(68,"paginate"),s.qZA()()(),s.TgZ(69,"pagination-controls",36),s.NdJ("pageChange",function(o){return i.p=o}),s.qZA()()()()()(),s._UZ(70,"app-footer")),2&e&&(s.xp6(24),s.Q6J("formGroup",i.queryForm),s.xp6(9),s.Q6J("ngForOf",i.District),s.xp6(9),s.Q6J("ngForOf",i.School),s.xp6(25),s.Q6J("ngForOf",s.xi3(68,4,i.Players,s.VKq(7,gse,i.p))))},dependencies:[Gt,eo,Nd,Kh,Su,hs,Hr,da,Yu,Jr,Fo,lo,co,uo,Cs,Xa]}),n})();class BZ{}const Ef="*";function m_(n,t){return{type:7,name:n,definitions:t,options:{}}}function el(n,t=null){return{type:4,styles:t,timings:n}}function UZ(n,t=null){return{type:2,steps:n,options:t}}function yr(n){return{type:6,styles:n,offset:null}}function kf(n,t,e){return{type:0,name:n,styles:t,options:e}}function tl(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function HZ(n){Promise.resolve(null).then(n)}class sT{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){HZ(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class YZ{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?HZ(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,u)=>Math.max(a,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const jZ=["toast-component",""];function yse(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",5),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.remove())}),s.TgZ(1,"span",6),s._uU(2,"\xd7"),s.qZA()()}}function bse(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.hij("[",e.duplicatesCount+1,"]")}}function xse(n,t){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.YNc(2,bse,2,1,"ng-container",4),s.qZA()),2&n){const e=s.oxw();s.Tol(e.options.titleClass),s.uIk("aria-label",e.title),s.xp6(1),s.hij(" ",e.title," "),s.xp6(1),s.Q6J("ngIf",e.duplicatesCount)}}function Cse(n,t){if(1&n&&s._UZ(0,"div",7),2&n){const e=s.oxw();s.Tol(e.options.messageClass),s.Q6J("innerHTML",e.message,s.oJD)}}function Tse(n,t){if(1&n&&(s.TgZ(0,"div",8),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.Tol(e.options.messageClass),s.uIk("aria-label",e.message),s.xp6(1),s.hij(" ",e.message," ")}}function wse(n,t){if(1&n&&(s.TgZ(0,"div"),s._UZ(1,"div",9),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Udp("width",e.width+"%")}}class Ise{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Ck{constructor(t,e,i,r,o,a){this.toastId=t,this.config=e,this.message=i,this.title=r,this.toastType=o,this.toastRef=a,this._onTap=new sn.x,this._onAction=new sn.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const GZ=new s.OlP("ToastConfig");class Lse{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new sn.x,this._activate=new sn.x,this._manualClose=new sn.x,this._resetTimeout=new sn.x,this._countDuplicate=new sn.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class Ose{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,i){return t===Ck?this._toastPackage:this._parentInjector.get(t,e,i)}}class Rse extends class Nse{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){const i=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=i.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class Pse{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let Fse=(()=>{class n{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(se))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vse=(()=>{class n{constructor(e,i,r,o){this._overlayContainer=e,this._componentFactoryResolver=i,this._appRef=r,this._document=o,this._paneElements=new Map}create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new Rse(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new Pse(this._createPortalHost(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fse),s.LFG(s._Vd),s.LFG(s.z2F),s.LFG(se))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zo=(()=>{class n{constructor(e,i,r,o,a){this.overlay=i,this._injector=r,this.sanitizer=o,this.ngZone=a,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,i,r={},o=""){return this._preBuildNotification(o,e,i,this.applyConfig(r))}success(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,i,this.applyConfig(r))}error(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,i,this.applyConfig(r))}info(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,i,this.applyConfig(r))}warning(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,i,this.applyConfig(r))}clear(e){for(const i of this.toasts)if(void 0!==e){if(i.toastId===e)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(e){const i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",i="",r,o){const{includeTitleDuplicates:a}=this.toastrConfig;for(const u of this.toasts){const f=a&&u.title===e;if((!a||f)&&u.message===i)return u.toastRef.onDuplicate(r,o),u}return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,r,o)):this._buildNotification(e,i,r,o)}_buildNotification(e,i,r,o){if(!o.toastComponent)throw new Error("toastComponent required");const a=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==a)return a;this.previousToastMessage=i;let u=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(u=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const f=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let m=i;i&&o.enableHtml&&(m=this.sanitizer.sanitize(s.q3G.HTML,i));const v=new Lse(f),x=new Ck(this.index,o,m,r,e,v),S=new Ose(x,this._injector),k=new Ise(o.toastComponent,S),O=f.attach(k,this.toastrConfig.newestOnTop);v.componentInstance=O.instance;const U={toastId:this.index,title:r||"",message:i||"",toastRef:v,onShown:v.afterActivate(),onHidden:v.afterClosed(),onTap:x.onTap(),onAction:x.onAction(),portal:O};return u||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{U.toastRef.activate()})),this.toasts.push(U),U}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(GZ),s.LFG(Vse),s.LFG(s.zs3),s.LFG(gd),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bse={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Zo),s.Y36(Ck),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&e&&(s.d8E("@flyInOut",i.state),s.Tol(i.toastClasses),s.Udp("display",i.displayStyle))},attrs:jZ,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,i){1&e&&(s.YNc(0,yse,3,0,"button",0),s.YNc(1,xse,3,5,"div",1),s.YNc(2,Cse,1,3,"div",2),s.YNc(3,Tse,2,4,"div",3),s.YNc(4,wse,2,2,"div",4)),2&e&&(s.Q6J("ngIf",i.options.closeButton),s.xp6(1),s.Q6J("ngIf",i.title),s.xp6(1),s.Q6J("ngIf",i.message&&i.options.enableHtml),s.xp6(1),s.Q6J("ngIf",i.message&&!i.options.enableHtml),s.xp6(1),s.Q6J("ngIf",i.options.progressBar))},dependencies:[kt],encapsulation:2,data:{animation:[m_("flyInOut",[kf("inactive",yr({opacity:0})),kf("active",yr({opacity:1})),kf("removed",yr({opacity:0})),tl("inactive => active",el("{{ easeTime }}ms {{ easing }}")),tl("active => removed",el("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let Use=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[{provide:GZ,useValue:{default:Bse,config:e}}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Qn]}),n})();const Hse=["overlay"];function Yse(n,t){1&n&&s._UZ(0,"div")}function jse(n,t){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,Yse,1,0,"div",6),s.qZA()),2&n){const e=s.oxw(2);s.Tol(e.spinner.class),s.Udp("color",e.spinner.color),s.xp6(1),s.Q6J("ngForOf",e.spinner.divArray)}}function Zse(n,t){if(1&n&&(s._UZ(0,"div",7),s.ALo(1,"safeHtml")),2&n){const e=s.oxw(2);s.Q6J("innerHTML",s.lcZ(1,1,e.template),s.oJD)}}function Gse(n,t){if(1&n&&(s.TgZ(0,"div",1,2),s.YNc(2,jse,2,5,"div",3),s.YNc(3,Zse,2,3,"div",4),s.TgZ(4,"div",5),s.Hsn(5),s.qZA()()),2&n){const e=s.oxw();s.Udp("background-color",e.spinner.bdColor)("z-index",e.spinner.zIndex)("position",e.spinner.fullScreen?"fixed":"absolute"),s.Q6J("@.disabled",e.disableAnimation)("@fadeIn","in"),s.xp6(2),s.Q6J("ngIf",!e.template),s.xp6(1),s.Q6J("ngIf",e.template),s.xp6(1),s.Udp("z-index",e.spinner.zIndex)}}const $se=["*"],qse={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},I2="primary";class g_{constructor(t){Object.assign(this,t)}static create(t){return(null==t?.type||0===t.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new g_(t)}}let Mf=(()=>{class n{constructor(){this.spinnerObservable=new _i(null)}getSpinner(e){return this.spinnerObservable.asObservable().pipe(bn(i=>i&&i.name===e))}show(e=I2,i){return new Promise((r,o)=>{setTimeout(()=>{i&&Object.keys(i).length?(i.name=e,this.spinnerObservable.next(new g_({...i,show:!0})),r(!0)):(this.spinnerObservable.next(new g_({name:e,show:!0})),r(!0))},10)})}hide(e=I2,i=10){return new Promise((r,o)=>{setTimeout(()=>{this.spinnerObservable.next(new g_({name:e,show:!1})),r(!0)},i)})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $Z=new s.OlP("NGX_SPINNER_CONFIG");let Wse=(()=>{class n{constructor(e){this._sanitizer=e}transform(e){if(e)return this._sanitizer.bypassSecurityTrustHtml(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(gd,16))},n.\u0275pipe=s.Yjl({name:"safeHtml",type:n,pure:!0}),n})(),fm=(()=>{class n{constructor(e,i,r,o){this.spinnerService=e,this.changeDetector=i,this.elementRef=r,this.globalConfig=o,this.disableAnimation=!1,this.spinner=new g_,this.ngUnsubscribe=new sn.x,this.setDefaultOptions=()=>{const{type:a}=this.globalConfig??{};this.spinner=g_.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??a,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=I2,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(e){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(e.target))&&(e.returnValue=!1,e.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(ni(this.ngUnsubscribe)).subscribe(e=>{this.setDefaultOptions(),Object.assign(this.spinner,e),e.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(e){return e===this.elementRef.nativeElement.parentElement||e.parentNode&&this.isSpinnerZone(e.parentNode)}ngOnChanges(e){for(const i in e)if(i){const r=e[i];if(r.isFirstChange())return;typeof r.currentValue<"u"&&r.currentValue!==r.previousValue&&""!==r.currentValue&&(this.spinner[i]=r.currentValue,"showSpinner"===i&&(r.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===i&&this.initObservable())}}getClass(e,i){this.spinner.divCount=qse[e],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((o,a)=>a);let r="";switch(i.toLowerCase()){case"small":r="la-sm";break;case"medium":r="la-2x";break;case"large":r="la-3x"}return"la-"+e+" "+r}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Mf),s.Y36(s.sBO),s.Y36(s.SBq),s.Y36($Z,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngx-spinner"]],viewQuery:function(e,i){if(1&e&&s.Gf(Hse,5),2&e){let r;s.iGM(r=s.CRH())&&(i.spinnerDOM=r.first)}},hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(o){return i.handleKeyboardEvent(o)},!1,s.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[s.TTD],ngContentSelectors:$se,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,Gse,6,12,"div",0)),2&e&&s.Q6J("ngIf",i.spinner.show)},dependencies:[Gt,kt,Wse],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[m_("fadeIn",[kf("in",yr({opacity:1})),tl(":enter",[yr({opacity:0}),el(300)]),tl(":leave",el(200,yr({opacity:0})))])]},changeDetection:0}),n})(),zse=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:$Z,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Qn]}),n})();function __(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function xa(n){return"string"==typeof n}function Tk(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function pm(n){return n&&n.getTime&&!isNaN(n.getTime())}function v_(n){return n instanceof Function||"[object Function]"===Object.prototype.toString.call(n)}function y_(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function rr(n){return n instanceof Array||"[object Array]"===Object.prototype.toString.call(n)}function Go(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function b_(n){return null!=n&&"[object Object]"===Object.prototype.toString.call(n)}function qZ(n){return void 0===n}function On(n){const t=+n;let e=0;return 0!==t&&isFinite(t)&&(e=__(t)),e}const oT={},WZ={date:"day",hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function $o(n,t){const e=n.toLowerCase();let i=n;e in WZ&&(i=WZ[e]),oT[e]=oT[`${e}s`]=oT[t]=i}function zZ(n){return xa(n)?oT[n]||oT[n.toLowerCase()]:void 0}function Lf(n,t,e){const i=`${Math.abs(n)}`;return(n>=0?e?"+":"":"-")+Math.pow(10,Math.max(0,t-i.length)).toString().substr(1)+i}const N2={},w0={},KZ=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;function an(n,t,e,i){n&&(w0[n]=i),t&&(w0[t[0]]=function(){return Lf(i.apply(null,arguments),t[1],t[2])}),e&&(w0[e]=function(r,o){return o.locale.ordinal(i.apply(null,arguments),n)})}function noe(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function wk(n,t,e){const i=new Date(Date.UTC.apply(null,arguments));return n<100&&n>=0&&isFinite(i.getUTCFullYear())&&i.setUTCFullYear(n),i}function Dk(n,t=0,e=1,i=0,r=0,o=0,a=0){const u=new Date(n,t,e,i,r,o,a);return n<100&&n>=0&&isFinite(u.getFullYear())&&u.setFullYear(n),u}function Rn(n,t=!1){return t?n.getUTCHours():n.getHours()}function D0(n,t=!1){return t?n.getUTCMinutes():n.getMinutes()}function L2(n,t=!1){return t?n.getUTCSeconds():n.getSeconds()}function Of(n,t=!1){return t?n.getUTCMilliseconds():n.getMilliseconds()}function sh(n,t=!1){return t?n.getUTCDay():n.getDay()}function C_(n,t=!1){return t?n.getUTCDate():n.getDate()}function Pn(n,t=!1){return t?n.getUTCMonth():n.getMonth()}function br(n,t=!1){return t?n.getUTCFullYear():n.getFullYear()}function S0(n,t){return!(!n||!t)&&A0(n,t)&&Pn(n)===Pn(t)}function A0(n,t){return!(!n||!t)&&br(n)===br(t)}function mm(n,t){return!(!n||!t)&&A0(n,t)&&S0(n,t)&&C_(n)===C_(t)}const JZ=/\d/,Zl=/\d\d/,QZ=/\d{3}/,O2=/\d{4}/,Sk=/[+-]?\d{6}/,$i=/\d\d?/,XZ=/\d\d\d\d?/,eG=/\d\d\d\d\d\d?/,Ak=/\d{1,3}/,R2=/\d{1,4}/,Ek=/[+-]?\d{1,6}/,loe=/\d+/,kk=/[+-]?\d+/,Mk=/Z|[+-]\d\d(?::?\d\d)?/gi,uoe=/[+-]?\d+(\.\d{1,3})?/,aT=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ik={};function Pt(n,t,e){Ik[n]=v_(t)?t:function(i,r){return i&&e?e:t}}function doe(n,t){return Go(Ik,n)?Ik[n](!1,t):new RegExp(function hoe(n){return T_(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(t,e,i,r,o)=>e||i||r||o))}(n))}function T_(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const P2={};function qi(n,t){const e=xa(n)?[n]:n;let i=t;if(y_(t)&&(i=function(r,o,a){return o[t]=On(r),a}),rr(e)&&v_(i)){let r;for(r=0;r<e.length;r++)P2[e[r]]=i}}function lT(n,t){qi(n,function(e,i,r,o){return r._w=r._w||{},t(e,r._w,r,o)})}function foe(n,t,e){return null!=t&&Go(P2,n)&&P2[n](t,e._a,e,n),e}const poe={};function qo(n,t){poe[n]=t}function ei(n){return null==n._pf&&(n._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),n._pf}function F2(n,t){return t.locale.getFullYear?t.locale.getFullYear(n,t.isUTC).toString():br(n,t.isUTC).toString()}function V2(n){return On(n)+(On(n)>68?1900:2e3)}function cT(n){return B2(n)?366:365}function B2(n){return n%4==0&&n%100!=0||n%400==0}function Nk(n,t){if(isNaN(n)||isNaN(t))return NaN;const e=function Kse(n,t){return(n%t+t)%t}(t,12);return 1===e?B2(n+(t-e)/12)?29:28:31-e%7%2}const yoe={year:0,month:0,day:0,hour:0,minute:0,seconds:0};function Is(n,t){const e=Object.assign({},yoe,t),i=n.getFullYear()+(e.year||0),r=n.getMonth()+(e.month||0);let o=n.getDate()+(e.day||0);return e.month&&!e.day&&(o=Math.min(o,Nk(i,r))),Dk(i,r,o,n.getHours()+(e.hour||0),n.getMinutes()+(e.minute||0),n.getSeconds()+(e.seconds||0))}function E0(n,t){return y_(t)?t:n}function w_(n,t,e){const i=Math.min(C_(n),Nk(br(n),t));return e?n.setUTCMonth(t,i):n.setMonth(t,i),n}function U2(n,t,e){return e?n.setUTCDate(t):n.setDate(t),n}function Rf(n){return new Date(n.getTime())}function Pf(n,t,e){const i=Rf(n);switch(t){case"year":w_(i,0,e);case"quarter":case"month":U2(i,1,e);case"week":case"isoWeek":case"day":case"date":!function Coe(n,t,e){e?n.setUTCHours(t):n.setHours(t)}(i,0,e);case"hours":!function Toe(n,t,e){e?n.setUTCMinutes(t):n.setMinutes(t)}(i,0,e);case"minutes":!function woe(n,t,e){e?n.setUTCSeconds(t):n.setSeconds(t)}(i,0,e);case"seconds":!function Doe(n,t,e){e?n.setUTCMilliseconds(t):n.setMilliseconds(t)}(i,0,e)}return"week"===t&&function Vae(n,t,e={}){lh(n,t-X2(n,e.locale,e.isUTC),"day")}(i,0,{isUTC:e}),"isoWeek"===t&&function Bae(n,t,e={}){const i=function Fae(n,t=ms()){return xa(n)?t.weekdaysParse(n)%7||7:y_(n)&&isNaN(n)?null:n}(t,e.locale);pT(n,function Xr(n,t){return sh(n,t)}(n)%7?i:i-7)}(i,1),"quarter"===t&&w_(i,3*Math.floor(Pn(i,e)/3),e),i}function Lk(n,t,e){let i=t;return"date"===i&&(i="day"),function Oae(n,t,e,i){return AG(n,Q2(t,e),-1,i)}(lh(Pf(n,i,e),1,"isoWeek"===i?"week":i,e),1,"milliseconds",e)}function H2(n,t){const e=+Pf(n,"day",t),i=+Pf(n,"year",t);return Math.round((e-i)/864e5)+1}function Ok(n,t,e){const i=t-e+7;return-(wk(n,0,i).getUTCDay()-t+7)%7+i-1}function k0(n,t,e,i){const r=Ok(br(n,i),t,e),o=Math.floor((H2(n,i)-r-1)/7)+1;let a,u;return o<1?(u=br(n,i)-1,a=o+D_(u,t,e)):o>D_(br(n,i),t,e)?(a=o-D_(br(n,i),t,e),u=br(n,i)+1):(u=br(n,i),a=o),{week:a,year:u}}function D_(n,t,e){const i=Ok(n,t,e),r=Ok(n+1,t,e);return(cT(n)-i+r)/7}const nG=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Eoe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),iG="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),koe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),rG="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Moe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),sG={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Loe=aT,Ooe=aT;class oG{constructor(t){t&&this.set(t)}set(t){let e;for(e in t){if(!t.hasOwnProperty(e))continue;const i=t[e];this[v_(i)?e:`_${e}`]=i}this._config=t}calendar(t,e,i){const r=this._calendar[t]||this._calendar.sameElse;return v_(r)?r.call(null,e,i):r}longDateFormat(t){const e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(r){return r.slice(1)}),this._longDateFormat[t])}get invalidDate(){return this._invalidDate}set invalidDate(t){this._invalidDate=t}ordinal(t,e){return this._ordinal.replace("%d",t.toString(10))}preparse(t,e){return t}getFullYear(t,e=!1){return br(t,e)}postformat(t){return t}relativeTime(t,e,i,r){const o=this._relativeTime[i];return v_(o)?o(t,e,i,r):o.replace(/%d/i,t.toString(10))}pastFuture(t,e){const i=this._relativeTime[t>0?"future":"past"];return v_(i)?i(e):i.replace(/%s/i,e)}months(t,e,i=!1){if(!t)return rr(this._months)?this._months:this._months.standalone;if(rr(this._months))return this._months[Pn(t,i)];const r=(this._months.isFormat||nG).test(e)?"format":"standalone";return this._months[r][Pn(t,i)]}monthsShort(t,e,i=!1){if(!t)return rr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;if(rr(this._monthsShort))return this._monthsShort[Pn(t,i)];const r=nG.test(e)?"format":"standalone";return this._monthsShort[r][Pn(t,i)]}monthsParse(t,e,i){let r,o,a;if(this._monthsParseExact)return this.handleMonthStrictParse(t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(r=new Date(Date.UTC(2e3,a)),i&&!this._longMonthsParse[a]){const u=this.months(r,"",!0).replace(".",""),f=this.monthsShort(r,"",!0).replace(".","");this._longMonthsParse[a]=new RegExp(`^${u}$`,"i"),this._shortMonthsParse[a]=new RegExp(`^${f}$`,"i")}if(!i&&!this._monthsParse[a]&&(o=`^${this.months(r,"",!0)}|^${this.monthsShort(r,"",!0)}`,this._monthsParse[a]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[a].test(t)||i&&"MMM"===e&&this._shortMonthsParse[a].test(t)||!i&&this._monthsParse[a].test(t))return a}}monthsRegex(t){return this._monthsParseExact?(Go(this,"_monthsRegex")||this.computeMonthsParse(),t?this._monthsStrictRegex:this._monthsRegex):(Go(this,"_monthsRegex")||(this._monthsRegex=Ooe),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}monthsShortRegex(t){return this._monthsParseExact?(Go(this,"_monthsRegex")||this.computeMonthsParse(),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Go(this,"_monthsShortRegex")||(this._monthsShortRegex=Loe),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}week(t,e){return k0(t,this._week.dow,this._week.doy,e).week}firstDayOfWeek(){return this._week.dow}firstDayOfYear(){return this._week.doy}weekdays(t,e,i){if(!t)return rr(this._weekdays)?this._weekdays:this._weekdays.standalone;if(rr(this._weekdays))return this._weekdays[sh(t,i)];const r=this._weekdays.isFormat.test(e)?"format":"standalone";return this._weekdays[r][sh(t,i)]}weekdaysMin(t,e,i){return t?this._weekdaysMin[sh(t,i)]:this._weekdaysMin}weekdaysShort(t,e,i){return t?this._weekdaysShort[sh(t,i)]:this._weekdaysShort}weekdaysParse(t,e,i){let r,o;if(this._weekdaysParseExact)return this.handleWeekStrictParse(t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){const a=pT(new Date(Date.UTC(2e3,1)),r,null,!0);if(i&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp(`^${this.weekdays(a,"",!0).replace(".",".?")}$`,"i"),this._shortWeekdaysParse[r]=new RegExp(`^${this.weekdaysShort(a,"",!0).replace(".",".?")}$`,"i"),this._minWeekdaysParse[r]=new RegExp(`^${this.weekdaysMin(a,"",!0).replace(".",".?")}$`,"i")),this._weekdaysParse[r]||(o=`^${this.weekdays(a,"",!0)}|^${this.weekdaysShort(a,"",!0)}|^${this.weekdaysMin(a,"",!0)}`,this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),!(rr(this._fullWeekdaysParse)&&rr(this._shortWeekdaysParse)&&rr(this._minWeekdaysParse)&&rr(this._weekdaysParse)))return;if(i&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(i&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(i&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!i&&this._weekdaysParse[r].test(t))return r}}weekdaysRegex(t){return this._weekdaysParseExact?(Go(this,"_weekdaysRegex")||this.computeWeekdaysParse(),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Go(this,"_weekdaysRegex")||(this._weekdaysRegex=aT),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}weekdaysShortRegex(t){return this._weekdaysParseExact?(Go(this,"_weekdaysRegex")||this.computeWeekdaysParse(),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Go(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=aT),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}weekdaysMinRegex(t){return this._weekdaysParseExact?(Go(this,"_weekdaysRegex")||this.computeWeekdaysParse(),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Go(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=aT),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}isPM(t){return"p"===t.toLowerCase().charAt(0)}meridiem(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}formatLongDate(t){this._longDateFormat=this._longDateFormat?this._longDateFormat:sG;const e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,r=>r.slice(1)),this._longDateFormat[t])}handleMonthStrictParse(t,e,i){const r=t.toLocaleLowerCase();let o,a,u;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)u=new Date(2e3,o),this._shortMonthsParse[o]=this.monthsShort(u,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(u,"").toLocaleLowerCase();return i?"MMM"===e?(a=this._shortMonthsParse.indexOf(r),-1!==a?a:null):(a=this._longMonthsParse.indexOf(r),-1!==a?a:null):"MMM"===e?(a=this._shortMonthsParse.indexOf(r),-1!==a?a:(a=this._longMonthsParse.indexOf(r),-1!==a?a:null)):(a=this._longMonthsParse.indexOf(r),-1!==a?a:(a=this._shortMonthsParse.indexOf(r),-1!==a?a:null))}handleWeekStrictParse(t,e,i){let r;const o=t.toLocaleLowerCase();if(!this._weekdaysParse){let a;for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a){const u=pT(new Date(Date.UTC(2e3,1)),a,null,!0);this._minWeekdaysParse[a]=this.weekdaysMin(u).toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(u).toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(u,"").toLocaleLowerCase()}}if(rr(this._weekdaysParse)&&rr(this._shortWeekdaysParse)&&rr(this._minWeekdaysParse))return i?"dddd"===e?(r=this._weekdaysParse.indexOf(o),-1!==r?r:null):"ddd"===e?(r=this._shortWeekdaysParse.indexOf(o),-1!==r?r:null):(r=this._minWeekdaysParse.indexOf(o),-1!==r?r:null):"dddd"===e?(r=this._weekdaysParse.indexOf(o),-1!==r||(r=this._shortWeekdaysParse.indexOf(o),-1!==r)?r:(r=this._minWeekdaysParse.indexOf(o),-1!==r?r:null)):"ddd"===e?(r=this._shortWeekdaysParse.indexOf(o),-1!==r||(r=this._weekdaysParse.indexOf(o),-1!==r)?r:(r=this._minWeekdaysParse.indexOf(o),-1!==r?r:null)):(r=this._minWeekdaysParse.indexOf(o),-1!==r||(r=this._weekdaysParse.indexOf(o),-1!==r)?r:(r=this._shortWeekdaysParse.indexOf(o),-1!==r?r:null))}computeMonthsParse(){const t=[],e=[],i=[];let r,o;for(o=0;o<12;o++)r=new Date(2e3,o),t.push(this.monthsShort(r,"")),e.push(this.months(r,"")),i.push(this.months(r,"")),i.push(this.monthsShort(r,""));for(t.sort(S_),e.sort(S_),i.sort(S_),o=0;o<12;o++)t[o]=T_(t[o]),e[o]=T_(e[o]);for(o=0;o<24;o++)i[o]=T_(i[o]);this._monthsRegex=new RegExp(`^(${i.join("|")})`,"i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(`^(${e.join("|")})`,"i"),this._monthsShortStrictRegex=new RegExp(`^(${t.join("|")})`,"i")}computeWeekdaysParse(){const t=[],e=[],i=[],r=[];let o;for(o=0;o<7;o++){const a=pT(new Date(Date.UTC(2e3,1)),o,null,!0),u=this.weekdaysMin(a),f=this.weekdaysShort(a),m=this.weekdays(a);t.push(u),e.push(f),i.push(m),r.push(u),r.push(f),r.push(m)}for(t.sort(S_),e.sort(S_),i.sort(S_),r.sort(S_),o=0;o<7;o++)e[o]=T_(e[o]),i[o]=T_(i[o]),r[o]=T_(r[o]);this._weekdaysRegex=new RegExp(`^(${r.join("|")})`,"i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(`^(${i.join("|")})`,"i"),this._weekdaysShortStrictRegex=new RegExp(`^(${e.join("|")})`,"i"),this._weekdaysMinStrictRegex=new RegExp(`^(${t.join("|")})`,"i")}}function S_(n,t){return t.length-n.length}const aG={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:sG,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Eoe,monthsShort:iG,week:{dow:0,doy:6},weekdays:koe,weekdaysMin:Moe,weekdaysShort:rG,meridiemParse:/[ap]\.?m?\.?/i};function Roe(n,t,e){const i=Math.min(n.length,t.length),r=Math.abs(n.length-t.length);let a,o=0;for(a=0;a<i;a++)(e&&n[a]!==t[a]||!e&&On(n[a])!==On(t[a]))&&o++;return o+r}function Rk(n,t){an(null,[n,n.length,!1],null,t)}function lG(n,t){return j2(n,t.locale).toString()}function cG(n){return uG(n).toString()}function j2(n,t=ms(),e){return k0(n,t.firstDayOfWeek(),t.firstDayOfYear(),e).year}function uG(n,t){return k0(n,1,4,t).year}function hG(n,t){an(n,null,null,function(e,i){let r=function E_(n,t={}){return t._isUTC?t._offset||0:function fG(n){return 15*-Math.round(n.getTimezoneOffset()/15)}(n)}(e,{_isUTC:i.isUTC,_offset:i.offset}),o="+";return r<0&&(r=-r,o="-"),o+Lf(~~(r/60),2)+t+Lf(~~r%60,2)})}const Goe=/([\+\-]|\d\d)/gi;const Ns={},uT={};let dT;function pG(n){return n&&n.toLowerCase().replace("_","-")}function gG(n){return Ns[n]||console.error(`Khronos locale error: please load locale "${n}" before using it`),Ns[n]}function G2(n,t){let e;return n&&(qZ(t)?e=ms(n):xa(n)&&(e=_G(n,t)),e&&(dT=e)),dT&&dT._abbr}function _G(n,t){if(null===t)return delete Ns[n],dT=ms("en"),null;if(!t)return;let e=aG;if(t.abbr=n,null!=t.parentLocale){if(null==Ns[t.parentLocale])return uT[t.parentLocale]||(uT[t.parentLocale]=[]),uT[t.parentLocale].push({name:n,config:t}),null;e=Ns[t.parentLocale]._config}return Ns[n]=new oG(function mG(n,t){const e=Object.assign({},n);for(const i in t)!Go(t,i)||(b_(n[i])&&b_(t[i])?(e[i]={},Object.assign(e[i],n[i]),Object.assign(e[i],t[i])):null!=t[i]?e[i]=t[i]:delete e[i]);for(const i in n)Go(n,i)&&!Go(t,i)&&b_(n[i])&&(e[i]=Object.assign({},e[i]));return e}(e,t)),uT[n]&&uT[n].forEach(function(i){_G(i.name,i.config)}),G2(n),Ns[n]}function ms(n){return function Joe(){Ns.en||(G2("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal(n){const t=n%10;return n+(1===On(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),function Poe(){an("w",["ww",2,!1],"wo",function(n,t){return function A_(n,t=ms(),e){return t.week(n,e)}(n,t.locale).toString(10)}),an("W",["WW",2,!1],"Wo",function(n){return function Y2(n,t){return k0(n,1,4,t).week}(n).toString(10)}),$o("week","w"),$o("isoWeek","W"),qo("week",5),qo("isoWeek",5),Pt("w",$i),Pt("ww",$i,Zl),Pt("W",$i),Pt("WW",$i,Zl),lT(["w","ww","W","WW"],function(n,t,e,i){return t[i.substr(0,1)]=On(n),e})}(),function Foe(){an(null,["gg",2,!1],null,function(n,t){return(j2(n,t.locale)%100).toString()}),an(null,["GG",2,!1],null,function(n){return(uG(n)%100).toString()}),Rk("gggg",lG),Rk("ggggg",lG),Rk("GGGG",cG),Rk("GGGGG",cG),$o("weekYear","gg"),$o("isoWeekYear","GG"),qo("weekYear",1),qo("isoWeekYear",1),Pt("G",kk),Pt("g",kk),Pt("GG",$i,Zl),Pt("gg",$i,Zl),Pt("GGGG",R2,O2),Pt("gggg",R2,O2),Pt("GGGGG",Ek,Sk),Pt("ggggg",Ek,Sk),lT(["gggg","ggggg","GGGG","GGGGG"],function(n,t,e,i){return t[i.substr(0,2)]=On(n),e}),lT(["gg","GG"],function(n,t,e,i){return t[i]=V2(n),e})}(),function _oe(){an("Y",null,null,function(n,t){const e=br(n,t.isUTC);return e<=9999?e.toString(10):`+${e}`}),an(null,["YY",2,!1],null,function(n,t){return(br(n,t.isUTC)%100).toString(10)}),an(null,["YYYY",4,!1],null,F2),an(null,["YYYYY",5,!1],null,F2),an(null,["YYYYYY",6,!0],null,F2),$o("year","y"),qo("year",1),Pt("Y",kk),Pt("YY",$i,Zl),Pt("YYYY",R2,O2),Pt("YYYYY",Ek,Sk),Pt("YYYYYY",Ek,Sk),qi(["YYYYY","YYYYYY"],0),qi("YYYY",function(n,t,e){return t[0]=2===n.length?V2(n):On(n),e}),qi("YY",function(n,t,e){return t[0]=V2(n),e}),qi("Y",function(n,t,e){return t[0]=parseInt(n,10),e})}(),function Boe(){an("z",null,null,function(n,t){return t.isUTC?"UTC":""}),an("zz",null,null,function(n,t){return t.isUTC?"Coordinated Universal Time":""})}(),function Uoe(){an("X",null,null,function(n){return function roe(n){return Math.floor(n.valueOf()/1e3)}(n).toString(10)}),an("x",null,null,function(n){return n.valueOf().toString(10)}),Pt("x",kk),Pt("X",uoe),qi("X",function(n,t,e){return e._d=new Date(1e3*parseFloat(n)),e}),qi("x",function(n,t,e){return e._d=new Date(On(n)),e})}(),function Hoe(){an("s",["ss",2,!1],null,function(n,t){return L2(n,t.isUTC).toString(10)}),$o("second","s"),qo("second",15),Pt("s",$i),Pt("ss",$i,Zl),qi(["s","ss"],5)}(),function Yoe(){an("Q",null,"Qo",function(n,t){return function joe(n,t=!1){return Math.ceil((Pn(n,t)+1)/3)}(n,t.isUTC).toString(10)}),$o("quarter","Q"),qo("quarter",7),Pt("Q",JZ),qi("Q",function(n,t,e){return t[1]=3*(On(n)-1),e})}(),function Zoe(){hG("Z",":"),hG("ZZ",""),Pt("Z",Mk),Pt("ZZ",Mk),qi(["Z","ZZ"],function(n,t,e){return e._useUTC=!0,e._tzm=function Z2(n,t){const e=(t||"").match(n);if(null===e)return null;const r=e[e.length-1].match(Goe)||["-","0","0"],o=60*parseInt(r[1],10)+On(r[2]);return 0===o?0:"+"===r[0]?o:-o}(Mk,n),e})}(),function voe(){an("M",["MM",2,!1],"Mo",function(n,t){return(Pn(n,t.isUTC)+1).toString(10)}),an("MMM",null,null,function(n,t){return t.locale.monthsShort(n,t.format,t.isUTC)}),an("MMMM",null,null,function(n,t){return t.locale.months(n,t.format,t.isUTC)}),$o("month","M"),qo("month",8),Pt("M",$i),Pt("MM",$i,Zl),Pt("MMM",function(n,t){return t.monthsShortRegex(n)}),Pt("MMMM",function(n,t){return t.monthsRegex(n)}),qi(["M","MM"],function(n,t,e){return t[1]=On(n)-1,e}),qi(["MMM","MMMM"],function(n,t,e,i){const r=e._locale.monthsParse(n,i,e._strict);return null!=r?t[1]=r:ei(e).invalidMonth=!!n,e})}(),function qoe(){an("m",["mm",2,!1],null,function(n,t){return D0(n,t.isUTC).toString(10)}),$o("minute","m"),qo("minute",14),Pt("m",$i),Pt("mm",$i,Zl),qi(["m","mm"],4)}(),function Woe(){let n;for(an("S",null,null,function(e,i){return(~~(Of(e,i.isUTC)/100)).toString(10)}),an(null,["SS",2,!1],null,function(e,i){return(~~(Of(e,i.isUTC)/10)).toString(10)}),an(null,["SSS",3,!1],null,function(e,i){return Of(e,i.isUTC).toString(10)}),an(null,["SSSS",4,!1],null,function(e,i){return(10*Of(e,i.isUTC)).toString(10)}),an(null,["SSSSS",5,!1],null,function(e,i){return(100*Of(e,i.isUTC)).toString(10)}),an(null,["SSSSSS",6,!1],null,function(e,i){return(1e3*Of(e,i.isUTC)).toString(10)}),an(null,["SSSSSSS",7,!1],null,function(e,i){return(1e4*Of(e,i.isUTC)).toString(10)}),an(null,["SSSSSSSS",8,!1],null,function(e,i){return(1e5*Of(e,i.isUTC)).toString(10)}),an(null,["SSSSSSSSS",9,!1],null,function(e,i){return(1e6*Of(e,i.isUTC)).toString(10)}),$o("millisecond","ms"),qo("millisecond",16),Pt("S",Ak,JZ),Pt("SS",Ak,Zl),Pt("SSS",Ak,QZ),n="SSSS";n.length<=9;n+="S")Pt(n,loe);function t(e,i,r){return i[6]=On(1e3*parseFloat(`0.${e}`)),r}for(n="S";n.length<=9;n+="S")qi(n,t)}(),function zoe(){function n(r,o){return Rn(r,o)%12||12}function e(r,o){an(r,null,null,function(a,u){return u.locale.meridiem(Rn(a,u.isUTC),D0(a,u.isUTC),o)})}function i(r,o){return o._meridiemParse}an("H",["HH",2,!1],null,function(r,o){return Rn(r,o.isUTC).toString(10)}),an("h",["hh",2,!1],null,function(r,o){return n(r,o.isUTC).toString(10)}),an("k",["kk",2,!1],null,function(r,o){return function t(r,o){return Rn(r,o)||24}(r,o.isUTC).toString(10)}),an("hmm",null,null,function(r,o){return`${n(r,o.isUTC)}${Lf(D0(r,o.isUTC),2)}`}),an("hmmss",null,null,function(r,o){return`${n(r,o.isUTC)}${Lf(D0(r,o.isUTC),2)}${Lf(L2(r,o.isUTC),2)}`}),an("Hmm",null,null,function(r,o){return`${Rn(r,o.isUTC)}${Lf(D0(r,o.isUTC),2)}`}),an("Hmmss",null,null,function(r,o){return`${Rn(r,o.isUTC)}${Lf(D0(r,o.isUTC),2)}${Lf(L2(r,o.isUTC),2)}`}),e("a",!0),e("A",!1),$o("hour","h"),qo("hour",13),Pt("a",i),Pt("A",i),Pt("H",$i),Pt("h",$i),Pt("k",$i),Pt("HH",$i,Zl),Pt("hh",$i,Zl),Pt("kk",$i,Zl),Pt("hmm",XZ),Pt("hmmss",eG),Pt("Hmm",XZ),Pt("Hmmss",eG),qi(["H","HH"],3),qi(["k","kk"],function(r,o,a){const u=On(r);return o[3]=24===u?0:u,a}),qi(["a","A"],function(r,o,a){return a._isPm=a._locale.isPM(r),a._meridiem=r,a}),qi(["h","hh"],function(r,o,a){return o[3]=On(r),ei(a).bigHour=!0,a}),qi("hmm",function(r,o,a){const u=r.length-2;return o[3]=On(r.substr(0,u)),o[4]=On(r.substr(u)),ei(a).bigHour=!0,a}),qi("hmmss",function(r,o,a){const u=r.length-4,f=r.length-2;return o[3]=On(r.substr(0,u)),o[4]=On(r.substr(u,2)),o[5]=On(r.substr(f)),ei(a).bigHour=!0,a}),qi("Hmm",function(r,o,a){const u=r.length-2;return o[3]=On(r.substr(0,u)),o[4]=On(r.substr(u)),a}),qi("Hmmss",function(r,o,a){const u=r.length-4,f=r.length-2;return o[3]=On(r.substr(0,u)),o[4]=On(r.substr(u,2)),o[5]=On(r.substr(f)),a})}(),function Aoe(){an("DDD",["DDDD",3,!1],"DDDo",function(n){return H2(n).toString(10)}),$o("dayOfYear","DDD"),qo("dayOfYear",4),Pt("DDD",Ak),Pt("DDDD",QZ),qi(["DDD","DDDD"],function(n,t,e){return e._dayOfYear=On(n),e})}(),function Rae(){an("d",null,"do",function(n,t){return sh(n,t.isUTC).toString(10)}),an("dd",null,null,function(n,t){return t.locale.weekdaysMin(n,t.format,t.isUTC)}),an("ddd",null,null,function(n,t){return t.locale.weekdaysShort(n,t.format,t.isUTC)}),an("dddd",null,null,function(n,t){return t.locale.weekdays(n,t.format,t.isUTC)}),an("e",null,null,function(n,t){return X2(n,t.locale,t.isUTC).toString(10)}),an("E",null,null,function(n,t){return function EG(n,t){return sh(n,t)||7}(n,t.isUTC).toString(10)}),$o("day","d"),$o("weekday","e"),$o("isoWeekday","E"),qo("day",11),qo("weekday",11),qo("isoWeekday",11),Pt("d",$i),Pt("e",$i),Pt("E",$i),Pt("dd",function(n,t){return t.weekdaysMinRegex(n)}),Pt("ddd",function(n,t){return t.weekdaysShortRegex(n)}),Pt("dddd",function(n,t){return t.weekdaysRegex(n)}),lT(["dd","ddd","dddd"],function(n,t,e,i){const r=e._locale.weekdaysParse(n,i,e._strict);return null!=r?t.d=r:ei(e).invalidWeekday=!!n,e}),lT(["d","e","E"],function(n,t,e,i){return t[i]=On(n),e})}(),function moe(){an("D",["DD",2,!1],"Do",function(n,t){return C_(n,t.isUTC).toString(10)}),$o("date","D"),qo("date",9),Pt("D",$i),Pt("DD",$i,Zl),Pt("Do",function(n,t){return t._dayOfMonthOrdinalParse||t._ordinalParse}),qi(["D","DD"],2),qi("Do",function(n,t,e){return t[2]=On(n.match($i)[0]),e})}())}(),n?function Koe(n){let t,e,i=0;for(;i<n.length;){const r=pG(n[i]).split("-");let o=r.length;for(t=pG(n[i+1]),t=t?t.split("-"):null;o>0;){if(e=gG(r.slice(0,o).join("-")),e)return e;if(t&&t.length>=o&&Roe(r,t,!0)>=o-1)break;o--}i++}return null}(rr(n)?n:[n]):dT}const hT=["year","quarter","month","week","day","hours","minutes","seconds","milliseconds"],Qoe=hT.reduce((n,t)=>(n[t]=!0,n),{});function vG(n){return n<0?Math.floor(n):Math.ceil(n)}function yG(n){return 4800*n/146097}function $2(n){return 146097*n/4800}let gm=Math.round;const oh_ss=44,oh_s=45,oh_m=45,oh_h=22,oh_d=26,oh_M=11;function tae(n,t,e,i,r){return r.relativeTime(t||1,!!e,n,i)}class bG{constructor(t,e={}){this._data={},this._locale=ms(),this._locale=e&&e._locale||ms();const r=t.year||0,o=t.quarter||0,a=t.month||0,u=t.week||0,f=t.day||0,m=t.hours||0,v=t.minutes||0,x=t.seconds||0,S=t.milliseconds||0;return this._isValid=function Xoe(n){if(Object.keys(n).some(i=>i in Qoe&&null===n[i]||isNaN(n[i])))return!1;let e=!1;for(let i=0;i<hT.length;++i)if(n[hT[i]]){if(e)return!1;n[hT[i]]!==On(n[hT[i]])&&(e=!0)}return!0}(t),this._milliseconds=+S+1e3*x+60*v*1e3+1e3*m*60*60,this._days=+f+7*u,this._months=+a+3*o+12*r,function eae(n){let t=n._milliseconds,e=n._days,i=n._months;const r=n._data;t>=0&&e>=0&&i>=0||t<=0&&e<=0&&i<=0||(t+=864e5*vG($2(i)+e),e=0,i=0),r.milliseconds=t%1e3;const o=__(t/1e3);r.seconds=o%60;const a=__(o/60);r.minutes=a%60;const u=__(a/60);r.hours=u%24,e+=__(u/24);const f=__(yG(e));i+=f,e-=vG($2(f));const m=__(i/12);return i%=12,r.day=e,r.month=i,r.year=m,n}(this)}isValid(){return this._isValid}humanize(t){if(!this.isValid())return this.localeData().invalidDate;const e=this.localeData();let i=function nae(n,t,e){const i=Q2(n).abs(),r=gm(i.as("s")),o=gm(i.as("m")),a=gm(i.as("h")),u=gm(i.as("d")),f=gm(i.as("M")),m=gm(i.as("y")),v=r<=oh_ss&&["s",r]||r<oh_s&&["ss",r]||o<=1&&["m"]||o<oh_m&&["mm",o]||a<=1&&["h"]||a<oh_h&&["hh",a]||u<=1&&["d"]||u<oh_d&&["dd",u]||f<=1&&["M"]||f<oh_M&&["MM",f]||m<=1&&["y"]||["yy",m];return tae.apply(null,[v[0],v[1],t,+n>0,e])}(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}localeData(){return this._locale}locale(t){return t?(this._locale=ms(t)||this._locale,this):this._locale._abbr}abs(){const t=Math.abs,e=this._data;return this._milliseconds=t(this._milliseconds),this._days=t(this._days),this._months=t(this._months),e.milliseconds=t(e.milliseconds),e.seconds=t(e.seconds),e.minutes=t(e.minutes),e.hours=t(e.hours),e.month=t(e.month),e.year=t(e.year),this}as(t){if(!this.isValid())return NaN;let e,i;const r=this._milliseconds,o=zZ(t);if("month"===o||"year"===o)return e=this._days+r/864e5,i=this._months+yG(e),"month"===o?i:i/12;switch(e=this._days+Math.round($2(this._months)),o){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hours":return 24*e+r/36e5;case"minutes":return 1440*e+r/6e4;case"seconds":return 86400*e+r/1e3;case"milliseconds":return Math.floor(864e5*e)+r;default:throw new Error(`Unknown unit ${o}`)}}valueOf(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*On(this._months/12):NaN}}function q2(n){if(null==n._isValid){const t=ei(n),e=Array.prototype.some.call(t.parsedDateParts,function(r){return null!=r});let i=!isNaN(n._d&&n._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&e);if(n._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(n))return i;n._isValid=i}return n._isValid}function Fk(n,t){return n._d=new Date(NaN),Object.assign(ei(n),t||{userInvalidated:!0}),n}const sae=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,oae=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,aae=/Z|[+-]\d\d(?::?\d\d)?/,Vk=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/,!0],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/,!0],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/,!0],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/,!0],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/,!0],["YYYYMMDD",/\d{8}/,!0],["GGGG[W]WWE",/\d{4}W\d{3}/,!0],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/,!0]],W2=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],lae=/^\/?Date\((\-?\d+)/i,cae={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},uae=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function xG(n){if(!xa(n._i))return n;const t=n._i,e=sae.exec(t)||oae.exec(t);let i,r,o,a,u,f;if(!e)return n._isValid=!1,n;for(u=0,f=Vk.length;u<f;u++)if(Vk[u][1].exec(e[1])){r=Vk[u][0],i=!1!==Vk[u][2];break}if(null==r)return n._isValid=!1,n;if(e[3]){for(u=0,f=W2.length;u<f;u++)if(W2[u][1].exec(e[3])){o=(e[2]||" ")+W2[u][0];break}if(null==o)return n._isValid=!1,n}if(!i&&null!=o)return n._isValid=!1,n;if(e[4]){if(!aae.exec(e[4]))return n._isValid=!1,n;a="Z"}return n._f=r+(o||"")+(a||""),K2(n)}function hae(n){const t=parseInt(n,10);return t<=49?t+2e3:t}function CG(n){if(!xa(n._i))return n;const t=uae.exec(function fae(n){return n.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(n._i));if(!t)return function rae(n){return n._isValid=!1,n}(n);const e=function dae(n,t,e,i,r,o){const a=[hae(n),iG.indexOf(t),parseInt(e,10),parseInt(i,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}(t[4],t[3],t[2],t[5],t[6],t[7]);return function pae(n,t,e){return!n||rG.indexOf(n)===new Date(t[0],t[1],t[2]).getDay()||(ei(e).weekdayMismatch=!0,e._isValid=!1,!1)}(t[1],e,n)&&(n._a=e,n._tzm=function mae(n,t,e){if(n)return cae[n];if(t)return 0;{const i=parseInt(e,10),r=i%100;return(i-r)/100*60+r}}(t[8],t[9],t[10]),n._d=wk.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),ei(n).rfc2822=!0),n}function Zc(n,t,e,i,r=0){const o=ms(e||"en");if(!o)throw new Error(`Locale "${e}" is not defined, please add it with "defineLocale(...)"`);const u=function _ae(n,t,e,i,r=0){if(!pm(n))return e.invalidDate;const o=TG(t,e);return N2[o]=N2[o]||function toe(n){const t=n.match(KZ),e=t.length,i=new Array(e);for(let r=0;r<e;r++)i[r]=w0[t[r]]?w0[t[r]]:noe(t[r]);return function(r,o,a,u=0){let f="";for(let m=0;m<e;m++)f+=v_(i[m])?i[m].call(null,r,{format:n,locale:o,isUTC:a,offset:u}):i[m];return f}}(o),N2[o](n,e,i,r)}(n,t||(i?"YYYY-MM-DDTHH:mm:ss[Z]":"YYYY-MM-DDTHH:mm:ssZ"),o,i,r);return u&&o.postformat(u)}function TG(n,t){let e=n,i=5;const r=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,o=a=>t.formatLongDate(a)||a;for(r.lastIndex=0;i>=0&&r.test(e);)e=e.replace(r,o),r.lastIndex=0,i-=1;return e}function M0(n,t,e){return n??t??e}function z2(n){const t=[];let e,i,r;if(n._d)return n;const o=function vae(n){const t=new Date;return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(n);for(n._w&&null==n._a[2]&&null==n._a[1]&&function yae(n){let t,e,i,r,o,a,u;const f=n._w;if(null!=f.GG||null!=f.W||null!=f.E)r=1,o=4,t=M0(f.GG,n._a[0],k0(new Date,1,4).year),e=M0(f.W,1),i=M0(f.E,1),(i<1||i>7)&&(u=!0);else{r=n._locale._week.dow,o=n._locale._week.doy;const m=k0(new Date,r,o);t=M0(f.gg,n._a[0],m.year),e=M0(f.w,m.week),null!=f.d?(i=f.d,(i<0||i>6)&&(u=!0)):null!=f.e?(i=f.e+r,(f.e<0||f.e>6)&&(u=!0)):i=r}e<1||e>D_(t,r,o)?ei(n)._overflowWeeks=!0:null!=u?ei(n)._overflowWeekday=!0:(a=function tG(n,t,e,i,r){const u=1+7*(t-1)+(7+e-i)%7+Ok(n,i,r);let f,m;return u<=0?(f=n-1,m=cT(f)+u):u>cT(n)?(f=n+1,m=u-cT(n)):(f=n,m=u),{year:f,dayOfYear:m}}(t,e,i,r,o),n._a[0]=a.year,n._dayOfYear=a.dayOfYear)}(n),null!=n._dayOfYear&&(r=M0(n._a[0],o[0]),(n._dayOfYear>cT(r)||0===n._dayOfYear)&&(ei(n)._overflowDayOfYear=!0),i=new Date(Date.UTC(r,0,n._dayOfYear)),n._a[1]=i.getUTCMonth(),n._a[2]=i.getUTCDate()),e=0;e<3&&null==n._a[e];++e)n._a[e]=t[e]=o[e];for(;e<7;e++)n._a[e]=t[e]=n._a[e]??(2===e?1:0);24===n._a[3]&&0===n._a[4]&&0===n._a[5]&&0===n._a[6]&&(n._nextDay=!0,n._a[3]=0),n._d=(n._useUTC?wk:Dk).apply(null,t);const a=n._useUTC?n._d.getUTCDay():n._d.getDay();return null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[3]=24),n._w&&typeof n._w.d<"u"&&n._w.d!==a&&(ei(n).weekdayMismatch=!0),n}function wG(n){let t;const e=n._a;return e&&-2===ei(n).overflow&&(t=e[1]<0||e[1]>11?1:e[2]<1||e[2]>Nk(e[0],e[1])?2:e[3]<0||e[3]>24||24===e[3]&&(0!==e[4]||0!==e[5]||0!==e[6])?3:e[4]<0||e[4]>59?4:e[5]<0||e[5]>59?5:e[6]<0||e[6]>999?6:-1,ei(n)._overflowDayOfYear&&(t<0||t>2)&&(t=2),ei(n)._overflowWeeks&&-1===t&&(t=7),ei(n)._overflowWeekday&&-1===t&&(t=8),ei(n).overflow=t),n}function K2(n){if("ISO_8601"===n._f)return xG(n);if("RFC_2822"===n._f)return CG(n);if(n._a=[],ei(n).empty=!0,rr(n._f)||!n._i&&0!==n._i)return n;let t=n._i.toString(),e=0;const i=t.length,r=TG(n._f,n._locale).match(KZ)||[];let o,a,u,f;for(o=0;o<r.length;o++)a=r[o],u=(t.match(doe(a,n._locale))||[])[0],u&&(f=t.substr(0,t.indexOf(u)),f.length>0&&ei(n).unusedInput.push(f),t=t.slice(t.indexOf(u)+u.length),e+=u.length),w0[a]?(u?ei(n).empty=!1:ei(n).unusedTokens.push(a),foe(a,u,n)):n._strict&&!u&&ei(n).unusedTokens.push(a);return ei(n).charsLeftOver=i-e,t.length>0&&ei(n).unusedInput.push(t),n._a[3]<=12&&!0===ei(n).bigHour&&n._a[3]>0&&(ei(n).bigHour=void 0),ei(n).parsedDateParts=n._a.slice(0),ei(n).meridiem=n._meridiem,n._a[3]=function Cae(n,t,e){let i=t;if(null==e)return i;if(null!=n.meridiemHour)return n.meridiemHour(i,e);if(null==n.isPM)return i;const r=n.isPM(e);return r&&i<12&&(i+=12),!r&&12===i&&(i=0),i}(n._locale,n._a[3],n._meridiem),z2(n),wG(n)}function Dae(n){const t=wG(function Sae(n){let t=n._i;const e=n._f;return n._locale=n._locale||ms(n._l),null===t||void 0===e&&""===t?Fk(n,{nullInput:!0}):(xa(t)&&(n._i=t=n._locale.preparse(t,e)),Tk(t)?(n._d=Rf(t),n):(rr(e)?function Tae(n){let t,e,i,r,o;if(!n._f||0===n._f.length)return ei(n).invalidFormat=!0,Fk(n);for(o=0;o<n._f.length;o++)r=0,t=Object.assign({},n),null!=n._useUTC&&(t._useUTC=n._useUTC),t._f=n._f[o],K2(t),q2(t)&&(r+=ei(t).charsLeftOver,r+=10*ei(t).unusedTokens.length,ei(t).score=r,(null==i||r<i)&&(i=r,e=t));Object.assign(n,e||t)}(n):e?K2(n):function Aae(n){const t=n._i;if(qZ(t))n._d=new Date;else if(Tk(t))n._d=Rf(t);else if(xa(t))!function gae(n){if(!xa(n._i))return n;const t=lae.exec(n._i);null!==t?n._d=new Date(+t[1]):(xG(n),!1!==n._isValid||(delete n._isValid,CG(n),!1!==n._isValid||(delete n._isValid,Fk(n))))}(n);else if(rr(t)&&t.length){const e=t.slice(0);n._a=e.map(i=>xa(i)?parseInt(i,10):i),z2(n)}else if(b_(t))!function wae(n){if(n._d)return n;const t=n._i;if(b_(t)){const e=function Qse(n){const t={};let e,i;for(i in n)Go(n,i)&&(e=zZ(i),e&&(t[e]=n[i]));return t}(t);n._a=[e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.milliseconds].map(i=>xa(i)?parseInt(i,10):i)}return z2(n)}(n);else{if(!y_(t))return Fk(n);n._d=new Date(t)}}(n),q2(n)||(n._d=null),n))}(n));return t._d=new Date(null!=t._d?t._d.getTime():NaN),q2(Object.assign({},t,{_isValid:null}))||(t._d=new Date(NaN)),t}function fT(n,t,e,i,r){return Tk(n)?n:function Eae(n,t,e,i,r){const o={};let a=n;return(b_(a)&&function Jse(n){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(n).length;let t;for(t in n)if(n.hasOwnProperty(t))return!1;return!0}(a)||rr(a)&&0===a.length)&&(a=void 0),o._useUTC=o._isUTC=r,o._l=e,o._i=a,o._f=t,o._strict=i,Dae(o)}(n,t,e,i,r)._d}function DG(n){return n instanceof Date?new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()):null}function J2(n){return n<0?-1*Math.round(-1*n):Math.round(n)}function Gu(n,t,e="milliseconds"){return!(!n||!t)&&("milliseconds"===e?n.valueOf()>t.valueOf():t.valueOf()<Pf(n,e).valueOf())}function ah(n,t,e="milliseconds"){return!(!n||!t)&&("milliseconds"===e?n.valueOf()<t.valueOf():Lk(n,e).valueOf()<t.valueOf())}function I0(n,t,e="milliseconds"){if(!n||!t)return!1;if("milliseconds"===e)return n.valueOf()===t.valueOf();const i=t.valueOf();return Pf(n,e).valueOf()<=i&&i<=Lk(n,e).valueOf()}const Mae=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Iae=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Q2(n,t,e={}){const i=function Nae(n,t){if(null==n)return{};if(function iae(n){return n instanceof bG}(n))return{milliseconds:n._milliseconds,day:n._days,month:n._months};if(y_(n))return t?{[t]:n}:{milliseconds:n};if(xa(n)){let e=Mae.exec(n);if(e){const i="-"===e[1]?-1:1;return{year:0,day:On(e[2])*i,hours:On(e[3])*i,minutes:On(e[4])*i,seconds:On(e[5])*i,milliseconds:On(J2(1e3*On(e[6])))*i}}if(e=Iae.exec(n),e){const i="-"===e[1]?-1:1;return{year:k_(e[2],i),month:k_(e[3],i),week:k_(e[4],i),day:k_(e[5],i),hours:k_(e[6],i),minutes:k_(e[7],i),seconds:k_(e[8],i)}}}if(b_(n)&&("from"in n||"to"in n)){const e=function Lae(n,t){if(!pm(n)||!pm(t))return{milliseconds:0,months:0};let e;const i=function $oe(n,t,e={}){if(!e._isUTC)return n;const i=Rf(t),r=6e4*(e._offset||0),o=n.valueOf()-i.valueOf()+r;return i.setTime(i.valueOf()+o),i}(t,n,{_offset:n.getTimezoneOffset()});return ah(n,i)?e=SG(n,i):(e=SG(i,n),e.milliseconds=-e.milliseconds,e.months=-e.months),e}(fT(n.from),fT(n.to));return{milliseconds:e.milliseconds,month:e.months}}return n}(n,t);return new bG(i,e)}function k_(n,t){const e=n&&parseFloat(n.replace(",","."));return(isNaN(e)?0:e)*t}function SG(n,t){const e={milliseconds:0,months:0};return e.months=Pn(t)-Pn(n)+12*(br(t)-br(n)),Gu(lh(Rf(n),e.months,"month"),t)&&--e.months,e.milliseconds=+t-+lh(Rf(n),e.months,"month"),e}function lh(n,t,e,i){return AG(n,Q2(t,e),1,i)}function AG(n,t,e,i){const r=t._milliseconds,o=J2(t._days),a=J2(t._months);return a&&w_(n,Pn(n,i)+a*e,i),o&&U2(n,C_(n,i)+o*e,i),r&&function Soe(n,t){n.setTime(t)}(n,function ioe(n){return n.getTime()}(n)+r*e),Rf(n)}function pT(n,t,e=ms(),i){const r=sh(n,i),o=function Pae(n,t){if(!xa(n))return n;const e=parseInt(n,10);if(!isNaN(e))return e;const i=t.weekdaysParse(n);return y_(i)?i:null}(t,e);return lh(n,o-r,"day")}function X2(n,t=ms(),e){return(sh(n,e)+7-t.firstDayOfWeek())%7}const kG=function(n){return 0===n?0:1===n?1:2===n?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},Yae={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},Gc=function(n){return function(t,e){const i=kG(t);let r=Yae[n][kG(t)];return 2===i&&(r=r[e?0:1]),r.replace(/%d/i,t.toString())}};"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),Gc("s"),Gc("s"),Gc("m"),Gc("m"),Gc("h"),Gc("h"),Gc("d"),Gc("d"),Gc("M"),Gc("M"),Gc("y"),Gc("y"),"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"gen._feb._mar._abr._mai._jun._jul._ago._set._oct._nov._des.".split("_"),"ene_feb_mar_abr_mai_jun_jul_ago_set_oct_nov_des".split("_"),"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),"diu._dil._dim._dix._dij._div._dis.".split("_"),"dg_dl_dt_dc_dj_dv_ds".split("_");const tF="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),nF="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_");(function(n,t){let e,i=[];for(e=0;e<12;e++)i[e]=new RegExp("^"+n[e]+"$|^"+t[e]+"$","i")})(tF,nF),function(n){let t,e=[];for(t=0;t<12;t++)e[t]=new RegExp("^"+n[t]+"$","i")}(nF),function(n){let t,e=[];for(t=0;t<12;t++)e[t]=new RegExp("^"+n[t]+"$","i")}(tF),"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"Januar_Februar_Marts_April_Maj_Juni_Juli_August_September_Oktober_November_December".split("_"),"Jan_Feb_Mar_Apr_Maj_Jun_Jul_Aug_Sep_Okt_Nov_Dec".split("_"),"S\xf8ndag_Mandag_Tirsdag_Onsdag_Torsdag_Fredag_L\xf8rdag".split("_"),"S\xf8n_Man_Tir_Ons_Tor_Fre_L\xf8r".split("_"),"S\xf8_Ma_Ti_On_To_Fr_L\xf8".split("_"),"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),"P_E_T_K_N_R_L".split("_"),"P_E_T_K_N_R_L".split("_"),"nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),"dim._lun._mar._mer._jeu._ven._sam.".split("_"),"di_lu_ma_me_je_ve_sa".split("_"),"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),"xan_feb_mar_abr_mai_xu\xf1_xul_ago_set_out_nov_dec".split("_"),"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),"vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" "),"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),"v_h_k_sze_cs_p_szo".split("_"),"Sije\u010danj_Velja\u010da_O\u017eujak_Travanj_Svibanj_Lipanj_Srpanj_Kolovoz_Rujan_Listopad_Studeni_Prosinac".split("_"),"Sij_Velj_O\u017eu_Tra_Svi_Lip_Srp_Kol_Ruj_Lis_Stu_Pro".split("_"),"Nedjelja_Ponedjeljak_Utorak_Srijeda_\u010cetvrtak_Petak_Subota".split("_"),"Ned_Pon_Uto_Sri_\u010cet_Pet_Sub".split("_"),"Ne_Po_Ut_Sr_\u010ce_Pe_Su".split("_"),"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),"dom_lun_mar_mer_gio_ven_sab".split("_"),"do_lu_ma_me_gi_ve_sa".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),"S_P_A_T_K_Pn_\u0160".split("_"),"Janv\u0101ris_Febru\u0101ris_Marts_Apr\u012blis_Maijs_J\u016bnijs_J\u016blijs_Augusts_Septembris_Oktobris_Novembris_Decembris".split("_"),"Jan_Feb_Mar_Apr_Mai_J\u016bn_J\u016bl_Aug_Sep_Okt_Nov_Dec".split("_"),"Sv\u0113tdiena_Pirmdiena_Otrdiena_Tre\u0161diena_Ceturtdiena_Piektdiena_Sestdiena".split("_"),"Sv\u0113td_Pirmd_Otrd_Tre\u0161d_Ceturtd_Piektd_Sestd".split("_"),"Sv_Pi_Ot_Tr_Ce_Pk_Se".split("_"),"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),"stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),"jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),"ne_po_to_sr_\u010de_pe_so".split("_"),"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),"E Diel\xeb_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),"Di_He_Ma_Me_En_Pr_Sh".split("_"),"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_");const WG={abbr:"th-be",months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:n=>"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===n,meridiem:(n,t,e)=>n<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07",calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"},preparse(n,t){const e=WG.longDateFormat[t]?WG.longDateFormat[t]:t;return-1!==e.indexOf("YYYY",e.length-4)?n.substr(0,n.length-4)+(parseInt(n.substr(n.length-4),10)-543):n},getFullYear:(n,t=!1)=>543+(t?n.getUTCFullYear():n.getFullYear())};function F0(n){return function(t){return n+"\u043e"+(11===Rn(t)?"\u0431":"")+"] LT"}}"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),F0("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),F0("[\u0417\u0430\u0432\u0442\u0440\u0430 "),F0("[\u0412\u0447\u043e\u0440\u0430 "),F0("[\u0423] dddd ["),"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_");class cle{constructor(t,e){this.open=t,this.close=e||t}isManual(){return"manual"===this.open||"manual"===this.close}}const ule={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function hF(n,t=ule){const e=(n||"").trim();if(0===e.length)return[];const i=e.split(/\s+/).map(o=>o.split(":")).map(o=>{const a=t[o[0]]||o;return new cle(a[0],a[1])}),r=i.filter(o=>o.isManual());if(r.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===r.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}const sr=typeof window<"u"&&window||{};let Gl;function fF(){if(typeof sr.document>"u")return"bs4";const n=sr.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),sr.document.head.appendChild(n);const t=n.getBoundingClientRect(),e=sr.getComputedStyle(n).paddingLeft;return!t||t&&0!==t.top?(sr.document.head.removeChild(n),"bs3"):e&&parseFloat(e)?(sr.document.head.removeChild(n),"bs4"):(sr.document.head.removeChild(n),"bs5")}function pF(){return typeof sr>"u"||(typeof sr.__theme>"u"?(Gl||(Gl=fF()),"bs3"===Gl):"bs3"===sr.__theme)}function zG(){return!pF()&&(Gl||(Gl=fF()),"bs4"===Gl)}function V0(){return{isBs3:pF(),isBs4:zG(),isBs5:!pF()&&!zG()&&(Gl||(Gl=fF()),"bs5"===Gl)}}function _le(){const n="Change";return function(e,i){const r=` __${i}Value`;Object.defineProperty(e,i,{get(){return this[r]},set(o){const a=this[r];this[r]=o,a!==o&&this[i+n]&&this[i+n].emit(o)}})}}const KG={},vle=typeof console>"u"||!("warn"in console);function $l(n){!(0,s.X6Q)()||vle||n in KG||(KG[n]=!0,console.warn(n))}var yle=I(6451);const gT={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=gT;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Lo.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=gT;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=gT;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},Cle=new class xle extends xu{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class ble extends Ua{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=gT.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(gT.cancelAnimationFrame(e),t._scheduled=void 0)}});var Uk=(()=>{return(n=Uk||(Uk={})).top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",Uk;var n})(),B0=(()=>{return(n=B0||(B0={})).top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",B0;var n})();function L_(n,t){if(1!==n.nodeType)return[];const i=n.ownerDocument.defaultView?.getComputedStyle(n,null);return t?i&&i[t]:i}function mF(n){if(!n)return document.documentElement;let i,e=n?.offsetParent;for(;null===e&&n.nextElementSibling&&i!==n.nextElementSibling;)i=n.nextElementSibling,e=i.offsetParent;const r=e&&e.nodeName;return r&&"BODY"!==r&&"HTML"!==r?e&&-1!==["TH","TD","TABLE"].indexOf(e.nodeName)&&"static"===L_(e,"position")?mF(e):e:i?i.ownerDocument.documentElement:document.documentElement}function gF(n){return null!==n.parentNode?gF(n.parentNode):n}function Hk(n,t){if(!(n&&n.nodeType&&t&&t.nodeType))return document.documentElement;const e=n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=e?n:t,r=e?t:n,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);const a=o.commonAncestorContainer;if(n!==a&&t!==a||i.contains(r))return function Tle(n){const{nodeName:t}=n;return"BODY"!==t&&("HTML"===t||mF(n.firstElementChild)===n)}(a)?a:mF(a);const u=gF(n);return u.host?Hk(u.host,t):Hk(n,gF(t).host)}function JG(n){if(!n||!n.parentElement)return document.documentElement;let t=n.parentElement;for(;t?.parentElement&&"none"===L_(t,"transform");)t=t.parentElement;return t||document.documentElement}function QG(n,t){const e="x"===t?"Left":"Top",i="Left"===e?"Right":"Bottom";return parseFloat(n[`border${e}Width`])+parseFloat(n[`border${i}Width`])}function XG(n,t,e,i){return Math.max(t[`offset${n}`],t[`scroll${n}`],e[`client${n}`],e[`offset${n}`],e[`scroll${n}`],0)}function e$(n){const t=n.body,e=n.documentElement;return{height:XG("Height",t,e),width:XG("Width",t,e)}}function _T(n){return{...n,right:(n.left||0)+n.width,bottom:(n.top||0)+n.height}}function or(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function t$(n){const t=n.getBoundingClientRect();if(!(t&&or(t.top)&&or(t.left)&&or(t.bottom)&&or(t.right)))return t;const e={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===n.nodeName?e$(n.ownerDocument):void 0,r=i?.width||n.clientWidth||or(t.right)&&or(e.left)&&t.right-e.left||0,o=i?.height||n.clientHeight||or(t.bottom)&&or(e.top)&&t.bottom-e.top||0;let a=n.offsetWidth-r,u=n.offsetHeight-o;if(a||u){const f=L_(n);a-=QG(f,"x"),u-=QG(f,"y"),e.width-=a,e.height-=u}return _T(e)}function _F(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function vF(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:t,overflowX:e,overflowY:i}=L_(n);return/(auto|scroll|overlay)/.test(String(t)+String(i)+String(e))?n:vF(_F(n))}function yF(n,t,e=!1){const i="HTML"===t.nodeName,r=t$(n),o=t$(t),u=(vF(n),L_(t)),f=parseFloat(u.borderTopWidth),m=parseFloat(u.borderLeftWidth);e&&i&&(o.top=Math.max(o.top??0,0),o.left=Math.max(o.left??0,0));const v=_T({top:(r.top??0)-(o.top??0)-f,left:(r.left??0)-(o.left??0)-m,width:r.width,height:r.height});if(v.marginTop=0,v.marginLeft=0,i){const x=parseFloat(u.marginTop),S=parseFloat(u.marginLeft);or(v.top)&&(v.top-=f-x),or(v.bottom)&&(v.bottom-=f-x),or(v.left)&&(v.left-=m-S),or(v.right)&&(v.right-=m-S),v.marginTop=x,v.marginLeft=S}return v}function n$(n,t="top"){const e="top"===t?"scrollTop":"scrollLeft",i=n.nodeName;if("BODY"===i||"HTML"===i){const r=n.ownerDocument.documentElement;return(n.ownerDocument.scrollingElement||r)[e]}return n[e]}function i$(n){const t=n.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===L_(n,"position")||i$(_F(n)))}function bF(n,t,e=0,i,r=!1){let o={top:0,left:0};const a=r?JG(n):Hk(n,t);if("viewport"===i)o=function Dle(n,t=!1){const e=n.ownerDocument.documentElement,i=yF(n,e),r=Math.max(e.clientWidth,window.innerWidth||0),o=Math.max(e.clientHeight,window.innerHeight||0),a=t?0:n$(e),u=t?0:n$(e,"left");return _T({top:a-Number(i?.top)+Number(i?.marginTop),left:u-Number(i?.left)+Number(i?.marginLeft),width:r,height:o})}(a,r);else{let u;"scrollParent"===i?(u=vF(_F(t)),"BODY"===u.nodeName&&(u=n.ownerDocument.documentElement)):u="window"===i?n.ownerDocument.documentElement:i;const f=yF(u,a,r);if(f&&"HTML"===u.nodeName&&!i$(a)){const{height:m,width:v}=e$(n.ownerDocument);or(o.top)&&or(f.top)&&or(f.marginTop)&&(o.top+=f.top-f.marginTop),or(o.top)&&(o.bottom=Number(m)+Number(f.top)),or(o.left)&&or(f.left)&&or(f.marginLeft)&&(o.left+=f.left-f.marginLeft),or(o.top)&&(o.right=Number(v)+Number(f.left))}else f&&(o=f)}return or(o.left)&&(o.left+=e),or(o.top)&&(o.top+=e),or(o.right)&&(o.right-=e),or(o.bottom)&&(o.bottom-=e),o}function Sle({width:n,height:t}){return n*t}function r$(n,t,e,i,r=["top","bottom","right","left"],o="viewport",a=0){if(-1===n.indexOf("auto"))return n;const u=bF(e,i,a,o),f={top:{width:u?.width??0,height:(t?.top??0)-(u?.top??0)},right:{width:(u?.right??0)-(t?.right??0),height:u?.height??0},bottom:{width:u?.width??0,height:(u?.bottom??0)-(t?.bottom??0)},left:{width:(t.left??0)-(u?.left??0),height:u?.height??0}},m=Object.keys(f).map(k=>({position:k,...f[k],area:Sle(f[k])})).sort((k,O)=>O.area-k.area);let v=m.filter(({width:k,height:O})=>k>=e.clientWidth&&O>=e.clientHeight);v=v.filter(({position:k})=>r.some(O=>O===k));const x=v.length>0?v[0].position:m[0].position,S=n.split(" ")[1];return e.className=e.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${V0().isBs5?B0[x]:x}`),x+(S?`-${S}`:"")}const Yk=(n,t=0)=>n?parseFloat(n):t;function s$(n){const e=n.ownerDocument.defaultView?.getComputedStyle(n),i=Yk(e?.marginTop)+Yk(e?.marginBottom),r=Yk(e?.marginLeft)+Yk(e?.marginRight);return{width:Number(n.offsetWidth)+r,height:Number(n.offsetHeight)+i}}function o$(n,t,e){return yF(t,e?JG(n):Hk(n,t),e)}function xF(n,t,e){const i=e.split(" ")[0],r=s$(n),o={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(i),u=a?"top":"left",f=a?"left":"top",m=a?"height":"width",v=a?"width":"height";return o[u]=(t[u]??0)+t[m]/2-r[m]/2,o[f]=i===f?(t[f]??0)-r[v]:t[function Ele(n){const t={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,e=>t[e])}(f)]??0,o}function a$(n,t){return!!n.modifiers[t]?.enabled}const Mle={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function jk(n,t){return!!V0().isBs5&&Mle[t].includes(n)}function l$(n,t,e){!n||!t||Object.keys(t).forEach(i=>{let r="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&function wle(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(t[i])&&(r="px"),e?e.setStyle(n,i,`${String(t[i])}${r}`):n.style[i]=String(t[i])+r})}function Lle(n){let t=n.offsets.target;const e=n.instance.target.querySelector(".arrow");if(!e)return n;const i=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),r=i?"height":"width",o=i?"Top":"Left",a=o.toLowerCase(),u=i?"left":"top",f=i?"bottom":"right",m=s$(e)[r],v=n.placement.split(" ")[1];(n.offsets.host[f]??0)-m<(t[a]??0)&&(t[a]-=(t[a]??0)-((n.offsets.host[f]??0)-m)),Number(n.offsets.host[a])+Number(m)>(t[f]??0)&&(t[a]+=Number(n.offsets.host[a])+Number(m)-Number(t[f])),t=_T(t);const x=L_(n.instance.target),S=parseFloat(x[`margin${o}`])||0,k=parseFloat(x[`border${o}Width`])||0;let O;if(v){const V=parseFloat(x.borderRadius)||0,te=Number(S+k+V);O=a===v?Number(n.offsets.host[a])+te:Number(n.offsets.host[a])+Number(n.offsets.host[r]-te)}else O=Number(n.offsets.host[a])+Number(n.offsets.host[r]/2-m/2);let U=O-(t[a]??0)-S-k;return U=Math.max(Math.min(t[r]-(m+5),U),0),n.offsets.arrow={[a]:Math.round(U),[u]:""},n.instance.arrow=e,n}function Ole(n){if(n.offsets.target=_T(n.offsets.target),!a$(n.options,"flip"))return n.offsets.target={...n.offsets.target,...xF(n.instance.target,n.offsets.host,n.placement)},n;const t=bF(n.instance.target,n.instance.host,0,"viewport",!1);let e=n.placement.split(" ")[0],i=n.placement.split(" ")[1]||"";const u=r$("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),f=[e,u];return f.forEach((m,v)=>{if(e!==m||f.length===v+1)return;e=n.placement.split(" ")[0];const x="left"===e&&Math.floor(n.offsets.target.right??0)>Math.floor(n.offsets.host.left??0)||"right"===e&&Math.floor(n.offsets.target.left??0)<Math.floor(n.offsets.host.right??0)||"top"===e&&Math.floor(n.offsets.target.bottom??0)>Math.floor(n.offsets.host.top??0)||"bottom"===e&&Math.floor(n.offsets.target.top??0)<Math.floor(n.offsets.host.bottom??0),S=Math.floor(n.offsets.target.left??0)<Math.floor(t.left??0),k=Math.floor(n.offsets.target.right??0)>Math.floor(t.right??0),O=Math.floor(n.offsets.target.top??0)<Math.floor(t.top??0),U=Math.floor(n.offsets.target.bottom??0)>Math.floor(t.bottom??0),V="left"===e&&S||"right"===e&&k||"top"===e&&O||"bottom"===e&&U,te=-1!==["top","bottom"].indexOf(e),re=te&&"left"===i&&S||te&&"right"===i&&k||!te&&"left"===i&&O||!te&&"right"===i&&U;(x||V||re)&&((x||V)&&(e=f[v+1]),re&&(i=function kle(n){return"right"===n?"left":"left"===n?"right":n}(i)),n.placement=e+(i?` ${i}`:""),n.offsets.target={...n.offsets.target,...xF(n.instance.target,n.offsets.host,n.placement)})}),n}function Ple(n){if(!a$(n.options,"preventOverflow"))return n;const t="transform",e=n.instance.target.style,{top:i,left:r,[t]:o}=e;e.top="",e.left="",e[t]="";const a=bF(n.instance.target,n.instance.host,0,n.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);e.top=i,e.left=r,e[t]=o;const f={primary(m){let v=n.offsets.target[m];return(n.offsets.target[m]??0)<(a[m]??0)&&(v=Math.max(n.offsets.target[m]??0,a[m]??0)),{[m]:v}},secondary(m){const v="right"===m,x=v?"left":"top";let k=n.offsets.target[x];return(n.offsets.target[m]??0)>(a[m]??0)&&(k=Math.min(n.offsets.target[x]??0,(a[m]??0)-n.offsets.target[v?"width":"height"])),{[x]:k}}};return["left","right","top","bottom"].forEach(m=>{const v=-1!==["left","top","start"].indexOf(m)?f.primary:f.secondary;n.offsets.target={...n.offsets.target,...v(m)}}),n}function Fle(n){const t=n.placement,e=t.split(" ")[0],i=t.split(" ")[1];if(i){const{host:r,target:o}=n.offsets,a=-1!==["bottom","top"].indexOf(e),u=a?"left":"top",f=a?"width":"height",m={start:{[u]:r[u]},end:{[u]:(r[u]??0)+r[f]-o[f]}};n.offsets.target={...o,[u]:u===i?m.start[u]:m.end[u]}}return n}const Ble=new class Vle{position(t,e){return this.offset(t,e)}offset(t,e){return o$(e,t)}positionElements(t,e,i,r,o){const a=[Ole,Fle,Ple,Lle],f=function Rle(n,t,e,i){if(!n||!t)return;const r=o$(n,t);!e.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!e.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(e="auto");const o=!!e.match(/auto/g);let a=e.match(/auto\s(left|right|top|bottom|start|end)/)?e.split(" ")[1]||"auto":e;const u=a.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return u&&(a=u[1]+(u[2]?` ${u[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(a)&&(a="auto"),a=r$(a,r,n,t,i?i.allowedPositions:void 0),{options:i||{modifiers:{}},instance:{target:n,host:t,arrow:void 0},offsets:{target:xF(n,r,a),host:r,arrow:void 0},positionFixed:!1,placement:a,placementAuto:o}}(e,t,Uk[i],o);if(f)return a.reduce((m,v)=>v(m),f)}};function Ule(n,t,e,i,r,o){const a=Ble.positionElements(n,t,e,i,r);if(!a)return;const u=function Ale(n){return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(n.offsets.target.left??0),top:Math.round(n.offsets.target.top??0),bottom:Math.round(n.offsets.target.bottom??0),right:Math.floor(n.offsets.target.right??0)}}(a);l$(t,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${u.left}px, ${u.top}px, 0px)`},o),a.instance.arrow&&l$(a.instance.arrow,a.offsets.arrow,o),function Nle(n,t){const e=n.instance.target;let i=e.className;const r=V0().isBs5?B0[n.placement]:n.placement;n.placementAuto&&(i=i.replace(/bs-popover-auto/g,`bs-popover-${r}`),i=i.replace(/ms-2|me-2|mb-2|mt-2/g,""),i=i.replace(/bs-tooltip-auto/g,`bs-tooltip-${r}`),i=i.replace(/\sauto/g,` ${r}`),-1!==i.indexOf("popover")&&(i=i+" "+function Ile(n){return V0().isBs5?jk(n,"end")?"ms-2":jk(n,"start")?"me-2":jk(n,"top")?"mb-2":jk(n,"bottom")?"mt-2":"":""}(r)),-1!==i.indexOf("popover")&&-1===i.indexOf("popover-auto")&&(i+=" popover-auto"),-1!==i.indexOf("tooltip")&&-1===i.indexOf("tooltip-auto")&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom|end|start/g,`${r.split(" ")[0]}`),t?t.setAttribute(e,"class",i):e.className=i}(a,o)}let U0=(()=>{class n{constructor(e,i,r){this.update$$=new sn.x,this.positionElements=new Map,this.isDisabled=!1,ia(r)&&e.runOutsideAngular(()=>{this.triggerEvent$=(0,yle.T)(ui(window,"scroll",{passive:!0}),ui(window,"resize",{passive:!0}),At(0,Cle),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(o=>{Ule(Zk(o.target),Zk(o.element),o.attachment,o.appendToBody,this.options,i.createRenderer(null,null))})})})}position(e){this.addPositionElement(e)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(e){this.positionElements.set(Zk(e.element),e)}calcPosition(){this.update$$.next(null)}deletePositionElement(e){this.positionElements.delete(Zk(e))}setOptions(e){this.options=e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(s.FYo),s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zk(n){return"string"==typeof n?document.querySelector(n):n instanceof s.SBq?n.nativeElement:n??null}const jle=new class Yle extends xu{}(class Hle extends Ua{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}});var Zle=I(5363);class c$ extends _i{constructor(t,e,i){super(t),e.pipe((0,Zle.Q)(jle)).pipe(UP((a,u)=>u?i(a,u):a,t)).subscribe(a=>this.next(a))}}class Gk extends Tr.y{constructor(t,e,i){super(),this._dispatcher=t,this._reducer=e,this.source=i}select(t){return(this.source?.pipe((0,Nt.U)(t))||(new Tr.y).pipe((0,Nt.U)(t))).pipe(gr())}lift(t){const e=new Gk(this._dispatcher,this._reducer,this);return e.operator=t,e}dispatch(t){this._dispatcher.next(t)}next(t){this._dispatcher.next(t)}error(t){this._dispatcher.error(t)}complete(){}}function Gle(n,t){1&n&&(s.TgZ(0,"td"),s._uU(1,"\xa0\xa0\xa0"),s.qZA())}function $le(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td")(1,"a",1),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeMinutes(r.minuteStep))}),s._UZ(2,"span",2),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.ekj("disabled",!e.canIncrementMinutes||!e.isEditable)}}function qle(n,t){1&n&&(s.TgZ(0,"td"),s._uU(1,"\xa0"),s.qZA())}function Wle(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td")(1,"a",1),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeSeconds(r.secondsStep))}),s._UZ(2,"span",2),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.ekj("disabled",!e.canIncrementSeconds||!e.isEditable)}}function zle(n,t){1&n&&(s.TgZ(0,"td"),s._uU(1,"\xa0\xa0\xa0"),s.qZA())}function Kle(n,t){1&n&&s._UZ(0,"td")}function Jle(n,t){1&n&&(s.TgZ(0,"td"),s._uU(1,"\xa0:\xa0"),s.qZA())}function Qle(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",4)(1,"input",5),s.NdJ("wheel",function(r){s.CHM(e);const o=s.oxw();return o.prevDef(r),s.KtG(o.changeMinutes(o.minuteStep*o.wheelSign(r),"wheel"))})("keydown.ArrowUp",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeMinutes(r.minuteStep,"key"))})("keydown.ArrowDown",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeMinutes(-r.minuteStep,"key"))})("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.updateMinutes(r.target))}),s.qZA()()}if(2&n){const e=s.oxw();s.ekj("has-error",e.invalidMinutes),s.xp6(1),s.ekj("is-invalid",e.invalidMinutes),s.Q6J("placeholder",e.minutesPlaceholder)("readonly",e.readonlyInput)("disabled",e.disabled)("value",e.minutes),s.uIk("aria-label",e.labelMinutes)}}function Xle(n,t){1&n&&(s.TgZ(0,"td"),s._uU(1,"\xa0:\xa0"),s.qZA())}function ece(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",4)(1,"input",5),s.NdJ("wheel",function(r){s.CHM(e);const o=s.oxw();return o.prevDef(r),s.KtG(o.changeSeconds(o.secondsStep*o.wheelSign(r),"wheel"))})("keydown.ArrowUp",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeSeconds(r.secondsStep,"key"))})("keydown.ArrowDown",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeSeconds(-r.secondsStep,"key"))})("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.updateSeconds(r.target))}),s.qZA()()}if(2&n){const e=s.oxw();s.ekj("has-error",e.invalidSeconds),s.xp6(1),s.ekj("is-invalid",e.invalidSeconds),s.Q6J("placeholder",e.secondsPlaceholder)("readonly",e.readonlyInput)("disabled",e.disabled)("value",e.seconds),s.uIk("aria-label",e.labelSeconds)}}function tce(n,t){1&n&&(s.TgZ(0,"td"),s._uU(1,"\xa0\xa0\xa0"),s.qZA())}function nce(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td")(1,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.toggleMeridian())}),s._uU(2),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.ekj("disabled",!e.isEditable||!e.canToggleMeridian),s.Q6J("disabled",!e.isEditable||!e.canToggleMeridian),s.xp6(1),s.hij("",e.meridian," ")}}function ice(n,t){1&n&&(s.TgZ(0,"td"),s._uU(1,"\xa0\xa0\xa0"),s.qZA())}function rce(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td")(1,"a",1),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeMinutes(-r.minuteStep))}),s._UZ(2,"span",7),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.ekj("disabled",!e.canDecrementMinutes||!e.isEditable)}}function sce(n,t){1&n&&(s.TgZ(0,"td"),s._uU(1,"\xa0"),s.qZA())}function oce(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td")(1,"a",1),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeSeconds(-r.secondsStep))}),s._UZ(2,"span",7),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.ekj("disabled",!e.canDecrementSeconds||!e.isEditable)}}function ace(n,t){1&n&&(s.TgZ(0,"td"),s._uU(1,"\xa0\xa0\xa0"),s.qZA())}function lce(n,t){1&n&&s._UZ(0,"td")}let Ff=(()=>{class n{writeValue(e){return{type:n.WRITE_VALUE,payload:e}}changeHours(e){return{type:n.CHANGE_HOURS,payload:e}}changeMinutes(e){return{type:n.CHANGE_MINUTES,payload:e}}changeSeconds(e){return{type:n.CHANGE_SECONDS,payload:e}}setTime(e){return{type:n.SET_TIME_UNIT,payload:e}}updateControls(e){return{type:n.UPDATE_CONTROLS,payload:e}}}return n.WRITE_VALUE="[timepicker] write value from ng model",n.CHANGE_HOURS="[timepicker] change hours",n.CHANGE_MINUTES="[timepicker] change minutes",n.CHANGE_SECONDS="[timepicker] change seconds",n.SET_TIME_UNIT="[timepicker] set time unit",n.UPDATE_CONTROLS="[timepicker] update controls",n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function CF(n){return!(!n||n instanceof Date&&isNaN(n.getHours()))&&("string"!=typeof n||CF(new Date(n)))}function TF(n,t){return!(n.min&&t<n.min||n.max&&t>n.max)}function O_(n){return typeof n>"u"?NaN:"number"==typeof n?n:parseInt(n,10)}function d$(n,t=!1){const e=O_(n);return isNaN(e)||e<0||e>(t?12:24)?NaN:e}function h$(n){const t=O_(n);return isNaN(t)||t<0||t>60?NaN:t}function f$(n){const t=O_(n);return isNaN(t)||t<0||t>60?NaN:t}function p$(n){return"string"==typeof n?new Date(n):n}function Qc(n,t){if(!n)return Qc($k(new Date,0,0,0),t);if(!t)return n;let e=n.getHours(),i=n.getMinutes(),r=n.getSeconds();return t.hour&&(e+=O_(t.hour)),t.minute&&(i+=O_(t.minute)),t.seconds&&(r+=O_(t.seconds)),$k(n,e,i,r)}function m$(n,t){let e=d$(t.hour);const i=h$(t.minute),r=f$(t.seconds)||0;return t.isPM&&12!==e&&(e+=12),n?isNaN(e)||isNaN(i)?n:$k(n,e,i,r):isNaN(e)||isNaN(i)?n:$k(new Date,e,i,r)}function $k(n,t,e,i){const r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),t,e,i,n.getMilliseconds());return r.setFullYear(n.getFullYear()),r.setMonth(n.getMonth()),r.setDate(n.getDate()),r}function wF(n){const t=n.toString();return t.length>1?t:`0${t}`}function g$(n,t){return!isNaN(d$(n,t))}function _$(n){return!isNaN(h$(n))}function v$(n){return!isNaN(f$(n))}function y$(n,t="0",e="0",i){return g$(n,i)&&_$(t)&&v$(e)}function qk(n,t){return!(n.readonlyInput||n.disabled||t&&("wheel"===t.source&&!n.mousewheel||"key"===t.source&&!n.arrowkeys))}function b$(n){const{hourStep:t,minuteStep:e,secondsStep:i,readonlyInput:r,disabled:o,mousewheel:a,arrowkeys:u,showSpinners:f,showMeridian:m,showSeconds:v,meridians:x,min:S,max:k}=n;return{hourStep:t,minuteStep:e,secondsStep:i,readonlyInput:r,disabled:o,mousewheel:a,arrowkeys:u,showSpinners:f,showMeridian:m,showSeconds:v,meridians:x,min:S,max:k}}let x$=(()=>{class n{constructor(){this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.showMeridian=!0,this.meridians=["AM","PM"],this.readonlyInput=!1,this.disabled=!1,this.allowEmptyTime=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showSeconds=!1,this.showMinutes=!0,this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.ariaLabelHours="hours",this.ariaLabelMinutes="minutes",this.ariaLabelSeconds="seconds"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const C$={value:void 0,config:new x$,controls:{canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0}};function T$(n=C$,t){switch(t.type){case Ff.WRITE_VALUE:return Object.assign({},n,{value:t.payload});case Ff.CHANGE_HOURS:{if(!qk(n.config,t.payload)||!function mce(n,t){return!(!n.step||n.step>0&&!t.canIncrementHours||n.step<0&&!t.canDecrementHours)}(t.payload,n.controls))return n;const e=Qc(n.value,{hour:t.payload.step});return!n.config.max&&!n.config.min||TF(n.config,e)?Object.assign({},n,{value:e}):n}case Ff.CHANGE_MINUTES:{if(!qk(n.config,t.payload)||!function gce(n,t){return!(!n.step||n.step>0&&!t.canIncrementMinutes||n.step<0&&!t.canDecrementMinutes)}(t.payload,n.controls))return n;const e=Qc(n.value,{minute:t.payload.step});return!n.config.max&&!n.config.min||TF(n.config,e)?Object.assign({},n,{value:e}):n}case Ff.CHANGE_SECONDS:{if(!qk(n.config,t.payload)||!function _ce(n,t){return!(!n.step||n.step>0&&!t.canIncrementSeconds||n.step<0&&!t.canDecrementSeconds)}(t.payload,n.controls))return n;const e=Qc(n.value,{seconds:t.payload.step});return!n.config.max&&!n.config.min||TF(n.config,e)?Object.assign({},n,{value:e}):n}case Ff.SET_TIME_UNIT:{if(!qk(n.config))return n;const e=m$(n.value,t.payload);return Object.assign({},n,{value:e})}case Ff.UPDATE_CONTROLS:{const e=function vce(n,t){const{min:r,max:o,hourStep:a,minuteStep:u,secondsStep:f,showSeconds:m}=t,v={canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0};if(!n)return v;if(o){const x=Qc(n,{hour:a});if(v.canIncrementHours=o>x&&n.getHours()+a<24,!v.canIncrementHours){const S=Qc(n,{minute:u});v.canIncrementMinutes=m?o>S:o>=S}if(!v.canIncrementMinutes){const S=Qc(n,{seconds:f});v.canIncrementSeconds=o>=S}n.getHours()<12&&(v.canToggleMeridian=Qc(n,{hour:12})<o)}if(r){const x=Qc(n,{hour:-a});if(v.canDecrementHours=r<x,!v.canDecrementHours){const S=Qc(n,{minute:-u});v.canDecrementMinutes=m?r<S:r<=S}if(!v.canDecrementMinutes){const S=Qc(n,{seconds:-f});v.canDecrementSeconds=r<=S}n.getHours()>=12&&(v.canToggleMeridian=Qc(n,{hour:-12})>r)}return v}(n.value,t.payload),i={value:n.value,config:t.payload,controls:e};return n.config.showMeridian!==i.config.showMeridian&&n.value&&(i.value=new Date(n.value)),Object.assign({},n,i)}default:return n}}let Wk=(()=>{class n extends Gk{constructor(){const e=new _i({type:"[mini-ngrx] dispatcher init"});super(e,T$,new c$(C$,e,T$))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const yce={provide:Br,useExisting:(0,s.Gpc)(()=>DF),multi:!0};let DF=(()=>{class n{constructor(e,i,r,o){this._cd=i,this._store=r,this._timepickerActions=o,this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.readonlyInput=!1,this.disabled=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showMeridian=!0,this.showMinutes=!0,this.showSeconds=!1,this.meridians=["AM","PM"],this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.isValid=new s.vpe,this.meridianChange=new s.vpe,this.hours="",this.minutes="",this.seconds="",this.meridian="",this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1,this.labelHours="hours",this.labelMinutes="minutes",this.labelSeconds="seconds",this.canIncrementHours=!0,this.canIncrementMinutes=!0,this.canIncrementSeconds=!0,this.canDecrementHours=!0,this.canDecrementMinutes=!0,this.canDecrementSeconds=!0,this.canToggleMeridian=!0,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.config=e,Object.assign(this,this.config),this.timepickerSub=r.select(a=>a.value).subscribe(a=>{this._renderTime(a),this.onChange(a),this._store.dispatch(this._timepickerActions.updateControls(b$(this)))}),r.select(a=>a.controls).subscribe(a=>{const u=y$(this.hours,this.minutes,this.seconds,this.isPM()),f=this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||u;this.isValid.emit(f),Object.assign(this,a),i.markForCheck()})}get isSpinnersVisible(){return this.showSpinners&&!this.readonlyInput}get isEditable(){return!(this.readonlyInput||this.disabled)}resetValidation(){this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1}isPM(){return this.showMeridian&&this.meridian===this.meridians[1]}prevDef(e){e.preventDefault()}wheelSign(e){return-1*Math.sign(e.deltaY||0)}ngOnChanges(){this._store.dispatch(this._timepickerActions.updateControls(b$(this)))}changeHours(e,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeHours({step:e,source:i}))}changeMinutes(e,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeMinutes({step:e,source:i}))}changeSeconds(e,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeSeconds({step:e,source:i}))}updateHours(e){this.resetValidation(),this.hours=e.value;const i=g$(this.hours,this.isPM())&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidHours=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateMinutes(e){this.resetValidation(),this.minutes=e.value;const i=_$(this.minutes)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidMinutes=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateSeconds(e){this.resetValidation(),this.seconds=e.value;const i=v$(this.seconds)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidSeconds=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}isValidLimit(){return function fce(n,t,e){const i=m$(new Date,n);return!(!i||t&&i>t||e&&i<e)}({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()},this.max,this.min)}isOneOfDatesIsEmpty(){return function pce(n,t,e){return 0===n.length||0===t.length||0===e.length}(this.hours,this.minutes,this.seconds)}_updateTime(){const r=y$(this.hours,this.showMinutes?this.minutes:void 0,this.showSeconds?this.seconds:void 0,this.isPM());if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.isValid.emit(!1),void this.onChange(null);this._store.dispatch(this._timepickerActions.setTime({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()}))}toggleMeridian(){this.showMeridian&&this.isEditable&&this._store.dispatch(this._timepickerActions.changeHours({step:12,source:""}))}writeValue(e){CF(e)?(this.resetValidation(),this._store.dispatch(this._timepickerActions.writeValue(p$(e)))):null==e&&this._store.dispatch(this._timepickerActions.writeValue())}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._cd.markForCheck()}ngOnDestroy(){this.timepickerSub?.unsubscribe()}_renderTime(e){if(!e||!CF(e))return this.hours="",this.minutes="",this.seconds="",this.meridian=this.meridians[0],void this.meridianChange.emit(this.meridian);const i=p$(e);if(!i)return;let o=i.getHours();this.showMeridian&&(this.meridian=this.meridians[o>=12?1:0],this.meridianChange.emit(this.meridian),o%=12,0===o&&(o=12)),this.hours=wF(o),this.minutes=wF(i.getMinutes()),this.seconds=wF(i.getUTCSeconds())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(x$),s.Y36(s.sBO),s.Y36(Wk),s.Y36(Ff))},n.\u0275cmp=s.Xpm({type:n,selectors:[["timepicker"]],inputs:{hourStep:"hourStep",minuteStep:"minuteStep",secondsStep:"secondsStep",readonlyInput:"readonlyInput",disabled:"disabled",mousewheel:"mousewheel",arrowkeys:"arrowkeys",showSpinners:"showSpinners",showMeridian:"showMeridian",showMinutes:"showMinutes",showSeconds:"showSeconds",meridians:"meridians",min:"min",max:"max",hoursPlaceholder:"hoursPlaceholder",minutesPlaceholder:"minutesPlaceholder",secondsPlaceholder:"secondsPlaceholder"},outputs:{isValid:"isValid",meridianChange:"meridianChange"},features:[s._Bn([yce,Wk]),s.TTD],decls:31,vars:33,consts:[[1,"text-center",3,"hidden"],[1,"btn","btn-link",3,"click"],[1,"bs-chevron","bs-chevron-up"],[4,"ngIf"],[1,"form-group","mb-3"],["type","text","maxlength","2",1,"form-control","text-center","bs-timepicker-field",3,"placeholder","readonly","disabled","value","wheel","keydown.ArrowUp","keydown.ArrowDown","change"],["class","form-group mb-3",3,"has-error",4,"ngIf"],[1,"bs-chevron","bs-chevron-down"],["type","button",1,"btn","btn-default","text-center",3,"disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"table")(1,"tbody")(2,"tr",0)(3,"td")(4,"a",1),s.NdJ("click",function(){return i.changeHours(i.hourStep)}),s._UZ(5,"span",2),s.qZA()(),s.YNc(6,Gle,2,0,"td",3),s.YNc(7,$le,3,2,"td",3),s.YNc(8,qle,2,0,"td",3),s.YNc(9,Wle,3,2,"td",3),s.YNc(10,zle,2,0,"td",3),s.YNc(11,Kle,1,0,"td",3),s.qZA(),s.TgZ(12,"tr")(13,"td",4)(14,"input",5),s.NdJ("wheel",function(o){return i.prevDef(o),i.changeHours(i.hourStep*i.wheelSign(o),"wheel")})("keydown.ArrowUp",function(){return i.changeHours(i.hourStep,"key")})("keydown.ArrowDown",function(){return i.changeHours(-i.hourStep,"key")})("change",function(o){return i.updateHours(o.target)}),s.qZA()(),s.YNc(15,Jle,2,0,"td",3),s.YNc(16,Qle,2,9,"td",6),s.YNc(17,Xle,2,0,"td",3),s.YNc(18,ece,2,9,"td",6),s.YNc(19,tce,2,0,"td",3),s.YNc(20,nce,3,4,"td",3),s.qZA(),s.TgZ(21,"tr",0)(22,"td")(23,"a",1),s.NdJ("click",function(){return i.changeHours(-i.hourStep)}),s._UZ(24,"span",7),s.qZA()(),s.YNc(25,ice,2,0,"td",3),s.YNc(26,rce,3,2,"td",3),s.YNc(27,sce,2,0,"td",3),s.YNc(28,oce,3,2,"td",3),s.YNc(29,ace,2,0,"td",3),s.YNc(30,lce,1,0,"td",3),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("hidden",!i.showSpinners),s.xp6(2),s.ekj("disabled",!i.canIncrementHours||!i.isEditable),s.xp6(2),s.Q6J("ngIf",i.showMinutes),s.xp6(1),s.Q6J("ngIf",i.showMinutes),s.xp6(1),s.Q6J("ngIf",i.showSeconds),s.xp6(1),s.Q6J("ngIf",i.showSeconds),s.xp6(1),s.Q6J("ngIf",i.showMeridian),s.xp6(1),s.Q6J("ngIf",i.showMeridian),s.xp6(2),s.ekj("has-error",i.invalidHours),s.xp6(1),s.ekj("is-invalid",i.invalidHours),s.Q6J("placeholder",i.hoursPlaceholder)("readonly",i.readonlyInput)("disabled",i.disabled)("value",i.hours),s.uIk("aria-label",i.labelHours),s.xp6(1),s.Q6J("ngIf",i.showMinutes),s.xp6(1),s.Q6J("ngIf",i.showMinutes),s.xp6(1),s.Q6J("ngIf",i.showSeconds),s.xp6(1),s.Q6J("ngIf",i.showSeconds),s.xp6(1),s.Q6J("ngIf",i.showMeridian),s.xp6(1),s.Q6J("ngIf",i.showMeridian),s.xp6(1),s.Q6J("hidden",!i.showSpinners),s.xp6(2),s.ekj("disabled",!i.canDecrementHours||!i.isEditable),s.xp6(2),s.Q6J("ngIf",i.showMinutes),s.xp6(1),s.Q6J("ngIf",i.showMinutes),s.xp6(1),s.Q6J("ngIf",i.showSeconds),s.xp6(1),s.Q6J("ngIf",i.showSeconds),s.xp6(1),s.Q6J("ngIf",i.showMeridian),s.xp6(1),s.Q6J("ngIf",i.showMeridian))},dependencies:[kt],styles:[".bs-chevron{border-style:solid;display:block;width:9px;height:9px;position:relative;border-width:3px 0px 0 3px}.bs-chevron-up{transform:rotate(45deg);top:2px}.bs-chevron-down{transform:rotate(-135deg);top:-2px}.bs-timepicker-field{width:65px;padding:.375rem .55rem}\n"],encapsulation:2,changeDetection:0}),n})(),bce=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Ff,Wk]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Wk],imports:[Qn]}),n})();var SF=I(655);class vT{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}class xce{constructor(t,e,i,r,o,a,u,f,m){this._viewContainerRef=t,this._renderer=e,this._elementRef=i,this._injector=r,this._componentFactoryResolver=o,this._ngZone=a,this._applicationRef=u,this._posService=f,this._document=m,this.onBeforeShow=new s.vpe,this.onShown=new s.vpe,this.onBeforeHide=new s.vpe,this.onHidden=new s.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}to(t){return this.container=t||this.container,this}position(t){return t?(this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this):this}provide(t){return this._providers.push(t),this}show(t={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);const e=s.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof s.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const i=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!i)return;i.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(t.id?{id:t.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(t){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const e=this._componentRef.location.nativeElement;return e.parentNode?.removeChild(e),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(t?{id:t}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(t){this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||this._elementRef?.nativeElement;const e=this._listenOpts.hide=()=>t.hide?t.hide():void this.hide(),i=this._listenOpts.show=o=>{t.show?t.show(o):this.show(o),o()};return this._renderer&&(this._unregisterListenersFn=function dle(n,t){const e=hF(t.triggers),i=t.target;if(1===e.length&&e[0].isManual())return Function.prototype;const r=[],o=[],a=()=>{o.forEach(u=>r.push(u())),o.length=0};return e.forEach(u=>{const f=u.open===u.close,m=f?t.toggle:t.show;if(!f&&u.close&&t.hide){const v=n.listen(i,u.close,t.hide);o.push(()=>v)}m&&r.push(n.listen(i,u.open,()=>m(a)))}),()=>{r.forEach(u=>u())}}(this._renderer,{target:t.target,triggers:t.triggers,show:i,hide:e,toggle:o=>{this.isShown?e():i(o)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(t,e){return t&&e&&(this._inlineViewRef=t.createEmbeddedView(e)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const t=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function hle(n,t){return t.outsideClick?n.listen("document","click",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(i=>i.contains(e.target))||t.hide&&t.hide()}):Function.prototype}(this._renderer,{targets:[t,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function fle(n,t){return t.outsideEsc?n.listen("document","keyup.esc",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(i=>i.contains(e.target))||t.hide&&t.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(t,e,i){if(!t)return new vT([]);if(t instanceof s.Rgc){if(this._viewContainerRef){const a=this._viewContainerRef.createEmbeddedView(t,e);return a.markForCheck(),new vT([a.rootNodes],a)}const o=t.createEmbeddedView({});return this._applicationRef.attachView(o),new vT([o.rootNodes],o)}if("function"==typeof t){const o=this._componentFactoryResolver.resolveComponentFactory(t),a=s.zs3.create({providers:this._providers,parent:this._injector}),u=o.create(a);return Object.assign(u.instance,i),this._applicationRef.attachView(u.hostView),new vT([[u.location.nativeElement]],u.hostView,u)}const r=this._renderer?[this._renderer.createText(`${t}`)]:[];return new vT([r])}}let yT=(()=>{class n{constructor(e,i,r,o,a,u){this._componentFactoryResolver=e,this._ngZone=i,this._injector=r,this._posService=o,this._applicationRef=a,this._document=u}createLoader(e,i,r){return new xce(i,r,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s._Vd),s.LFG(s.R0b),s.LFG(s.zs3),s.LFG(U0),s.LFG(s.z2F),s.LFG(se))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cce=["*"];let AF=(()=>{class n{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tce=(()=>{class n{constructor(e){Object.assign(this,e)}get _bsVersions(){return V0()}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=B0[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(AF))},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("id",i.id),s.Tol("tooltip in tooltip-"+i.placement+" bs-tooltip-"+i.placement+" "+i.placement+" "+i.containerClass),s.ekj("show",!i._bsVersions.isBs3)("bs3",i._bsVersions.isBs3))},ngContentSelectors:Cce,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(e,i){1&e&&(s.F$t(),s._UZ(0,"div",0),s.TgZ(1,"div",1),s.Hsn(2),s.qZA())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none}.bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%]{margin-left:-2px}.bs3.tooltip.bottom[_nghost-%COMP%]{margin-top:0}.bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{margin:0}.bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{margin:.3rem 0}"],changeDetection:0}),n})(),wce=0,Dce=(()=>{class n{constructor(e,i,r,o,a,u){this._elementRef=o,this._renderer=a,this._positionService=u,this.tooltipId=wce++,this.adaptivePosition=!0,this.tooltipChange=new s.vpe,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new s.vpe,this._tooltip=i.createLoader(this._elementRef,e,this._renderer).provide({provide:AF,useValue:r}),Object.assign(this,r),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}get isOpen(){return this._tooltip.isShown}set isOpen(e){e?this.show():this.hide()}set htmlContent(e){$l("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=e}set _placement(e){$l("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=e}set _isOpen(e){$l("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=e}get _isOpen(){return $l("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(e){$l("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!e}get _enable(){return $l("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(e){$l('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=e?"body":this.container}get _appendToBody(){return $l('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(e){$l("tooltipClass deprecated")}set _tooltipContext(e){$l("tooltipContext deprecated")}set _tooltipPopupDelay(e){$l("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=e}get _tooltipTrigger(){return $l("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(e){$l("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(e||"").toString()}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(e=>{e||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const e=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(Tce).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},i=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=Cl(this.delay).subscribe(()=>{e(),i()}),this.triggers&&hF(this.triggers).forEach(r=>{!r.close||(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,r.close,()=>{this._delaySubscription?.unsubscribe(),i()}))})):e()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance?.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(yT),s.Y36(AF),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(U0))},n.\u0275dir=s.lG2({type:n,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:["tooltipHtml","htmlContent"],_placement:["tooltipPlacement","_placement"],_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],_appendToBody:["tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]}),(0,SF.gn)([_le(),(0,SF.w6)("design:type",Object)],n.prototype,"tooltip",void 0),n})(),Sce=(()=>{class n{static forRoot(){return{ngModule:n,providers:[yT,U0]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Qn]}),n})();function Ace(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",2),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.selectFromRanges(o))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.ekj("selected",e.value===i.selectedRange),s.xp6(1),s.hij(" ",e.label," ")}}function Ece(n,t){1&n&&s._UZ(0,"bs-current-date",4)}function kce(n,t){1&n&&s._UZ(0,"bs-timepicker")}const Mce=[[["bs-datepicker-navigation-view"]],"*"],Ice=["bs-datepicker-navigation-view","*"],Nce=["bsDatepickerDayDecorator",""];function Lce(n,t){if(1&n){const e=s.EpF();s.ynx(0),s._uU(1," \u200b "),s.TgZ(2,"button",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.view("month"))}),s.TgZ(3,"span"),s._uU(4),s.qZA()(),s.BQk()}if(2&n){const e=s.oxw();s.xp6(4),s.Oqu(e.calendar.monthTitle)}}function Oce(n,t){1&n&&s._UZ(0,"th")}function Rce(n,t){if(1&n&&(s.TgZ(0,"th",5),s._uU(1),s.qZA()),2&n){const e=t.index,i=s.oxw();s.xp6(1),s.hij("",i.calendar.weekdays[e]," ")}}function Pce(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",11),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2).$implicit,o=s.oxw();return s.KtG(o.selectWeek(r))}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw(2).index,i=s.oxw();s.xp6(1),s.Oqu(i.calendar.weekNumbers[e])}}function Fce(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",12),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2).$implicit,o=s.oxw();return s.KtG(o.selectWeek(r))})("mouseenter",function(){s.CHM(e);const r=s.oxw(2).$implicit,o=s.oxw();return s.KtG(o.weekHoverHandler(r,!0))})("mouseleave",function(){s.CHM(e);const r=s.oxw(2).$implicit,o=s.oxw();return s.KtG(o.weekHoverHandler(r,!1))}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw(2).index,i=s.oxw();s.xp6(1),s.Oqu(i.calendar.weekNumbers[e])}}function Vce(n,t){if(1&n&&(s.TgZ(0,"td",8),s.YNc(1,Pce,2,1,"span",9),s.YNc(2,Fce,2,1,"span",10),s.qZA()),2&n){const e=s.oxw(2);s.ekj("active-week",e.isWeekHovered),s.xp6(1),s.Q6J("ngIf",e.isiOS),s.xp6(1),s.Q6J("ngIf",!e.isiOS)}}function Bce(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",17),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.selectDay(r))})("mouseenter",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.hoverDay(r,!0))})("mouseleave",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.hoverDay(r,!1))}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw().$implicit;s.s9C("tooltip",e.tooltipText),s.Q6J("day",e),s.xp6(1),s.hij("",e.label," 3")}}function Uce(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",18),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.selectDay(r))})("mouseenter",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.hoverDay(r,!0))})("mouseleave",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.hoverDay(r,!1))}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw().$implicit;s.Q6J("day",e),s.xp6(1),s.hij("",e.label," 2")}}function Hce(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",19),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.selectDay(r))}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw().$implicit;s.Q6J("day",e),s.xp6(1),s.hij("",e.label," 1")}}function Yce(n,t){if(1&n&&(s.TgZ(0,"td",13),s.YNc(1,Bce,2,3,"span",14),s.YNc(2,Uce,2,2,"span",15),s.YNc(3,Hce,2,2,"span",16),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!e.isiOS&&e.isShowTooltip),s.xp6(1),s.Q6J("ngIf",!e.isiOS&&!e.isShowTooltip),s.xp6(1),s.Q6J("ngIf",e.isiOS)}}function jce(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,Vce,3,4,"td",6),s.YNc(2,Yce,4,3,"td",7),s.qZA()),2&n){const e=t.$implicit,i=s.oxw();s.xp6(1),s.Q6J("ngIf",i.options&&i.options.showWeekNumbers),s.xp6(1),s.Q6J("ngForOf",e.days)}}function Zce(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",4),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.viewMonth(o))})("mouseenter",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.hoverMonth(o,!0))})("mouseleave",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.hoverMonth(o,!1))}),s.TgZ(1,"span"),s._uU(2),s.qZA()()}if(2&n){const e=t.$implicit;s.ekj("disabled",e.isDisabled)("is-highlighted",e.isHovered),s.xp6(1),s.ekj("selected",e.isSelected),s.xp6(1),s.Oqu(e.label)}}function Gce(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,Zce,3,7,"td",3),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function $ce(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",4),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.viewYear(o))})("mouseenter",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.hoverYear(o,!0))})("mouseleave",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.hoverYear(o,!1))}),s.TgZ(1,"span"),s._uU(2),s.qZA()()}if(2&n){const e=t.$implicit;s.ekj("disabled",e.isDisabled)("is-highlighted",e.isHovered),s.xp6(1),s.ekj("selected",e.isSelected),s.xp6(1),s.Oqu(e.label)}}function qce(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,$ce,3,7,"td",3),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}const w$=["startTP"];function Wce(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"bs-days-calendar-view",11),s.NdJ("onNavigate",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.navigateTo(r))})("onViewMode",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.setViewMode(r))})("onHover",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.dayHoverHandler(r))})("onHoverWeek",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.weekHoverHandler(r))})("onSelect",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.daySelectHandler(r))}),s.ALo(1,"async"),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.ekj("bs-datepicker-multiple",i.multipleCalendars),s.Q6J("calendar",e)("options",s.lcZ(1,4,i.options$))}}function zce(n,t){1&n&&s._UZ(0,"timepicker",null,15)}function Kce(n,t){if(1&n&&(s.TgZ(0,"div",12),s._UZ(1,"timepicker",null,13),s.YNc(3,zce,2,0,"timepicker",14),s.qZA()),2&n){const e=s.oxw(3);s.xp6(3),s.Q6J("ngIf",e.isRangePicker)}}function Jce(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"div",8),s.YNc(2,Wce,2,6,"bs-days-calendar-view",9),s.ALo(3,"async"),s.qZA(),s.YNc(4,Kce,4,1,"div",10),s.BQk()),2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",s.lcZ(3,2,e.daysCalendar$)),s.xp6(2),s.Q6J("ngIf",e.withTimepicker)}}function Qce(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"bs-month-calendar-view",17),s.NdJ("onNavigate",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.navigateTo(r))})("onViewMode",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.setViewMode(r))})("onHover",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.monthHoverHandler(r))})("onSelect",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.monthSelectHandler(r))}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.ekj("bs-datepicker-multiple",i.multipleCalendars),s.Q6J("calendar",e)}}function Xce(n,t){if(1&n&&(s.TgZ(0,"div",8),s.YNc(1,Qce,1,3,"bs-month-calendar-view",16),s.ALo(2,"async"),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,e.monthsCalendar))}}function eue(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"bs-years-calendar-view",17),s.NdJ("onNavigate",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.navigateTo(r))})("onViewMode",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.setViewMode(r))})("onHover",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.yearHoverHandler(r))})("onSelect",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.yearSelectHandler(r))}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.ekj("bs-datepicker-multiple",i.multipleCalendars),s.Q6J("calendar",e)}}function tue(n,t){if(1&n&&(s.TgZ(0,"div",8),s.YNc(1,eue,1,3,"bs-years-calendar-view",16),s.ALo(2,"async"),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,e.yearsCalendar))}}function nue(n,t){1&n&&(s.TgZ(0,"div",18)(1,"button",19),s._uU(2,"Apply"),s.qZA(),s.TgZ(3,"button",20),s._uU(4,"Cancel"),s.qZA()())}function iue(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",23)(1,"button",24),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(3);return s.KtG(r.setToday())}),s._uU(2),s.qZA()()}if(2&n){const e=s.oxw(3);s.ekj("today-left","left"===e.todayPos)("today-right","right"===e.todayPos)("today-center","center"===e.todayPos),s.xp6(2),s.Oqu(e.todayBtnLbl)}}function rue(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",25)(1,"button",24),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(3);return s.KtG(r.clearDate())}),s._uU(2),s.qZA()()}if(2&n){const e=s.oxw(3);s.ekj("clear-left","left"===e.clearPos)("clear-right","right"===e.clearPos)("clear-center","center"===e.clearPos),s.xp6(2),s.Oqu(e.clearBtnLbl)}}function sue(n,t){if(1&n&&(s.TgZ(0,"div",18),s.YNc(1,iue,3,7,"div",21),s.YNc(2,rue,3,7,"div",22),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",e.showTodayBtn),s.xp6(1),s.Q6J("ngIf",e.showClearBtn)}}function oue(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",26)(1,"bs-custom-date-view",27),s.NdJ("onSelect",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.setRangeOnCalendar(r))}),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("selectedRange",e.chosenRange)("ranges",e.customRanges)("customRangeLabel",e.customRangeBtnLbl)}}function aue(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1)(1,"div",2),s.NdJ("@datepickerAnimation.done",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.positionServiceEnable())}),s.TgZ(2,"div",3),s.ALo(3,"async"),s.YNc(4,Jce,5,4,"ng-container",4),s.YNc(5,Xce,3,3,"div",5),s.YNc(6,tue,3,3,"div",5),s.qZA(),s.YNc(7,nue,5,0,"div",6),s.YNc(8,sue,3,2,"div",6),s.qZA(),s.YNc(9,oue,2,3,"div",7),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",e.containerClass),s.xp6(1),s.Q6J("@datepickerAnimation",e.animationState),s.xp6(1),s.Q6J("ngSwitch",s.lcZ(3,9,e.viewMode)),s.xp6(2),s.Q6J("ngSwitchCase","day"),s.xp6(1),s.Q6J("ngSwitchCase","month"),s.xp6(1),s.Q6J("ngSwitchCase","year"),s.xp6(1),s.Q6J("ngIf",!1),s.xp6(1),s.Q6J("ngIf",e.showTodayBtn||e.showClearBtn),s.xp6(1),s.Q6J("ngIf",e.customRanges&&e.customRanges.length>0)}}const xue=["endTP"];function Cue(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"bs-days-calendar-view",11),s.NdJ("onNavigate",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.navigateTo(r))})("onViewMode",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.setViewMode(r))})("onHover",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.dayHoverHandler(r))})("onHoverWeek",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.weekHoverHandler(r))})("onSelect",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.daySelectHandler(r))}),s.ALo(1,"async"),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.ekj("bs-datepicker-multiple",i.multipleCalendars),s.Q6J("calendar",e)("options",s.lcZ(1,4,i.options$))}}function Tue(n,t){1&n&&s._UZ(0,"timepicker",null,15)}function wue(n,t){if(1&n&&(s.TgZ(0,"div",12),s._UZ(1,"timepicker",null,13),s.YNc(3,Tue,2,0,"timepicker",14),s.qZA()),2&n){const e=s.oxw(3);s.xp6(3),s.Q6J("ngIf",e.isRangePicker)}}function Due(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"div",8),s.YNc(2,Cue,2,6,"bs-days-calendar-view",9),s.ALo(3,"async"),s.qZA(),s.YNc(4,wue,4,1,"div",10),s.BQk()),2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",s.lcZ(3,2,e.daysCalendar$)),s.xp6(2),s.Q6J("ngIf",e.withTimepicker)}}function Sue(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"bs-month-calendar-view",17),s.NdJ("onNavigate",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.navigateTo(r))})("onViewMode",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.setViewMode(r))})("onHover",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.monthHoverHandler(r))})("onSelect",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.monthSelectHandler(r))}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.ekj("bs-datepicker-multiple",i.multipleCalendars),s.Q6J("calendar",e)}}function Aue(n,t){if(1&n&&(s.TgZ(0,"div",8),s.YNc(1,Sue,1,3,"bs-month-calendar-view",16),s.ALo(2,"async"),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,e.monthsCalendar))}}function Eue(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"bs-years-calendar-view",17),s.NdJ("onNavigate",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.navigateTo(r))})("onViewMode",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.setViewMode(r))})("onHover",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.yearHoverHandler(r))})("onSelect",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.yearSelectHandler(r))}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.ekj("bs-datepicker-multiple",i.multipleCalendars),s.Q6J("calendar",e)}}function kue(n,t){if(1&n&&(s.TgZ(0,"div",8),s.YNc(1,Eue,1,3,"bs-years-calendar-view",16),s.ALo(2,"async"),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,e.yearsCalendar))}}function Mue(n,t){1&n&&(s.TgZ(0,"div",18)(1,"button",19),s._uU(2,"Apply"),s.qZA(),s.TgZ(3,"button",20),s._uU(4,"Cancel"),s.qZA()())}function Iue(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",23)(1,"button",24),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(3);return s.KtG(r.setToday())}),s._uU(2),s.qZA()()}if(2&n){const e=s.oxw(3);s.ekj("today-left","left"===e.todayPos)("today-right","right"===e.todayPos)("today-center","center"===e.todayPos),s.xp6(2),s.Oqu(e.todayBtnLbl)}}function Nue(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",25)(1,"button",24),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(3);return s.KtG(r.clearDate())}),s._uU(2),s.qZA()()}if(2&n){const e=s.oxw(3);s.ekj("clear-left","left"===e.clearPos)("clear-right","right"===e.clearPos)("clear-center","center"===e.clearPos),s.xp6(2),s.Oqu(e.clearBtnLbl)}}function Lue(n,t){if(1&n&&(s.TgZ(0,"div",18),s.YNc(1,Iue,3,7,"div",21),s.YNc(2,Nue,3,7,"div",22),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",e.showTodayBtn),s.xp6(1),s.Q6J("ngIf",e.showClearBtn)}}function Oue(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",26)(1,"bs-custom-date-view",27),s.NdJ("onSelect",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.setRangeOnCalendar(r))}),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("selectedRange",e.chosenRange)("ranges",e.customRanges)("customRangeLabel",e.customRangeBtnLbl)}}function Rue(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1)(1,"div",2),s.NdJ("@datepickerAnimation.done",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.positionServiceEnable())}),s.TgZ(2,"div",3),s.ALo(3,"async"),s.YNc(4,Due,5,4,"ng-container",4),s.YNc(5,Aue,3,3,"div",5),s.YNc(6,kue,3,3,"div",5),s.qZA(),s.YNc(7,Mue,5,0,"div",6),s.YNc(8,Lue,3,2,"div",6),s.qZA(),s.YNc(9,Oue,2,3,"div",7),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",e.containerClass),s.xp6(1),s.Q6J("@datepickerAnimation",e.animationState),s.xp6(1),s.Q6J("ngSwitch",s.lcZ(3,9,e.viewMode)),s.xp6(2),s.Q6J("ngSwitchCase","day"),s.xp6(1),s.Q6J("ngSwitchCase","month"),s.xp6(1),s.Q6J("ngSwitchCase","year"),s.xp6(1),s.Q6J("ngIf",!1),s.xp6(1),s.Q6J("ngIf",e.showTodayBtn||e.showClearBtn),s.xp6(1),s.Q6J("ngIf",e.customRanges&&e.customRanges.length>0)}}let Vf=(()=>{class n{constructor(){this.adaptivePosition=!1,this.useUtc=!1,this.isAnimated=!1,this.startView="day",this.returnFocusToInput=!1,this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w",this.showTodayButton=!1,this.showClearButton=!1,this.todayPosition="center",this.clearPosition="right",this.todayButtonLabel="Today",this.clearButtonLabel="Clear",this.customRangeButtonLabel="Custom Range",this.withTimepicker=!1,this.allowedPositions=["top","bottom"]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const D$="220ms cubic-bezier(0, 0, 0.2, 1)",S$=m_("datepickerAnimation",[kf("animated-down",yr({height:"*",overflow:"hidden"})),tl("* => animated-down",[yr({height:0,overflow:"hidden"}),el(D$)]),kf("animated-up",yr({height:"*",overflow:"hidden"})),tl("* => animated-up",[yr({height:"*",overflow:"hidden"}),el(D$)]),tl("* => unanimated",el("0s"))]);class A${constructor(){this.containerClass="",this.customRanges=[],this.chosenRange=[],this._daysCalendarSub=new Lo.w0,this.selectedTimeSub=new Lo.w0}set minDate(t){this._effects?.setMinDate(t)}set maxDate(t){this._effects?.setMaxDate(t)}set daysDisabled(t){this._effects?.setDaysDisabled(t)}set datesDisabled(t){this._effects?.setDatesDisabled(t)}set datesEnabled(t){this._effects?.setDatesEnabled(t)}set isDisabled(t){this._effects?.setDisabled(t)}set dateCustomClasses(t){this._effects?.setDateCustomClasses(t)}set dateTooltipTexts(t){this._effects?.setDateTooltipTexts(t)}set daysCalendar$(t){this._daysCalendar$=t,this._daysCalendarSub.unsubscribe(),this._daysCalendarSub.add(this._daysCalendar$.subscribe(e=>{this.multipleCalendars=!!e&&e.length>1}))}get daysCalendar$(){return this._daysCalendar$}setViewMode(t){}navigateTo(t){}dayHoverHandler(t){}weekHoverHandler(t){}monthHoverHandler(t){}yearHoverHandler(t){}timeSelectHandler(t,e){}daySelectHandler(t){}monthSelectHandler(t){}yearSelectHandler(t){}setRangeOnCalendar(t){}setToday(){}clearDate(){}_stopPropagation(t){t.stopPropagation()}}let es=(()=>{class n{calculate(){return{type:n.CALCULATE}}format(){return{type:n.FORMAT}}flag(){return{type:n.FLAG}}select(e){return{type:n.SELECT,payload:e}}selectTime(e,i){return{type:n.SELECT_TIME,payload:{date:e,index:i}}}changeViewMode(e){return{type:n.CHANGE_VIEWMODE,payload:e}}navigateTo(e){return{type:n.NAVIGATE_TO,payload:e}}navigateStep(e){return{type:n.NAVIGATE_OFFSET,payload:e}}setOptions(e){return{type:n.SET_OPTIONS,payload:e}}selectRange(e){return{type:n.SELECT_RANGE,payload:e}}hoverDay(e){return{type:n.HOVER,payload:e.isHovered?e.cell.date:null}}minDate(e){return{type:n.SET_MIN_DATE,payload:e}}maxDate(e){return{type:n.SET_MAX_DATE,payload:e}}daysDisabled(e){return{type:n.SET_DAYSDISABLED,payload:e}}datesDisabled(e){return{type:n.SET_DATESDISABLED,payload:e}}datesEnabled(e){return{type:n.SET_DATESENABLED,payload:e}}isDisabled(e){return{type:n.SET_IS_DISABLED,payload:e}}setDateCustomClasses(e){return{type:n.SET_DATE_CUSTOM_CLASSES,payload:e}}setDateTooltipTexts(e){return{type:n.SET_DATE_TOOLTIP_TEXTS,payload:e}}setLocale(e){return{type:n.SET_LOCALE,payload:e}}}return n.CALCULATE="[datepicker] calculate dates matrix",n.FORMAT="[datepicker] format datepicker values",n.FLAG="[datepicker] set flags",n.SELECT="[datepicker] select date",n.NAVIGATE_OFFSET="[datepicker] shift view date",n.NAVIGATE_TO="[datepicker] change view date",n.SET_OPTIONS="[datepicker] update render options",n.HOVER="[datepicker] hover date",n.CHANGE_VIEWMODE="[datepicker] switch view mode",n.SET_MIN_DATE="[datepicker] set min date",n.SET_MAX_DATE="[datepicker] set max date",n.SET_DAYSDISABLED="[datepicker] set days disabled",n.SET_DATESDISABLED="[datepicker] set dates disabled",n.SET_DATESENABLED="[datepicker] set dates enabled",n.SET_IS_DISABLED="[datepicker] set is disabled",n.SET_DATE_CUSTOM_CLASSES="[datepicker] set date custom classes",n.SET_DATE_TOOLTIP_TEXTS="[datepicker] set date tooltip texts",n.SET_LOCALE="[datepicker] set datepicker locale",n.SELECT_TIME="[datepicker] select time",n.SELECT_RANGE="[daterangepicker] select dates range",n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),zk=(()=>{class n{constructor(){this._defaultLocale="en",this._locale=new _i(this._defaultLocale),this._localeChange=this._locale.asObservable()}get locale(){return this._locale}get localeChange(){return this._localeChange}get currentLocale(){return this._locale.getValue()}use(e){e!==this.currentLocale&&this._locale.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),bT=(()=>{class n{constructor(e,i){this._actions=e,this._localeService=i,this._subs=[]}init(e){return this._store=e,this}setValue(e){this._store?.dispatch(this._actions.select(e))}setRangeValue(e){this._store?.dispatch(this._actions.selectRange(e))}setMinDate(e){return this._store?.dispatch(this._actions.minDate(e)),this}setMaxDate(e){return this._store?.dispatch(this._actions.maxDate(e)),this}setDaysDisabled(e){return this._store?.dispatch(this._actions.daysDisabled(e)),this}setDatesDisabled(e){return this._store?.dispatch(this._actions.datesDisabled(e)),this}setDatesEnabled(e){return this._store?.dispatch(this._actions.datesEnabled(e)),this}setDisabled(e){return this._store?.dispatch(this._actions.isDisabled(e)),this}setDateCustomClasses(e){return this._store?.dispatch(this._actions.setDateCustomClasses(e)),this}setDateTooltipTexts(e){return this._store?.dispatch(this._actions.setDateTooltipTexts(e)),this}setOptions(e){const i=Object.assign({locale:this._localeService.currentLocale},e);return this._store?.dispatch(this._actions.setOptions(i)),this}setBindings(e){return this._store?(e.selectedTime=this._store.select(i=>i.selectedTime).pipe(bn(i=>!!i)),e.daysCalendar$=this._store.select(i=>i.flaggedMonths).pipe(bn(i=>!!i)),e.monthsCalendar=this._store.select(i=>i.flaggedMonthsCalendar).pipe(bn(i=>!!i)),e.yearsCalendar=this._store.select(i=>i.yearsCalendarFlagged).pipe(bn(i=>!!i)),e.viewMode=this._store.select(i=>i.view?.mode),e.options$=kn([this._store.select(i=>i.showWeekNumbers),this._store.select(i=>i.displayMonths)]).pipe((0,Nt.U)(i=>({showWeekNumbers:i[0],displayMonths:i[1]}))),this):this}setEventHandlers(e){return e.setViewMode=i=>{this._store?.dispatch(this._actions.changeViewMode(i))},e.navigateTo=i=>{this._store?.dispatch(this._actions.navigateStep(i.step))},e.dayHoverHandler=i=>{const r=i.cell;r.isOtherMonth||r.isDisabled||(this._store?.dispatch(this._actions.hoverDay(i)),r.isHovered=i.isHovered)},e.monthHoverHandler=i=>{i.cell.isHovered=i.isHovered},e.yearHoverHandler=i=>{i.cell.isHovered=i.isHovered},this}registerDatepickerSideEffects(){return this._store?(this._subs.push(this._store.select(e=>e.view).subscribe(()=>{this._store?.dispatch(this._actions.calculate())})),this._subs.push(this._store.select(e=>e.monthsModel).pipe(bn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.format()))),this._subs.push(this._store.select(e=>e.formattedMonths).pipe(bn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.selectedDate).pipe(bn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.selectedRange).pipe(bn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.monthsCalendar).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.yearsCalendarModel).pipe(bn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.hoveredDate).pipe(bn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.dateCustomClasses).pipe(bn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.dateTooltipTexts).pipe(bn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._localeService.localeChange.subscribe(e=>this._store?.dispatch(this._actions.setLocale(e)))),this):this}destroy(){for(const e of this._subs)e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(es),s.LFG(zk))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Jue={date:new Date,mode:"day"},E$=Object.assign(new Vf,{locale:"en",view:Jue,selectedRange:[],selectedTime:[],monthViewOptions:{width:7,height:6}});function EF(n,t,e){const i=t&&ah(Lk(n,"month"),t,"day"),r=e&&Gu(Pf(n,"month"),e,"day");return i||r||!1}function xT(n,t,e){const i=t&&ah(Lk(n,"year"),t,"day"),r=e&&Gu(Pf(n,"year"),e,"day");return i||r||!1}function kF(n,t,e){return!!(t&&rr(t)&&t.length)&&(e&&"year"===e&&!t[0].getDate()?t.some(i=>I0(n,i,"year")):t.some(i=>I0(n,i,"date")))}function MF(n,t,e){return!!(t&&rr(t)&&t.length)&&!t.some(i=>I0(n,i,e||"date"))}function k$(n,t=0){const e=n&&n.yearsCalendarModel&&n.yearsCalendarModel[t];return e?.years[0]&&e.years[0][0]&&e.years[0][0].date}function ede(n,t){return!n||!t||!n.length&&!n[0].value||n.forEach(e=>(!e||!e.value||e.value instanceof Date||!(e.value instanceof Array&&e.value.length)||(e.value=I$(e.value,t)),n)),n}function M$(n,t){return!n||!t||n instanceof Array&&!n.length||n instanceof Date?n:I$(n,t)}function I$(n,t){return n instanceof Array?n.map(i=>i&&(Gu(i,t,"date")&&(i=t),i)):n}function N$(n){return n&&O$(n)}function L$(n){return n?.length&&n.map(t=>t&&O$(t)),n}function O$(n){const t=new Date;return n.setMilliseconds(t.getMilliseconds()),n.setSeconds(t.getSeconds()),n.setMinutes(t.getMinutes()),n.setHours(t.getHours()),n}function IF(n,t){let e=n.initialDate;const i=new Array(n.height);for(let r=0;r<n.height;r++){i[r]=new Array(n.width);for(let o=0;o<n.width;o++)i[r][o]=t(e),e=Is(e,n.shift)}return i}function NF(n,t){const e=function soe(n){return Dk(n.getFullYear(),n.getMonth(),1,n.getHours(),n.getMinutes(),n.getSeconds())}(n),i=function Que(n,t){if(function aoe(n,t){return n.getDay()===Number(t)}(n,t.firstDayOfWeek))return n;const i=function Xue(n,t){const e=Number(t);if(isNaN(e))return 0;if(0===e)return n;const i=n-e%7;return i<0?i+7:i}(sh(n),t.firstDayOfWeek);return Is(n,{day:-i})}(e,t);return{daysMatrix:IF({width:t.width||0,height:t.height||0,initialDate:i,shift:{day:1}},a=>a),month:e}}function nde(n,t,e){return n.map(i=>i[0]?Zc(i[0],t,e):"")}function ide(n){const t=ms(n),e=t.weekdaysShort(),i=t.firstDayOfWeek();return[...e.slice(i),...e.slice(0,i)]}function R$(n,t){return!t||n>=t}const lde={month:1};function P$(n,t){return{months:IF({width:3,height:4,initialDate:Pf(n,"year"),shift:lde},o=>({date:o,label:Zc(o,t.monthLabel,t.locale)})),monthTitle:"",yearTitle:Zc(n,t.yearTitle,t.locale),hideRightArrow:!1,hideLeftArrow:!1,disableRightArrow:!1,disableLeftArrow:!1}}const F$=-1*(Math.floor(8)-1),ude={year:1};function V$(n,t,e){const i=function dde(n,t){return t&&n.getFullYear()>=t.getFullYear()&&n.getFullYear()<t.getFullYear()+16?t:Is(n,{year:F$})}(n,e),o=IF({width:4,height:4,initialDate:i,shift:ude},u=>({date:u,label:Zc(u,t.yearLabel,t.locale)})),a=function hde(n,t){return`${Zc(n[0][0].date,t.yearTitle,t.locale)} - ${Zc(n[3][3].date,t.yearTitle,t.locale)}`}(o,t);return{years:o,monthTitle:"",yearTitle:a,hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}function RF(n,t){!n||!isNaN(n.getTime())||(n.setHours(t.getHours()),n.setMinutes(t.getMinutes()),n.setSeconds(t.getSeconds()),n.setMilliseconds(t.getMilliseconds()))}function B$(n=E$,t){switch(t.type){case es.CALCULATE:return function pde(n){if(!n.view)return n;let t;t=n.displayOneMonthRange&&U$(n.view.date,n.minDate,n.maxDate)?1:n.displayMonths||1;let e=n.view.date;if("day"===n.view.mode&&n.monthViewOptions){n.showPreviousMonth&&n.selectedRange&&0===n.selectedRange.length&&(e=Is(e,{month:-1})),n.monthViewOptions.firstDayOfWeek=ms(n.locale).firstDayOfWeek();let i=new Array(t);for(let r=0;r<t;r++)i[r]=NF(e,n.monthViewOptions),e=Is(e,{month:1});if(n.preventChangeToNextMonth&&n.flaggedMonths&&n.hoveredDate){const r=NF(n.view.date,n.monthViewOptions);n.flaggedMonths.length&&n.flaggedMonths[1].month.getMonth()===r.month.getMonth()&&(i=n.flaggedMonths.map(o=>n.monthViewOptions?NF(o.month,n.monthViewOptions):null).filter(o=>null!==o))}return Object.assign({},n,{monthsModel:i})}if("month"===n.view.mode){const i=new Array(t);for(let r=0;r<t;r++)i[r]=P$(e,CT(n)),e=Is(e,{year:1});return Object.assign({},n,{monthsCalendar:i})}if("year"===n.view.mode){const i=new Array(t);for(let r=0;r<t;r++)i[r]=V$(e,CT(n),"year"===n.minMode?k$(n,r):void 0),e=Is(e,{year:16});return Object.assign({},n,{yearsCalendarModel:i})}return n}(n);case es.FORMAT:return function mde(n){if(!n.view)return n;if("day"===n.view.mode&&n.monthsModel){const i=n.monthsModel.map((r,o)=>function tde(n,t,e){return{month:n.month,monthTitle:Zc(n.month,t.monthTitle,t.locale),yearTitle:Zc(n.month,t.yearTitle,t.locale),weekNumbers:nde(n.daysMatrix,t.weekNumbers,t.locale),weekdays:ide(t.locale),weeks:n.daysMatrix.map((i,r)=>({days:i.map((o,a)=>({date:o,label:Zc(o,t.dayLabel,t.locale),monthIndex:e,weekIndex:r,dayIndex:a}))})),hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}(r,CT(n),o));return Object.assign({},n,{formattedMonths:i})}const t=n.displayMonths||1;let e=n.view.date;if("month"===n.view.mode){const i=new Array(t);for(let r=0;r<t;r++)i[r]=P$(e,CT(n)),e=Is(e,{year:1});return Object.assign({},n,{monthsCalendar:i})}if("year"===n.view.mode){const i=new Array(t);for(let r=0;r<t;r++)i[r]=V$(e,CT(n)),e=Is(e,{year:16});return Object.assign({},n,{yearsCalendarModel:i})}return n}(n);case es.FLAG:return function gde(n){if(!n.view)return n;const t=U$(n.view.date,n.minDate,n.maxDate)?1:n.displayMonths;if(n.formattedMonths&&"day"===n.view.mode){const e=n.formattedMonths.map((i,r)=>function rde(n,t){return n.weeks.forEach(e=>{e.days.forEach((i,r)=>{const o=!S0(i.date,n.month),a=!o&&mm(i.date,t.hoveredDate),u=!o&&t.selectedRange&&mm(i.date,t.selectedRange[0]),f=!o&&t.selectedRange&&mm(i.date,t.selectedRange[1]),m=!o&&mm(i.date,t.selectedDate)||u||f,v=!o&&t.selectedRange&&function sde(n,t,e){return!!(n&&t&&t[0])&&(t[1]?n>t[0]&&n<=t[1]:!!e&&n>t[0]&&n<=e)}(i.date,t.selectedRange,t.hoveredDate),x=t.isDisabled||ah(i.date,t.minDate,"day")||Gu(i.date,t.maxDate,"day")||function kae(n,t){return!(typeof t>"u"||!t||!t.length)&&t.some(e=>e===n.getDay())}(i.date,t.daysDisabled)||kF(i.date,t.datesDisabled)||MF(i.date,t.datesEnabled),S=new Date,k=!o&&mm(i.date,S),O=t.dateCustomClasses&&t.dateCustomClasses.map(te=>mm(i.date,te.date)?te.classes:[]).reduce((te,re)=>te.concat(re),[]).join(" ")||"",U=t.dateTooltipTexts&&t.dateTooltipTexts.map(te=>mm(i.date,te.date)?te.tooltipText:"").reduce((te,re)=>(te.push(re),te),[]).join(" ")||"",V=Object.assign({},i,{isOtherMonth:o,isHovered:a,isSelected:m,isSelectionStart:u,isSelectionEnd:f,isInRange:v,isDisabled:x,isToday:k,customClasses:O,tooltipText:U});(i.isOtherMonth!==V.isOtherMonth||i.isHovered!==V.isHovered||i.isSelected!==V.isSelected||i.isSelectionStart!==V.isSelectionStart||i.isSelectionEnd!==V.isSelectionEnd||i.isDisabled!==V.isDisabled||i.isInRange!==V.isInRange||i.customClasses!==V.customClasses||i.tooltipText!==V.tooltipText)&&(e.days[r]=V)})}),n.hideLeftArrow=t.isDisabled||!!t.monthIndex&&t.monthIndex>0&&t.monthIndex!==t.displayMonths,n.hideRightArrow=t.isDisabled||(!!t.monthIndex||0===t.monthIndex)&&!!t.displayMonths&&t.monthIndex<t.displayMonths&&t.monthIndex+1!==t.displayMonths,n.disableLeftArrow=EF(Is(n.month,{month:-1}),t.minDate,t.maxDate),n.disableRightArrow=EF(Is(n.month,{month:1}),t.minDate,t.maxDate),n}(i,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,daysDisabled:n.daysDisabled,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,hoveredDate:n.hoveredDate,selectedDate:n.selectedDate,selectedRange:n.selectedRange,displayMonths:t,dateCustomClasses:n.dateCustomClasses,dateTooltipTexts:n.dateTooltipTexts,monthIndex:r}));return Object.assign({},n,{flaggedMonths:e})}if("month"===n.view.mode&&n.monthsCalendar){const e=n.monthsCalendar.map((i,r)=>function cde(n,t){return n.months.forEach((e,i)=>{e.forEach((r,o)=>{let a;const u=S0(r.date,t.hoveredMonth),f=t.isDisabled||kF(r.date,t.datesDisabled)||MF(r.date,t.datesEnabled,"month")||EF(r.date,t.minDate,t.maxDate);!t.selectedDate&&t.selectedRange?(a=S0(r.date,t.selectedRange[0]),a||(a=S0(r.date,t.selectedRange[1]))):a=S0(r.date,t.selectedDate);const m=Object.assign(r,{isHovered:u,isDisabled:f,isSelected:a});(r.isHovered!==m.isHovered||r.isDisabled!==m.isDisabled||r.isSelected!==m.isSelected)&&(n.months[i][o]=m)})}),n.hideLeftArrow=!!t.monthIndex&&t.monthIndex>0&&t.monthIndex!==t.displayMonths,n.hideRightArrow=(!!t.monthIndex||0===t.monthIndex)&&(!!t.displayMonths||0===t.displayMonths)&&t.monthIndex<t.displayMonths&&t.monthIndex+1!==t.displayMonths,n.disableLeftArrow=xT(Is(n.months[0][0].date,{year:-1}),t.minDate,t.maxDate),n.disableRightArrow=xT(Is(n.months[0][0].date,{year:1}),t.minDate,t.maxDate),n}(i,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,hoveredMonth:n.hoveredMonth,selectedDate:n.selectedDate,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,selectedRange:n.selectedRange,displayMonths:t,monthIndex:r}));return Object.assign({},n,{flaggedMonthsCalendar:e})}if("year"===n.view.mode&&n.yearsCalendarModel){const e=n.yearsCalendarModel.map((i,r)=>function fde(n,t){n.years.forEach((r,o)=>{r.forEach((a,u)=>{let f;const m=A0(a.date,t.hoveredYear),v=t.isDisabled||kF(a.date,t.datesDisabled,"year")||MF(a.date,t.datesEnabled,"year")||xT(a.date,t.minDate,t.maxDate);!t.selectedDate&&t.selectedRange?(f=A0(a.date,t.selectedRange[0]),f||(f=A0(a.date,t.selectedRange[1]))):f=A0(a.date,t.selectedDate);const x=Object.assign(a,{isHovered:m,isDisabled:v,isSelected:f});(a.isHovered!==x.isHovered||a.isDisabled!==x.isDisabled||a.isSelected!==x.isSelected)&&(n.years[o][u]=x)})}),n.hideLeftArrow=!!t.yearIndex&&t.yearIndex>0&&t.yearIndex!==t.displayMonths,n.hideRightArrow=!!t.yearIndex&&!!t.displayMonths&&t.yearIndex<t.displayMonths&&t.yearIndex+1!==t.displayMonths,n.disableLeftArrow=xT(Is(n.years[0][0].date,{year:-1}),t.minDate,t.maxDate);const e=n.years.length-1;return n.disableRightArrow=xT(Is(n.years[e][n.years[e].length-1].date,{year:1}),t.minDate,t.maxDate),n}(i,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,hoveredYear:n.hoveredYear,selectedDate:n.selectedDate,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,selectedRange:n.selectedRange,displayMonths:t,yearIndex:r}));return Object.assign({},n,{yearsCalendarFlagged:e})}return n}(n);case es.NAVIGATE_OFFSET:return function _de(n,t){if(!n.view)return n;const e=function vde(n,t){if(n.view){if("year"===n.view.mode&&"year"===n.minMode){const e=k$(n,0);if(e){const i=Is(e,{year:-F$});return Is(i,t.payload)}}return Is(Pf(n.view.date,"month"),t.payload)}}(n,t);return e?Object.assign({},n,{view:{mode:n.view.mode,date:e}}):n}(n,t);case es.NAVIGATE_TO:{const e=t.payload;if(!n.view||!e.unit)return n;const i=function boe(n,t){return Dk(E0(n.getFullYear(),t.year),E0(n.getMonth(),t.month),1,E0(n.getHours(),t.hour),E0(n.getMinutes(),t.minute),E0(n.getSeconds(),t.seconds),E0(n.getMilliseconds(),t.milliseconds))}(n.view.date,e.unit);let r,o;return R$(e.viewMode,n.minMode)?(o=e.viewMode,r={view:{date:i,mode:o}}):(o=n.view.mode,r={selectedDate:i,view:{date:i,mode:o}}),Object.assign({},n,r)}case es.CHANGE_VIEWMODE:return R$(t.payload,n.minMode)&&n.view?Object.assign({},n,{view:{date:n.view.date,mode:t.payload}}):n;case es.HOVER:return Object.assign({},n,{hoveredDate:t.payload});case es.SELECT:{if(!n.view)return n;const e={selectedDate:t.payload,view:n.view};if(Array.isArray(n.selectedTime)){const a=n.selectedTime[0];e.selectedDate&&a&&RF(e.selectedDate,a)}const i=n.view.mode,o=PF(t.payload||n.view.date,n.minDate,n.maxDate);return e.view={mode:i,date:o},Object.assign({},n,e)}case es.SELECT_TIME:{const{date:e,index:i}=t.payload,r=n.selectedTime?[...n.selectedTime]:[];return r[i]=e,Object.assign({},n,{selectedTime:r})}case es.SET_OPTIONS:{if(!n.view)return n;const e=t.payload,i=e.minMode?e.minMode:n.view.mode,o=PF(pm(e.value)&&e.value||rr(e.value)&&pm(e.value[0])&&e.value[0]||n.view.date,e.minDate,e.maxDate);return e.view={mode:i,date:o},e.value&&(rr(e.value)&&(e.selectedRange=e.value,e.selectedTime=e.value.map(a=>a)),e.value instanceof Date&&(e.selectedDate=e.value,e.selectedTime=[e.value])),Object.assign({},n,e)}case es.SELECT_RANGE:{if(!n.view)return n;const e={selectedRange:t.payload,view:n.view};e.selectedRange?.forEach((a,u)=>{if(Array.isArray(n.selectedTime)){const f=n.selectedTime[u];f&&RF(a,f)}});const i=n.view.mode,o=PF(t.payload&&t.payload[0]||n.view.date,n.minDate,n.maxDate);return e.view={mode:i,date:o},Object.assign({},n,e)}case es.SET_MIN_DATE:return Object.assign({},n,{minDate:t.payload});case es.SET_MAX_DATE:return Object.assign({},n,{maxDate:t.payload});case es.SET_IS_DISABLED:return Object.assign({},n,{isDisabled:t.payload});case es.SET_DATE_CUSTOM_CLASSES:return Object.assign({},n,{dateCustomClasses:t.payload});case es.SET_DATE_TOOLTIP_TEXTS:return Object.assign({},n,{dateTooltipTexts:t.payload});default:return n}}function CT(n){return{locale:n.locale,monthTitle:n.monthTitle,yearTitle:n.yearTitle,dayLabel:n.dayLabel,monthLabel:n.monthLabel,yearLabel:n.yearLabel,weekNumbers:n.weekNumbers}}function PF(n,t,e){const i=Array.isArray(n)?n[0]:n;return t&&Gu(t,i,"day")?t:e&&ah(e,i,"day")?e:i}function U$(n,t,e){return!(!e||!I0(e,n,"day"))||t&&e&&t.getMonth()===e.getMonth()}let TT=(()=>{class n extends Gk{constructor(){const e=new _i({type:"[datepicker] dispatcher init"});super(e,B$,new c$(E$,e,B$))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),H$=(()=>{class n{constructor(){this.onSelect=new s.vpe}selectFromRanges(e){this.onSelect.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-custom-date-view"]],inputs:{ranges:"ranges",selectedRange:"selectedRange",customRangeLabel:"customRangeLabel"},outputs:{onSelect:"onSelect"},decls:2,vars:1,consts:[[1,"bs-datepicker-predefined-btns"],["type","button","class","btn",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"btn",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,Ace,2,3,"button",1),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngForOf",i.ranges))},dependencies:[Gt],encapsulation:2,changeDetection:0}),n})();var ym=(()=>{return(n=ym||(ym={}))[n.UP=0]="UP",n[n.DOWN=1]="DOWN",ym;var n})();let yde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-current-date"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"current-timedate"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"span"),s._uU(2),s.qZA()()),2&e&&(s.xp6(2),s.Oqu(i.title))},encapsulation:2}),n})(),bde=(()=>{class n{constructor(){this.ampm="ok",this.hours=0,this.minutes=0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-timepicker"]],decls:16,vars:3,consts:[[1,"bs-timepicker-container"],[1,"bs-timepicker-controls"],["type","button",1,"bs-decrease"],["type","text","placeholder","00",3,"value"],["type","button",1,"bs-increase"],["type","button",1,"switch-time-format"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==","alt",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s._uU(3,"-"),s.qZA(),s._UZ(4,"input",3),s.TgZ(5,"button",4),s._uU(6,"+"),s.qZA()(),s.TgZ(7,"div",1)(8,"button",2),s._uU(9,"-"),s.qZA(),s._UZ(10,"input",3),s.TgZ(11,"button",4),s._uU(12,"+"),s.qZA()(),s.TgZ(13,"button",5),s._uU(14),s._UZ(15,"img",6),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("value",i.hours),s.xp6(6),s.Q6J("value",i.minutes),s.xp6(4),s.hij("",i.ampm," "))},encapsulation:2}),n})(),FF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-calendar-layout"]],ngContentSelectors:Ice,decls:6,vars:2,consts:[["title","hey there",4,"ngIf"],[1,"bs-datepicker-head"],[1,"bs-datepicker-body"],[4,"ngIf"],["title","hey there"]],template:function(e,i){1&e&&(s.F$t(Mce),s.YNc(0,Ece,1,0,"bs-current-date",0),s.TgZ(1,"div",1),s.Hsn(2),s.qZA(),s.TgZ(3,"div",2),s.Hsn(4,1),s.qZA(),s.YNc(5,kce,1,0,"bs-timepicker",3)),2&e&&(s.Q6J("ngIf",!1),s.xp6(5),s.Q6J("ngIf",!1))},dependencies:[kt,yde,bde],encapsulation:2}),n})(),xde=(()=>{class n{constructor(e,i,r){this._config=e,this._elRef=i,this._renderer=r,this.day={date:new Date,label:""}}ngOnInit(){this.day?.isToday&&this._config&&this._config.customTodayClass&&this._renderer.addClass(this._elRef.nativeElement,this._config.customTodayClass),"string"==typeof this.day?.customClasses&&this.day?.customClasses.split(" ").filter(e=>e).forEach(e=>{this._renderer.addClass(this._elRef.nativeElement,e)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vf),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","bsDatepickerDayDecorator",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("disabled",i.day.isDisabled)("is-highlighted",i.day.isHovered)("is-other-month",i.day.isOtherMonth)("is-active-other-month",i.day.isOtherMonthHovered)("in-range",i.day.isInRange)("select-start",i.day.isSelectionStart)("select-end",i.day.isSelectionEnd)("selected",i.day.isSelected)},inputs:{day:"day"},attrs:Nce,decls:1,vars:1,template:function(e,i){1&e&&s._uU(0),2&e&&s.Oqu(i.day&&i.day.label||"")},encapsulation:2,changeDetection:0}),n})(),VF=(()=>{class n{constructor(){this.onNavigate=new s.vpe,this.onViewMode=new s.vpe}navTo(e){this.onNavigate.emit(e?ym.DOWN:ym.UP)}view(e){this.onViewMode.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-datepicker-navigation-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode"},decls:12,vars:8,consts:[["type","button",1,"previous",3,"disabled","click"],[4,"ngIf"],["type","button",1,"current",3,"click"],["type","button",1,"next",3,"disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"button",0),s.NdJ("click",function(){return i.navTo(!0)}),s.TgZ(1,"span"),s._uU(2,"\u2039"),s.qZA()(),s.YNc(3,Lce,5,1,"ng-container",1),s._uU(4," \u200b "),s.TgZ(5,"button",2),s.NdJ("click",function(){return i.view("year")}),s.TgZ(6,"span"),s._uU(7),s.qZA()(),s._uU(8," \u200b "),s.TgZ(9,"button",3),s.NdJ("click",function(){return i.navTo(!1)}),s.TgZ(10,"span"),s._uU(11,"\u203a"),s.qZA()()),2&e&&(s.Udp("visibility",i.calendar.hideLeftArrow?"hidden":"visible"),s.Q6J("disabled",i.calendar.disableLeftArrow),s.xp6(3),s.Q6J("ngIf",i.calendar&&i.calendar.monthTitle),s.xp6(4),s.Oqu(i.calendar.yearTitle),s.xp6(2),s.Udp("visibility",i.calendar.hideRightArrow?"hidden":"visible"),s.Q6J("disabled",i.calendar.disableRightArrow))},dependencies:[kt],encapsulation:2,changeDetection:0}),n})(),Y$=(()=>{class n{constructor(e){this._config=e,this.onNavigate=new s.vpe,this.onViewMode=new s.vpe,this.onSelect=new s.vpe,this.onHover=new s.vpe,this.onHoverWeek=new s.vpe,this.isiOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,this._config.dateTooltipTexts&&this._config.dateTooltipTexts.length>0&&(this.isShowTooltip=!0)}navigateTo(e){this.onNavigate.emit({step:{month:ym.DOWN===e?-1:1}})}changeViewMode(e){this.onViewMode.emit(e)}selectDay(e){this.onSelect.emit(e)}selectWeek(e){if(!this._config.selectWeek&&!this._config.selectWeekDateRange||0===e.days.length)return;if(this._config.selectWeek&&e.days[0]&&!e.days[0].isDisabled&&this._config.selectFromOtherMonth)return void this.onSelect.emit(e.days[0]);const i=e.days.find(r=>(this._config.selectFromOtherMonth||!r.isOtherMonth)&&!r.isDisabled);if(this.onSelect.emit(i),this._config.selectWeekDateRange){const o=e.days.slice(0).reverse().find(a=>(this._config.selectFromOtherMonth||!a.isOtherMonth)&&!a.isDisabled);this.onSelect.emit(o)}}weekHoverHandler(e,i){(this._config.selectWeek||this._config.selectWeekDateRange)&&e.days.find(o=>(this._config.selectFromOtherMonth||!o.isOtherMonth)&&!o.isDisabled)&&(e.isHovered=i,this.isWeekHovered=i,this.onHoverWeek.emit(e))}hoverDay(e,i){this._config.selectFromOtherMonth&&e.isOtherMonth&&(e.isOtherMonthHovered=i),this._config.dateTooltipTexts&&(e.tooltipText="",this._config.dateTooltipTexts.forEach(r=>{mm(r.date,e.date)&&(e.tooltipText=r.tooltipText)})),this.onHover.emit({cell:e,isHovered:i})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-days-calendar-view"]],inputs:{calendar:"calendar",options:"options"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"},decls:9,vars:4,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"days","weeks"],[4,"ngIf"],["aria-label","weekday",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["aria-label","weekday"],["class","week",3,"active-week",4,"ngIf"],["role","gridcell",4,"ngFor","ngForOf"],[1,"week"],[3,"click",4,"ngIf"],[3,"click","mouseenter","mouseleave",4,"ngIf"],[3,"click"],[3,"click","mouseenter","mouseleave"],["role","gridcell"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click"]],template:function(e,i){1&e&&(s.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),s.NdJ("onNavigate",function(o){return i.navigateTo(o)})("onViewMode",function(o){return i.changeViewMode(o)}),s.qZA(),s.TgZ(2,"table",1)(3,"thead")(4,"tr"),s.YNc(5,Oce,1,0,"th",2),s.YNc(6,Rce,2,1,"th",3),s.qZA()(),s.TgZ(7,"tbody"),s.YNc(8,jce,3,2,"tr",4),s.qZA()()()),2&e&&(s.xp6(1),s.Q6J("calendar",i.calendar),s.xp6(4),s.Q6J("ngIf",i.options&&i.options.showWeekNumbers),s.xp6(1),s.Q6J("ngForOf",i.calendar.weekdays),s.xp6(2),s.Q6J("ngForOf",i.calendar.weeks))},dependencies:[Gt,kt,Dce,FF,xde,VF],encapsulation:2}),n})(),j$=(()=>{class n{constructor(){this.onNavigate=new s.vpe,this.onViewMode=new s.vpe,this.onSelect=new s.vpe,this.onHover=new s.vpe}navigateTo(e){this.onNavigate.emit({step:{year:ym.DOWN===e?-1:1}})}viewMonth(e){this.onSelect.emit(e)}hoverMonth(e,i){this.onHover.emit({cell:e,isHovered:i})}changeViewMode(e){this.onViewMode.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-month-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"months"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(e,i){1&e&&(s.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),s.NdJ("onNavigate",function(o){return i.navigateTo(o)})("onViewMode",function(o){return i.changeViewMode(o)}),s.qZA(),s.TgZ(2,"table",1)(3,"tbody"),s.YNc(4,Gce,2,1,"tr",2),s.qZA()()()),2&e&&(s.xp6(1),s.Q6J("calendar",i.calendar),s.xp6(3),s.Q6J("ngForOf",null==i.calendar?null:i.calendar.months))},dependencies:[Gt,FF,VF],encapsulation:2}),n})(),Z$=(()=>{class n{constructor(){this.onNavigate=new s.vpe,this.onViewMode=new s.vpe,this.onSelect=new s.vpe,this.onHover=new s.vpe}navigateTo(e){this.onNavigate.emit({step:{year:16*(ym.DOWN===e?-1:1)}})}viewYear(e){this.onSelect.emit(e)}hoverYear(e,i){this.onHover.emit({cell:e,isHovered:i})}changeViewMode(e){this.onViewMode.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-years-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"years"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(e,i){1&e&&(s.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),s.NdJ("onNavigate",function(o){return i.navigateTo(o)})("onViewMode",function(o){return i.changeViewMode(o)}),s.qZA(),s.TgZ(2,"table",1)(3,"tbody"),s.YNc(4,qce,2,1,"tr",2),s.qZA()()()),2&e&&(s.xp6(1),s.Q6J("calendar",i.calendar),s.xp6(3),s.Q6J("ngForOf",null==i.calendar?null:i.calendar.years))},dependencies:[Gt,FF,VF],encapsulation:2}),n})(),Cde=(()=>{class n extends A${constructor(e,i,r,o,a,u,f){super(),this._config=i,this._store=r,this._element=o,this._actions=a,this._positionService=f,this.valueChange=new s.vpe,this.animationState="void",this.isRangePicker=!1,this._subs=[],this._effects=u,e.setStyle(o.nativeElement,"display","block"),e.setStyle(o.nativeElement,"position","absolute")}set value(e){this._effects?.setValue(e)}ngOnInit(){let e;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),this._positionService.event$?.pipe(Ai(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.containerClass=this._config.containerClass,this.showTodayBtn=this._config.showTodayButton,this.todayBtnLbl=this._config.todayButtonLabel,this.todayPos=this._config.todayPosition,this.showClearBtn=this._config.showClearButton,this.clearBtnLbl=this._config.clearButtonLabel,this.clearPos=this._config.clearPosition,this.customRangeBtnLbl=this._config.customRangeButtonLabel,this.withTimepicker=this._config.withTimepicker,this._effects?.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedDate).subscribe(i=>{e=i,this.valueChange.emit(i)})),this._subs.push(this._store.select(i=>i.selectedTime).subscribe(i=>{!i[0]||!(i[0]instanceof Date)||i[0]===e||this.valueChange.emit(i[0])})),this._store.dispatch(this._actions.changeViewMode(this._config.startView))}ngAfterViewInit(){this.selectedTimeSub.add(this.selectedTime?.subscribe(e=>{Array.isArray(e)&&e.length>=1&&this.startTimepicker?.writeValue(e[0])})),this.startTimepicker?.registerOnChange(e=>{this.timeSelectHandler(e,0)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(e,i){this._store.dispatch(this._actions.selectTime(e,i))}daySelectHandler(e){!e||(this.isOtherMonthsActive?e.isDisabled:e.isOtherMonth||e.isDisabled)||this._store.dispatch(this._actions.select(e.date))}monthSelectHandler(e){!e||e.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{month:Pn(e.date),year:br(e.date)},viewMode:"day"}))}yearSelectHandler(e){!e||e.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{year:br(e.date)},viewMode:"month"}))}setToday(){this._store.dispatch(this._actions.select(new Date))}clearDate(){this._store.dispatch(this._actions.select(void 0))}ngOnDestroy(){for(const e of this._subs)e.unsubscribe();this.selectedTimeSub.unsubscribe(),this._effects?.destroy()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(Vf),s.Y36(TT),s.Y36(s.SBq),s.Y36(es),s.Y36(bT),s.Y36(U0))},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-datepicker-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(w$,5),2&e){let r;s.iGM(r=s.CRH())&&(i.startTimepicker=r.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._stopPropagation(o)})},features:[s._Bn([TT,bT]),s.qOj],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],["startTP",""],[4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(e,i){1&e&&(s.YNc(0,aue,10,11,"div",0),s.ALo(1,"async")),2&e&&s.Q6J("ngIf",s.lcZ(1,1,i.viewMode))},dependencies:[Or,Gt,kt,Xu,hr,DF,H$,Y$,j$,Z$,td],encapsulation:2,data:{animation:[S$]}}),n})(),wT=(()=>{class n{constructor(e,i,r,o,a){this._config=e,this._elementRef=i,this._renderer=r,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new sn.x,this.isDisabled=!1,this.bsValueChange=new s.vpe,this._subs=[],this._dateInputFormat$=new sn.x,Object.assign(this,this._config),this._datepicker=a.createLoader(i,o,r),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new _i(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(e){this.isOpen$.next(e)}set bsValue(e){this._bsValue&&e&&this._bsValue.getTime()===e.getTime()||(this._bsValue||!e||this._config.withTimepicker||RF(e,new Date),e&&this.bsConfig?.initCurrentTime&&(e=N$(e)),this._bsValue=e,this.bsValueChange.emit(e))}get dateInputFormat$(){return this._dateInputFormat$}ngOnInit(){this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig()}ngOnChanges(e){e.bsConfig&&(e.bsConfig.currentValue?.initCurrentTime&&e.bsConfig.currentValue?.initCurrentTime!==e.bsConfig.previousValue?.initCurrentTime&&this._bsValue&&(this._bsValue=N$(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._dateInputFormat$.next(this.bsConfig&&this.bsConfig.dateInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(e.minDate&&(this._datepickerRef.instance.minDate=this.minDate),e.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),e.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),e.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),e.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),e.isDisabled&&(this._elementRef?.nativeElement&&this._elementRef.nativeElement.setAttribute("readonly",this.isDisabled),this._datepickerRef.instance.isDisabled=this.isDisabled),e.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses),e.dateTooltipTexts&&(this._datepickerRef.instance.dateTooltipTexts=this.dateTooltipTexts))}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(e=>{this._datepickerRef&&(this._datepickerRef.instance.value=e)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.subscribe(e=>{this.bsValue=e,this.hide()}))}ngAfterViewInit(){this.isOpen$.pipe(bn(e=>e!==this.isOpen),ni(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:Vf,useValue:this._config}).attach(Cde).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}hide(){this.isOpen&&this._datepicker.hide();for(const e of this._subs)e.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}setConfig(){this._config=Object.assign({},this._config,this.bsConfig,{value:M$(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,dateTooltipTexts:this.dateTooltipTexts||this.bsConfig&&this.bsConfig.dateTooltipTexts,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,minMode:this.minMode||this.bsConfig&&this.bsConfig.minMode,initCurrentTime:this.bsConfig?.initCurrentTime})}unsubscribeSubscriptions(){this._subs?.length&&(this._subs.map(e=>e.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vf),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.s_b),s.Y36(yT))},n.\u0275dir=s.lG2({type:n,selectors:[["","bsDatepicker",""]],inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled",dateCustomClasses:"dateCustomClasses",dateTooltipTexts:"dateTooltipTexts",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDatepicker"],features:[s.TTD]}),n})(),Tde=(()=>{class n extends A${constructor(e,i,r,o,a,u,f){super(),this._config=i,this._store=r,this._element=o,this._actions=a,this._positionService=f,this.valueChange=new s.vpe,this.animationState="void",this._rangeStack=[],this.chosenRange=[],this._subs=[],this.isRangePicker=!0,this._effects=u,this.customRanges=this._config.ranges||[],this.customRangeBtnLbl=this._config.customRangeButtonLabel,e.setStyle(o.nativeElement,"display","block"),e.setStyle(o.nativeElement,"position","absolute")}set value(e){this._effects?.setRangeValue(e)}ngOnInit(){let e;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),this._positionService.event$?.pipe(Ai(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.containerClass=this._config.containerClass,this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.withTimepicker=this._config.withTimepicker,this._effects?.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedRange).subscribe(i=>{e=i,this.valueChange.emit(i),this.chosenRange=i||[]})),this._subs.push(this._store.select(i=>i.selectedTime).subscribe(i=>{!i[0]||!i[1]||!(i[0]instanceof Date)||!(i[1]instanceof Date)||e&&i[0]===e[0]&&i[1]===e[1]||(this.valueChange.emit(i),this.chosenRange=i||[])}))}ngAfterViewInit(){this.selectedTimeSub.add(this.selectedTime?.subscribe(e=>{Array.isArray(e)&&e.length>=2&&(this.startTimepicker?.writeValue(e[0]),this.endTimepicker?.writeValue(e[1]))})),this.startTimepicker?.registerOnChange(e=>{this.timeSelectHandler(e,0)}),this.endTimepicker?.registerOnChange(e=>{this.timeSelectHandler(e,1)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(e,i){this._store.dispatch(this._actions.selectTime(e,i))}daySelectHandler(e){!e||(this.isOtherMonthsActive?e.isDisabled:e.isOtherMonth||e.isDisabled)||this.rangesProcessing(e)}monthSelectHandler(e){if(e&&!e.isDisabled){if(e.isSelected=!0,"month"!==this._config.minMode){if(e.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{month:Pn(e.date),year:br(e.date)},viewMode:"day"}))}this.rangesProcessing(e)}}yearSelectHandler(e){if(e&&!e.isDisabled){if(e.isSelected=!0,"year"!==this._config.minMode){if(e.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{year:br(e.date)},viewMode:"month"}))}this.rangesProcessing(e)}}rangesProcessing(e){1===this._rangeStack.length&&(this._rangeStack=e.date>=this._rangeStack[0]?[this._rangeStack[0],e.date]:[e.date]),this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(e.date),0===this._rangeStack.length&&(this._rangeStack=[e.date],this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(e.date)),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[])}ngOnDestroy(){for(const e of this._subs)e.unsubscribe();this.selectedTimeSub.unsubscribe(),this._effects?.destroy()}setRangeOnCalendar(e){e&&(this._rangeStack=e.value instanceof Date?[e.value]:e.value),this._store.dispatch(this._actions.selectRange(this._rangeStack))}setMaxDateRangeOnCalendar(e){let i=new Date(e);if(this._config.maxDate){const r=this._config.maxDate.getTime(),o=e.getTime()+864e5*(this._config.maxDateRange||0);i=o>r?new Date(this._config.maxDate):new Date(o)}else i.setDate(e.getDate()+(this._config.maxDateRange||0));this._effects?.setMaxDate(i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(Vf),s.Y36(TT),s.Y36(s.SBq),s.Y36(es),s.Y36(bT),s.Y36(U0))},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-daterangepicker-container"]],viewQuery:function(e,i){if(1&e&&(s.Gf(w$,5),s.Gf(xue,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.startTimepicker=r.first),s.iGM(r=s.CRH())&&(i.endTimepicker=r.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._stopPropagation(o)})},features:[s._Bn([TT,bT]),s.qOj],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],["startTP",""],[4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(e,i){1&e&&(s.YNc(0,Rue,10,11,"div",0),s.ALo(1,"async")),2&e&&s.Q6J("ngIf",s.lcZ(1,1,i.viewMode))},dependencies:[Or,Gt,kt,Xu,hr,DF,H$,Y$,j$,Z$,td],encapsulation:2,data:{animation:[S$]}}),n})();const wde={provide:Br,useExisting:(0,s.Gpc)(()=>H0),multi:!0},Dde={provide:Re,useExisting:(0,s.Gpc)(()=>H0),multi:!0};let H0=(()=>{class n{constructor(e,i,r,o,a){this._picker=e,this._localeService=i,this._renderer=r,this._elRef=o,this.changeDetection=a,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new Lo.w0}ngOnInit(){const e=i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()};this._picker._bsValue&&e(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(e)),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.dateInputFormat$.pipe(gr()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(e){(13===e.keyCode||"Enter"===e.code)&&this.hide()}_setInputValue(e){const i=e?Zc(e,this._picker._config.dateInputFormat,this._localeService.currentLocale):"";this._renderer.setProperty(this._elRef.nativeElement,"value",i)}onChange(e){this.writeValue(e.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(e){const i=e.value;if(null==i||""===i)return null;if(Tk(i)){if(!pm(i))return{bsDate:{invalid:i}};if(this._picker&&this._picker.minDate&&ah(i,this._picker.minDate,"date"))return this.writeValue(this._picker.minDate),{bsDate:{minDate:this._picker.minDate}};if(this._picker&&this._picker.maxDate&&Gu(i,this._picker.maxDate,"date"))return this.writeValue(this._picker.maxDate),{bsDate:{maxDate:this._picker.maxDate}}}return null}registerOnValidatorChange(e){this._validatorChange=e}writeValue(e){if(e){const i=this._localeService.currentLocale;if(!ms(i))throw new Error(`Locale "${i}" is not defined, please add it with "defineLocale(...)"`);this._value=fT(e,this._picker._config.dateInputFormat,this._localeService.currentLocale),this._picker._config.useUtc&&(this._value=DG(this._value))}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(e){this._picker.isDisabled=e,e?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wT,1),s.Y36(zk),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["input","bsDatepicker",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(o){return i.onChange(o)})("keyup.esc",function(){return i.hide()})("keydown",function(o){return i.onKeydownEvent(o)})("blur",function(){return i.onBlur()})},features:[s._Bn([wde,Dde])]}),n})(),Sde=(()=>{class n extends Vf{constructor(){super(...arguments),this.displayMonths=2}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ade=(()=>{class n{constructor(e,i,r,o,a){this._config=e,this._elementRef=i,this._renderer=r,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new sn.x,this.isDisabled=!1,this.bsValueChange=new s.vpe,this._subs=[],this._rangeInputFormat$=new sn.x,this._datepicker=a.createLoader(i,o,r),Object.assign(this,e),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new _i(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(e){this.isOpen$.next(e)}set bsValue(e){this._bsValue!==e&&(e&&this.bsConfig?.initCurrentTime&&(e=L$(e)),this._bsValue=e,this.bsValueChange.emit(e))}get rangeInputFormat$(){return this._rangeInputFormat$}ngOnInit(){this.isDestroy$=new sn.x,this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig()}ngOnChanges(e){e.bsConfig&&(e.bsConfig.currentValue?.initCurrentTime&&e.bsConfig.currentValue?.initCurrentTime!==e.bsConfig.previousValue?.initCurrentTime&&this._bsValue&&(this._bsValue=L$(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._rangeInputFormat$.next(e.bsConfig.currentValue&&e.bsConfig.currentValue.rangeInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(e.minDate&&(this._datepickerRef.instance.minDate=this.minDate),e.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),e.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),e.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),e.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),e.isDisabled&&(this._elementRef?.nativeElement&&this._elementRef.nativeElement.setAttribute("readonly",this.isDisabled),this._datepickerRef.instance.isDisabled=this.isDisabled),e.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses))}ngAfterViewInit(){this.isOpen$.pipe(bn(e=>e!==this.isOpen),ni(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:Vf,useValue:this._config}).attach(Tde).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(e=>{this._datepickerRef&&(this._datepickerRef.instance.value=e)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.pipe(bn(e=>e&&e[0]&&!!e[1])).subscribe(e=>{this.bsValue=e,this.hide()}))}setConfig(){this._config=Object.assign({},this._config,this.bsConfig,{value:M$(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,ranges:ede(this.bsConfig&&this.bsConfig.ranges,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),maxDateRange:this.bsConfig&&this.bsConfig.maxDateRange,initCurrentTime:this.bsConfig?.initCurrentTime})}hide(){this.isOpen&&this._datepicker.hide();for(const e of this._subs)e.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}unsubscribeSubscriptions(){this._subs?.length&&(this._subs.map(e=>e.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Sde),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.s_b),s.Y36(yT))},n.\u0275dir=s.lG2({type:n,selectors:[["","bsDaterangepicker",""]],inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",dateCustomClasses:"dateCustomClasses",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDaterangepicker"],features:[s.TTD]}),n})();const Ede={provide:Br,useExisting:(0,s.Gpc)(()=>G$),multi:!0},kde={provide:Re,useExisting:(0,s.Gpc)(()=>G$),multi:!0};let G$=(()=>{class n{constructor(e,i,r,o,a){this._picker=e,this._localeService=i,this._renderer=r,this._elRef=o,this.changeDetection=a,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new Lo.w0}ngOnInit(){this._picker._bsValue&&(i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()})(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()})),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.rangeInputFormat$.pipe(gr()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(e){(13===e.keyCode||"Enter"===e.code)&&this.hide()}_setInputValue(e){let i="";if(e){const r=e[0]?Zc(e[0],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"",o=e[1]?Zc(e[1],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"";i=r&&o?r+this._picker._config.rangeSeparator+o:""}this._renderer.setProperty(this._elRef.nativeElement,"value",i)}onChange(e){this.writeValue(e.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(e){let i=e.value;const r=[];if(null==i||!rr(i))return null;i=i.slice().sort((u,f)=>u.getTime()-f.getTime());const o=pm(i[0]),a=pm(i[1]);return o?a?(this._picker&&this._picker.minDate&&ah(i[0],this._picker.minDate,"date")&&(i[0]=this._picker.minDate,r.push({bsDate:{minDate:this._picker.minDate}})),this._picker&&this._picker.maxDate&&Gu(i[1],this._picker.maxDate,"date")&&(i[1]=this._picker.maxDate,r.push({bsDate:{maxDate:this._picker.maxDate}})),r.length>0?(this.writeValue(i),r):null):{bsDate:{invalid:i[1]}}:{bsDate:{invalid:i[0]}}}registerOnValidatorChange(e){this._validatorChange=e}writeValue(e){if(e){const i=this._localeService.currentLocale;if(!ms(i))throw new Error(`Locale "${i}" is not defined, please add it with "defineLocale(...)"`);let o=[];if("string"==typeof e){const a=this._picker._config.rangeSeparator.trim();o=e.replace(/[^-]/g,"").length>1?e.split(this._picker._config.rangeSeparator):e.split(a.length>0?a:this._picker._config.rangeSeparator).map(u=>u.trim())}Array.isArray(e)&&(o=e),this._value=o.map(a=>this._picker._config.useUtc?DG(fT(a,this._picker._config.rangeInputFormat,this._localeService.currentLocale)):fT(a,this._picker._config.rangeInputFormat,this._localeService.currentLocale)).map(a=>isNaN(a.valueOf())?void 0:a)}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(e){this._picker.isDisabled=e,e?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ade,1),s.Y36(zk),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["input","bsDaterangepicker",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(o){return i.onChange(o)})("keyup.esc",function(){return i.hide()})("keydown",function(o){return i.onKeydownEvent(o)})("blur",function(){return i.onBlur()})},features:[s._Bn([Ede,kde])]}),n})(),Mde=(()=>{class n{static forRoot(){return{ngModule:n,providers:[yT,U0,TT,es,bT,zk,Ff]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Qn,Sce,bce]}),n})();const Ide=function(){return{isAnimated:!0,dateInputFormat:"DD/MMM/YYYY"}};let Nde=(()=>{class n{constructor(e,i,r,o,a,u){this.authService=e,this.playerService=i,this.activeModal=r,this.fb=o,this.toastr=a,this.SpinnerService=u,this.maxDate=new Date,this.maxDate.setDate(this.maxDate.getDate())}ngOnInit(){this.newForms(),this.getPlayerInfo()}getPlayerInfo(){this.playerService.getStudentIndividual(this.player_key).valueChanges().subscribe(e=>{this.PlayerInfo=e})}submitRelease(){this.fg1=new Qt({studentID:new Tt(this.player_key),studentName:new Tt(this.PlayerInfo.studentName),schoolID:new Tt(""),schoolName:new Tt(""),remarks:new Tt(this.PlayerInfo.remarks),photoURL:new Tt(this.PlayerInfo.photoURL),isApproved:new Tt(this.PlayerInfo.isApproved),fatherName:new Tt(this.PlayerInfo.fatherName),enteredDate:new Tt(this.PlayerInfo.enteredDate),dob:new Tt(this.PlayerInfo.dob),districtName:new Tt(this.PlayerInfo.districtName),certURL:new Tt(this.PlayerInfo.certURL),caste:new Tt(this.PlayerInfo.caste),approvedDate:new Tt(this.PlayerInfo.approvedDate),approvedBy:new Tt(this.PlayerInfo.approvedBy),releaseDate:new Tt(this.releaseDate?.value.getTime()),releaseRemarks:new Tt(this.releaseRemarks?.value)}),this.fg2=new Qt({playerID:new Tt(this.player_key),oldEnteredBy:new Tt(this.PlayerInfo.enteredBy),oldEnteredDate:new Tt(this.PlayerInfo.enteredDate),oldSchoolID:new Tt(this.PlayerInfo.schoolID),oldSchoolName:new Tt(this.PlayerInfo.schoolName),oldDistrictName:new Tt(this.PlayerInfo.districtName),oldApprovedBy:new Tt(this.PlayerInfo.approvedBy),oldApprovedDate:new Tt(this.PlayerInfo.approvedDate),schoolName:new Tt(this.PlayerInfo.schoolName),schoolID:new Tt(this.PlayerInfo.schoolID),oldRemarks:new Tt(this.PlayerInfo.remarks),transferDate:new Tt(this.releaseDate?.value)}),this.playerService.TransferPlayerHistory(this.fg2.value),this.playerService.releasePlayer(this.fg1.value),this.playerService.deletePlayer(this.player_key),this.SpinnerService.hide(),this.activeModal.close()}newForms(){this.releaseForm=this.fb.group({studentName:[""],districtName:[""],schoolName:[""],releaseDate:[""],releaseRemarks:[""]})}get releaseDate(){return this.releaseForm.get("releaseDate")}get releaseRemarks(){return this.releaseForm.get("releaseRemarks")}get studentName(){return this.releaseForm.get("studentName")}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wi),s.Y36(ba),s.Y36(no),s.Y36(to),s.Y36(Zo),s.Y36(Mf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-player-release-submit"]],inputs:{modal_title:"modal_title",player_key:"player_key"},decls:37,vars:8,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["novalidate","",3,"formGroup"],[1,"form-group","row"],["for","studentName",1,"label","col-sm-4","col-form-label"],["type","text","formControlName","studentName","name","studentName","readonly","",1,"form-control","col-sm-7",3,"ngModel","ngModelChange"],["for","schoolName",1,"label","col-sm-4","col-form-label"],["type","text","formControlName","schoolName","name","schoolName","readonly","",1,"form-control","col-sm-7",3,"ngModel","ngModelChange"],["for","districtName",1,"label","col-sm-4","col-form-label"],["type","text","formControlName","districtName","name","districtName","readonly","",1,"form-control","col-sm-7",3,"ngModel","ngModelChange"],[1,"label","col-sm-4","col-for-label"],["type","text","formControlName","releaseDate","name","releaseDate","id","releaseDate","placeholder","Release date","bsDatepicker","","placement","top","required","",1,"form-control","col-sm-7",3,"bsConfig","maxDate"],["dateValue",""],["formControlName","releaseRemarks","name","releaseRemarks",1,"form-control","col-sm-7"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h4",1),s._uU(2),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){return i.activeModal.dismiss("Cross click")}),s.TgZ(4,"span",3),s._uU(5,"\xd7"),s.qZA()()(),s.TgZ(6,"div",4)(7,"form",5)(8,"div",6)(9,"label",7),s._uU(10,"Player Name"),s.qZA(),s.TgZ(11,"input",8),s.NdJ("ngModelChange",function(o){return i.PlayerInfo.studentName=o}),s.qZA()(),s.TgZ(12,"div",6)(13,"label",9),s._uU(14,"School Name"),s.qZA(),s.TgZ(15,"input",10),s.NdJ("ngModelChange",function(o){return i.PlayerInfo.schoolName=o}),s.qZA()(),s.TgZ(16,"div",6)(17,"label",11),s._uU(18,"District Name"),s.qZA(),s.TgZ(19,"input",12),s.NdJ("ngModelChange",function(o){return i.PlayerInfo.districtName=o}),s.qZA()(),s.TgZ(20,"div",6)(21,"label",13),s._uU(22,"Release Date"),s.qZA(),s._UZ(23,"input",14,15),s.qZA(),s.TgZ(25,"div",6)(26,"label",13),s._uU(27,"Release Remarks"),s.qZA(),s._UZ(28,"textarea",16),s.qZA()()(),s.TgZ(29,"div",17)(30,"button",18),s.NdJ("click",function(){return i.submitRelease()}),s._uU(31,"Submit"),s.qZA(),s.TgZ(32,"button",19),s.NdJ("click",function(){return i.activeModal.close("Close click")}),s._uU(33,"Close"),s.qZA()(),s.TgZ(34,"ngx-spinner",20)(35,"p",21),s._uU(36,"Saving..."),s.qZA()()),2&e&&(s.xp6(2),s.Oqu(i.modal_title),s.xp6(5),s.Q6J("formGroup",i.releaseForm),s.xp6(4),s.Q6J("ngModel",i.PlayerInfo.studentName),s.xp6(4),s.Q6J("ngModel",i.PlayerInfo.schoolName),s.xp6(4),s.Q6J("ngModel",i.PlayerInfo.districtName),s.xp6(4),s.Q6J("bsConfig",s.DdM(7,Ide))("maxDate",i.maxDate))},dependencies:[eo,N,hs,Hr,da,Jr,Fo,wT,H0,fm]}),n})();function Lde(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._UZ(8,"img",23),s.qZA(),s.TgZ(9,"td",24)(10,"span",25),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.releasePlayer(o))}),s._UZ(11,"i",26),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.studentName),s.xp6(2),s.Oqu(e.fatherName),s.xp6(2),s.Oqu(e.schoolName),s.xp6(2),s.s9C("src",e.photoURL,s.LSH)}}const Ode=function(n){return{itemsPerPage:10,currentPage:n}};let Rde=(()=>{class n{constructor(e,i,r){this.authService=e,this.playerService=i,this.modalService=r,this.p=1,this.Student=[]}ngOnInit(){}releasePlayer(e){const i=this.modalService.open(Nde,{backdrop:!1,keyboard:!1});i.componentInstance.modal_title="Release Player",i.componentInstance.player_key=e.$key}getData(){""==this.search_name?console.log("Please enter name"):this.playerService.getStudentAll().snapshotChanges().subscribe(e=>{this.Student=[],e.forEach(i=>{if(i.payload.child("studentName").val().toLowerCase().includes(this.search_name.toLowerCase())&&1==i.payload.child("isApproved").val()){let r={$key:i.key,...i.payload.toJSON()};this.Student.push(r)}})})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wi),s.Y36(ba),s.Y36(pa))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-player-release"]],decls:48,vars:7,consts:[[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"m-0"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"input-group"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-info","btn-flat",3,"click"],[1,"table-responsive"],[1,"table","table-bordered"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],["width","80px","height","100px",3,"src"],[1,"text-center","action-block"],[1,"btn","btn-outline-danger",3,"click"],[1,"fas","fa-ban"]],template:function(e,i){1&e&&(s._UZ(0,"app-header")(1,"app-sidebar"),s.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h1",5),s._uU(8,"Release Player"),s.qZA()(),s.TgZ(9,"div",4)(10,"ol",6)(11,"li",7)(12,"a",8),s._uU(13,"Home"),s.qZA()(),s.TgZ(14,"li",9),s._uU(15,"Release Player"),s.qZA()()()()()(),s.TgZ(16,"section",10)(17,"div",2)(18,"div",11)(19,"div",12)(20,"h3",13),s._uU(21,"Search Player"),s.qZA()(),s.TgZ(22,"div",14)(23,"div",15)(24,"input",16),s.NdJ("ngModelChange",function(o){return i.search_name=o}),s.qZA(),s.TgZ(25,"span",17)(26,"button",18),s.NdJ("click",function(){return i.getData()}),s._uU(27,"Go!"),s.qZA()()()()(),s.TgZ(28,"div",11)(29,"div",14)(30,"div",19)(31,"table",20)(32,"thead")(33,"tr")(34,"th"),s._uU(35,"Player Name"),s.qZA(),s.TgZ(36,"th"),s._uU(37,"Father Name"),s.qZA(),s.TgZ(38,"th"),s._uU(39,"Contact"),s.qZA(),s.TgZ(40,"th"),s._uU(41,"Photo"),s.qZA(),s.TgZ(42,"th",21),s._uU(43,"#"),s.qZA()()(),s.TgZ(44,"tbody"),s.YNc(45,Lde,12,4,"tr",22),s.ALo(46,"paginate"),s.qZA()()()()()()()(),s._UZ(47,"app-footer")),2&e&&(s.xp6(24),s.Q6J("ngModel",i.search_name),s.xp6(21),s.Q6J("ngForOf",s.xi3(46,2,i.Student,s.VKq(5,Ode,i.p))))},dependencies:[Gt,N,hs,zh,lo,co,uo,Xa]}),n})(),Pde=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-trainer-transfer"]],decls:2,vars:0,template:function(e,i){1&e&&(s.TgZ(0,"p"),s._uU(1,"trainer-transfer works!"),s.qZA())}}),n})();function Fde(n,t){if(1&n&&(s.TgZ(0,"option",29),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.s9C("ngValue",e.districtName),s.xp6(1),s.hij("",e.districtName," ")}}function Vde(n,t){1&n&&(s.TgZ(0,"p",30)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please select District "),s.qZA())}function Bde(n,t){if(1&n&&(s.TgZ(0,"option",31),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.s9C("value",e.$key),s.xp6(1),s.Oqu(e.schoolName)}}function Ude(n,t){1&n&&(s.TgZ(0,"p",30)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please enter Date of Birth "),s.qZA())}const Hde=function(){return{isAnimated:!0,dateInputFormat:"DD/MMM/YYYY"}};let Yde=(()=>{class n{constructor(e,i,r,o,a,u,f,m){this.authService=e,this.distService=i,this.schoolService=r,this.playerService=o,this.activeModal=a,this.fb=u,this.toastr=f,this.SpinnerService=m,this.District=[],this.School=[],this.readOnlyControl=!1,this.maxDate=new Date,this.maxDate.setDate(this.maxDate.getDate())}ngOnInit(){this.dist_selected=this.authService.getDistrict(),"Administrator"==this.authService.getRole()?this.readOnlyControl=!1:(this.readOnlyControl=!0,this.getSchoolList(this.dist_selected)),this.newForms(),this.getAllDistrict(),this.playerService.getStudentIndividual(this.player_key).snapshotChanges().subscribe(e=>{this.PlayerInfo={$key:e.key,...e.payload.toJSON()},this.playerName=e.payload.child("studentName").val()})}getSchoolList(e){this.schoolService.getSchoolList(e).snapshotChanges().subscribe(r=>{this.School=[],r.forEach(o=>{let a={$key:o.key,...o.payload.toJSON()};this.School.push(a)})})}getAllDistrict(){this.distService.getDistrictAll().snapshotChanges().subscribe(e=>{this.District=[],e.forEach(i=>{let r=i.payload.toJSON();this.District.push(r)})})}get districtName(){return this.transferForm.get("districtName")}get transferDate(){return this.transferForm.get("transferDate")}changeDistrict(e){if(""!=e.target.value){var r=e.target.value.split(": ");this.txt_schoolID="",this.txt_schoolName="",this.getSchoolList(r[1])}}submitTransfer(){this.transferForm.valid?(this.SpinnerService.show(),this.transferForm.addControl("playerID",new Tt(this.player_key)),this.transferForm.addControl("oldEnteredBy",new Tt(this.PlayerInfo.enteredBy)),this.transferForm.addControl("oldEnteredDate",new Tt(this.PlayerInfo.enteredDate)),this.transferForm.addControl("oldSchoolID",new Tt(this.PlayerInfo.schoolID)),this.transferForm.addControl("oldSchoolName",new Tt(this.PlayerInfo.schoolName)),this.transferForm.addControl("oldDistrictName",new Tt(this.PlayerInfo.districtName)),this.transferForm.addControl("oldApprovedBy",new Tt(this.PlayerInfo.approvedBy)),this.transferForm.addControl("oldApprovedDate",new Tt(this.PlayerInfo.approvedDate)),this.transferForm.addControl("schoolName",new Tt(this.txt_schoolName)),this.transferForm.addControl("schoolID",new Tt(this.txt_schoolID)),this.transferForm.addControl("oldRemarks",new Tt(this.PlayerInfo.remarks)),this.transferForm.addControl("transferDate",new Tt(this.PlayerInfo.transferDate)),this.playerService.TransferPlayerHistory(this.transferForm.value),this.playerService.TransferPlayer(this.transferForm.value),this.toastr.success(this.transferForm.controls.playerName.value+" successfully transferred!"),this.ResetForm(),this.SpinnerService.hide(),this.activeModal.close()):console.log("ERROR")}ResetForm(){this.transferForm.reset()}newForms(){this.transferForm=this.fb.group({playerName:[""],districtName:["",[bt.required]],transferDate:["",[bt.required]]})}getSelectedSchool(e){this.txt_schoolName=e.target.options[e.target.options.selectedIndex].text,this.txt_schoolID=e.target.options[e.target.options.selectedIndex].value}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wi),s.Y36(Hu),s.Y36(jc),s.Y36(ba),s.Y36(no),s.Y36(to),s.Y36(Zo),s.Y36(Mf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-player-transfer-submit"]],inputs:{modal_title:"modal_title",player_key:"player_key"},decls:45,vars:11,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"form-group","row"],["for","playerName",1,"label","col-sm-4","col-form-label"],["type","text","formControlName","playerName","name","playerName","readonly","",1,"form-control","col-sm-7",3,"ngModel","ngModelChange"],["for","districtName",1,"label","col-sm-4","col-form-label"],["formControlName","districtName","name","districtName","required","",1,"form-control","col-sm-7",3,"ngModel","ngModelChange","change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-sm-4"],[1,"col-sm-7"],["class","error",4,"ngIf"],["for","schoolName",1,"label","col-sm-4","col-form-label"],["name","schoolName","required","",1,"form-control","col-sm-7",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"label","col-sm-4","col-for-label"],["type","text","formControlName","transferDate","name","transferDate","id","transferDate","placeholder","Transfer date","bsDatepicker","","placement","top","required","",1,"form-control","col-sm-7",3,"bsConfig","maxDate"],["dateValue",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[3,"ngValue"],[1,"error"],[3,"value"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h4",1),s._uU(2),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){return i.activeModal.dismiss("Cross click")}),s.TgZ(4,"span",3),s._uU(5,"\xd7"),s.qZA()()(),s.TgZ(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),s._uU(12,"Player Name"),s.qZA(),s.TgZ(13,"input",10),s.NdJ("ngModelChange",function(o){return i.playerName=o}),s.qZA()(),s.TgZ(14,"div",8)(15,"label",11),s._uU(16,"District"),s.qZA(),s.TgZ(17,"select",12),s.NdJ("ngModelChange",function(o){return i.dist_selected=o})("change",function(o){return i.changeDistrict(o)}),s._UZ(18,"option",13),s.YNc(19,Fde,2,2,"option",14),s.qZA(),s._UZ(20,"div",15),s.TgZ(21,"div",16),s.YNc(22,Vde,4,0,"p",17),s.qZA()(),s.TgZ(23,"div",8)(24,"label",18),s._uU(25,"New School"),s.qZA(),s.TgZ(26,"select",19),s.NdJ("change",function(o){return i.getSelectedSchool(o)}),s._UZ(27,"option",13),s.YNc(28,Bde,2,2,"option",20),s.qZA()(),s.TgZ(29,"div",8)(30,"label",21),s._uU(31,"transferDate"),s.qZA(),s._UZ(32,"input",22,23)(34,"div",15),s.TgZ(35,"div",16),s.YNc(36,Ude,4,0,"p",17),s.qZA()()()()()(),s.TgZ(37,"div",24)(38,"button",25),s.NdJ("click",function(){return i.submitTransfer()}),s._uU(39,"Submit"),s.qZA(),s.TgZ(40,"button",26),s.NdJ("click",function(){return i.activeModal.close("Close click")}),s._uU(41,"Close"),s.qZA()(),s.TgZ(42,"ngx-spinner",27)(43,"p",28),s._uU(44,"Saving..."),s.qZA()()),2&e&&(s.xp6(2),s.Oqu(i.modal_title),s.xp6(5),s.Q6J("formGroup",i.transferForm),s.xp6(6),s.Q6J("ngModel",i.playerName),s.xp6(4),s.Q6J("ngModel",i.dist_selected),s.xp6(2),s.Q6J("ngForOf",i.District),s.xp6(3),s.Q6J("ngIf",(null==i.districtName?null:i.districtName.touched)&&(null==i.districtName?null:i.districtName.invalid)),s.xp6(6),s.Q6J("ngForOf",i.School),s.xp6(4),s.Q6J("bsConfig",s.DdM(10,Hde))("maxDate",i.maxDate),s.xp6(4),s.Q6J("ngIf",(null==i.transferDate?null:i.transferDate.touched)&&(null==i.transferDate?null:i.transferDate.invalid)))},dependencies:[Gt,kt,eo,Nd,Kh,N,Su,hs,Hr,da,Jr,Fo,wT,H0,fm]}),n})();function jde(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._UZ(8,"img",23),s.qZA(),s.TgZ(9,"td",24)(10,"span",25),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.transferPlayer(o))}),s._UZ(11,"i",26),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.studentName),s.xp6(2),s.Oqu(e.fatherName),s.xp6(2),s.Oqu(e.schoolName),s.xp6(2),s.s9C("src",e.photoURL,s.LSH)}}const Zde=function(n){return{itemsPerPage:10,currentPage:n}};let Gde=(()=>{class n{constructor(e,i,r){this.authService=e,this.playerService=i,this.modalService=r,this.p=1,this.Student=[]}ngOnInit(){}getData(){""==this.search_name?console.log("Please enter name"):this.playerService.getStudentAll().snapshotChanges().subscribe(e=>{this.Student=[],e.forEach(i=>{if(i.payload.child("studentName").val().toLowerCase().includes(this.search_name.toLowerCase())&&1==i.payload.child("isApproved").val()){let r={$key:i.key,...i.payload.toJSON()};this.Student.push(r)}})})}transferPlayer(e){const i=this.modalService.open(Yde,{backdrop:!1,keyboard:!1});i.componentInstance.modal_title="Transfer Player",i.componentInstance.player_key=e.$key}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wi),s.Y36(ba),s.Y36(pa))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-player-transfer"]],decls:48,vars:7,consts:[[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"m-0"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"input-group"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-info","btn-flat",3,"click"],[1,"table-responsive"],[1,"table","table-bordered"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],["width","80px","height","100px",3,"src"],[1,"text-center","action-block"],[1,"btn","btn-outline-danger",3,"click"],[1,"fa","fa-exchange-alt"]],template:function(e,i){1&e&&(s._UZ(0,"app-header")(1,"app-sidebar"),s.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h1",5),s._uU(8,"Transfer Player"),s.qZA()(),s.TgZ(9,"div",4)(10,"ol",6)(11,"li",7)(12,"a",8),s._uU(13,"Home"),s.qZA()(),s.TgZ(14,"li",9),s._uU(15,"Transfer Player"),s.qZA()()()()()(),s.TgZ(16,"section",10)(17,"div",2)(18,"div",11)(19,"div",12)(20,"h3",13),s._uU(21,"Search Player"),s.qZA()(),s.TgZ(22,"div",14)(23,"div",15)(24,"input",16),s.NdJ("ngModelChange",function(o){return i.search_name=o}),s.qZA(),s.TgZ(25,"span",17)(26,"button",18),s.NdJ("click",function(){return i.getData()}),s._uU(27,"Go!"),s.qZA()()()()(),s.TgZ(28,"div",11)(29,"div",14)(30,"div",19)(31,"table",20)(32,"thead")(33,"tr")(34,"th"),s._uU(35,"Player Name"),s.qZA(),s.TgZ(36,"th"),s._uU(37,"Father Name"),s.qZA(),s.TgZ(38,"th"),s._uU(39,"Contact"),s.qZA(),s.TgZ(40,"th"),s._uU(41,"Photo"),s.qZA(),s.TgZ(42,"th",21),s._uU(43,"#"),s.qZA()()(),s.TgZ(44,"tbody"),s.YNc(45,jde,12,4,"tr",22),s.ALo(46,"paginate"),s.qZA()()()()()()()(),s._UZ(47,"app-footer")),2&e&&(s.xp6(24),s.Q6J("ngModel",i.search_name),s.xp6(21),s.Q6J("ngForOf",s.xi3(46,2,i.Student,s.VKq(5,Zde,i.p))))},dependencies:[Gt,N,hs,zh,lo,co,uo,Xa]}),n})();function $de(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",7),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw().$implicit,a=s.oxw();return r.preventDefault(),s.KtG(a.removeTab(o))}),s._uU(1," \u274c"),s.qZA()}}const qde=function(n){return["nav-item",n]};function Wde(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",3),s.NdJ("keydown",function(r){const a=s.CHM(e).index,u=s.oxw();return s.KtG(u.keyNavActions(r,a))}),s.TgZ(1,"a",4),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.KtG(o.active=!0)}),s.TgZ(2,"span",5),s._uU(3),s.qZA(),s.YNc(4,$de,2,0,"span",6),s.qZA()()}if(2&n){const e=t.$implicit;s.ekj("active",e.active)("disabled",e.disabled),s.Q6J("ngClass",s.VKq(15,qde,e.customClass||"")),s.xp6(1),s.ekj("active",e.active)("disabled",e.disabled),s.uIk("aria-controls",e.id?e.id:"")("aria-selected",!!e.active)("id",e.id?e.id+"-link":""),s.xp6(1),s.Q6J("ngTransclude",e.headingRef),s.xp6(1),s.Oqu(e.heading),s.xp6(1),s.Q6J("ngIf",e.removable)}}const zde=["*"];let Kde=(()=>{class n{constructor(e){this.viewRef=e}set ngTransclude(e){this._ngTransclude=e,e&&this.viewRef.createEmbeddedView(e)}get ngTransclude(){return this._ngTransclude}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}}),n})(),Jde=(()=>{class n{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$$=(()=>{class n{constructor(e,i,r){this.renderer=i,this.elementRef=r,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,e)}get vertical(){return this._vertical}set vertical(e){this._vertical=e,this.setClassMap()}get justified(){return this._justified}set justified(e){this._justified=e,this.setClassMap()}get type(){return this._type}set type(e){this._type=e,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(e){this._isKeysAllowed=e}ngOnDestroy(){this.isDestroyed=!0}addTab(e){this.tabs.push(e),e.active=1===this.tabs.length&&!e.active}removeTab(e,i={reselect:!0,emit:!0}){const r=this.tabs.indexOf(e);if(-1!==r&&!this.isDestroyed){if(i.reselect&&e.active&&this.hasAvailableTabs(r)){const o=this.getClosestTabIndex(r);this.tabs[o].active=!0}i.emit&&e.removed.emit(e),this.tabs.splice(r,1),e.elementRef.nativeElement.parentNode&&this.renderer.removeChild(e.elementRef.nativeElement.parentNode,e.elementRef.nativeElement)}}keyNavActions(e,i){if(!this.isKeysAllowed)return;const r=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===e.keyCode||"Enter"===e.key||32===e.keyCode||"Space"===e.key)return e.preventDefault(),void r[i%r.length].click();if(39!==e.keyCode&&"RightArrow"!==e.key)if(37!==e.keyCode&&"LeftArrow"!==e.key)if(36!==e.keyCode&&"Home"!==e.key)if(35!==e.keyCode&&"End"!==e.key){if((46===e.keyCode||"Delete"===e.key)&&this.tabs[i].removable){if(this.removeTab(this.tabs[i]),r[i+1])return void r[(i+1)%r.length].focus();r[r.length-1]&&r[0].focus()}}else{e.preventDefault();let o,a=1,u=i;do{u-a<0?(u=r.length-1,o=r[u],a=0):o=r[u-a],a++}while(o.classList.contains("disabled"));o.focus()}else{e.preventDefault();let o,a=0;do{o=r[a%r.length],a++}while(o.classList.contains("disabled"));o.focus()}else{let o,a=1,u=i;do{u-a<0?(u=r.length-1,o=r[u],a=0):o=r[u-a],a++}while(o.classList.contains("disabled"));o.focus()}else{let o,a=1;do{o=r[(i+a)%r.length],a++}while(o.classList.contains("disabled"));o.focus()}}getClosestTabIndex(e){const i=this.tabs.length;if(!i)return-1;for(let r=1;r<=i;r+=1){const o=e-r,a=e+r;if(this.tabs[o]&&!this.tabs[o].disabled)return o;if(this.tabs[a]&&!this.tabs[a].disabled)return a}return-1}hasAvailableTabs(e){const i=this.tabs.length;if(!i)return!1;for(let r=0;r<i;r+=1)if(!this.tabs[r].disabled&&r!==e)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Jde),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["tabset"]],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("tab-container",i.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:zde,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"ngClass","click"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngClass","keydown"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"ul",0),s.NdJ("click",function(o){return o.preventDefault()}),s.YNc(1,Wde,5,17,"li",1),s.qZA(),s.TgZ(2,"div",2),s.Hsn(3),s.qZA()),2&e&&(s.Q6J("ngClass",i.classMap),s.uIk("aria-label",i.ariaLabel),s.xp6(1),s.Q6J("ngForOf",i.tabs))},dependencies:[Or,Gt,kt,Kde],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]}),n})(),Qde=(()=>{class n{constructor(e,i,r){this.elementRef=i,this.renderer=r,this.disabled=!1,this.removable=!1,this.selectTab=new s.vpe,this.deselect=new s.vpe,this.removed=new s.vpe,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=e,this.tabset.addTab(this)}get customClass(){return this._customClass}set customClass(e){this.customClass&&this.customClass.split(" ").forEach(i=>{this.renderer.removeClass(this.elementRef.nativeElement,i)}),this._customClass=e?e.trim():"",this.customClass&&this.customClass.split(" ").forEach(i=>{this.renderer.addClass(this.elementRef.nativeElement,i)})}get active(){return this._active}set active(e){if(this._active!==e){if(this.disabled&&e||!e)return void(this._active&&!e&&(this.deselect.emit(this),this._active=e));this._active=e,this.selectTab.emit(this),this.tabset.tabs.forEach(i=>{i!==this&&(i.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36($$),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("id",i.id)("role",i.role)("aria-labelledby",i.ariaLabelledby),s.ekj("active",i.active)("tab-pane",i.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]}),n})(),Xde=(()=>{class n{static forRoot(){return{ngModule:n,providers:[]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Qn]}),n})(),ehe=(()=>{class n{constructor(e,i,r,o,a){this.afAuth=e,this.fb=i,this.authService=r,this.route=o,this.router=a}ngOnInit(){this.userInfo=JSON.parse(localStorage.getItem("user")),this.newForm()}newForm(){this.frmSetNewPassword=this.fb.group({password:["",[bt.required]],confirmPassword:["",[bt.required]]})}submit(){const e=this.frmSetNewPassword.controls.password.value;e===this.frmSetNewPassword.controls.confirmPassword.value&&this.authService.updatePassword(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(l_),s.Y36(to),s.Y36(wi),s.Y36(Df),s.Y36(Bi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user-profile"]],decls:51,vars:8,consts:[[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"m-0"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"content"],[1,"text-center"],[1,"card","card-primary","card-outline"],[1,"card-body","box-profile"],["heading","Profile"],[1,"list-group","list-group-unbordered","mb-3"],[1,"list-group-item"],[1,"float-left","pl-lg-5","pl-md-5"],[1,"float-right","pr-lg-5","pr-md-5"],[1,"float-right","pr-md-5","pr-lg-5"]],template:function(e,i){1&e&&(s._UZ(0,"app-header")(1,"app-sidebar"),s.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h1",5),s._uU(8,"User Profile"),s.qZA()(),s.TgZ(9,"div",4)(10,"ol",6)(11,"li",7)(12,"a",8),s._uU(13,"Home"),s.qZA()(),s.TgZ(14,"li",9),s._uU(15,"User"),s.qZA()()()()()(),s.TgZ(16,"section",10)(17,"div",2)(18,"div",11)(19,"div",12)(20,"div",13)(21,"tabset")(22,"tab",14)(23,"ul",15)(24,"li",16)(25,"b",17),s._uU(26,"Name"),s.qZA(),s.TgZ(27,"a",18),s._uU(28),s.qZA()(),s.TgZ(29,"li",16)(30,"b",17),s._uU(31,"e-Mail"),s.qZA(),s.TgZ(32,"a",19),s._uU(33),s.qZA()(),s.TgZ(34,"li",16)(35,"b",17),s._uU(36,"Role"),s.qZA(),s.TgZ(37,"a",19),s._uU(38),s.qZA()(),s.TgZ(39,"li",16)(40,"b",17),s._uU(41,"District"),s.qZA(),s.TgZ(42,"a",18),s._uU(43),s.qZA()(),s.TgZ(44,"li",16)(45,"b",17),s._uU(46,"Last login"),s.qZA(),s.TgZ(47,"a",18),s._uU(48),s.ALo(49,"date"),s.qZA()()()()()()()()()()(),s._UZ(50,"app-footer")),2&e&&(s.xp6(28),s.Oqu(i.userInfo.user.displayName),s.xp6(5),s.Oqu(i.userInfo.user.email),s.xp6(5),s.Oqu(i.userInfo[0].role),s.xp6(5),s.Oqu(i.userInfo[0].district),s.xp6(5),s.Oqu(s.xi3(49,5,i.userInfo.user.lastLoginAt,"dd-MMM-yyyy")))},dependencies:[Qde,$$,lo,co,uo,Cs],styles:[".login-box[_ngcontent-%COMP%]{margin:auto;width:50%;padding:10px}"]}),n})(),q$=(()=>{class n{constructor(e){this.db=e}addTrainer(e){this.trainersRef=this.db.list("trainer"),this.trainersRef.push({trainerName:e.trainerName,trainerAddress:e.trainerAddress,trainerMobile:e.trainerMobile,trainerDistrict:e.trainerDistrict,schoolDesc:e.schoolDesc,enteredBy:e.enteredBy})}getTrainer(e){return this.trainerRef=this.db.object("trainer/"+e),this.trainerRef}getTrainerDistList(e){return this.trainersRef=this.db.list("trainer",i=>i.orderByChild("trainerDistrict").equalTo(e)),this.trainersRef}getTrainerAll(){return this.trainersRef=this.db.list("trainer"),this.trainersRef}updateTrainer(e){this.trainerRef.update({trainerName:e.trainerName,trainerAddress:e.trainerAddress,trainerMobile:e.trainerMobile,trainerDistrict:e.trainerDistrict,schoolDesc:e.schoolDesc,enteredBy:e.enteredBy})}deleteTrainer(e){this.trainerRef=this.db.object("trainer/"+e),this.trainerRef.remove()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function the(n,t){1&n&&(s.TgZ(0,"p",25)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please enter School"),s.qZA())}function nhe(n,t){if(1&n&&(s.TgZ(0,"option",26),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.s9C("value",e.districtName),s.xp6(1),s.Oqu(e.districtName)}}function ihe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",27)(1,"input",28),s.NdJ("change",function(r){const a=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.onCheckboxChange(r,a.schoolName,a.schoolAddress))}),s.qZA(),s._uU(2),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.s9C("value",e.$key),s.xp6(1),s.hij("",e.schoolName," ")}}let rhe=(()=>{class n{constructor(e,i,r,o,a,u,f){this.activeModal=e,this.distService=i,this.schoolService=r,this.trainerService=o,this.authService=a,this.fb=u,this.SpinnerService=f,this.District=[],this.School=[]}ngOnInit(){this.loadDistrict(),this.trainerForm=this.fb.group({trainerName:["",[bt.required]],trainerAddress:[""],trainerMobile:[""],trainerDistrict:[""],enteredBy:this.authService.getUserEmail(),schoolDesc:new og([],bt.required)})}loadDistrict(){this.distService.getDistrictAll().snapshotChanges().subscribe(i=>{this.District=[],i.forEach(r=>{let o=r.payload.toJSON();this.District.push(o)})})}submitTrainer(){this.SpinnerService.show(),this.trainerForm.valid&&(this.trainerService.addTrainer(this.trainerForm.value),this.trainerForm.value.schoolDesc.forEach(i=>{this.schoolService.updateSchoolTrainer(i.key,!0)}),this.ResetForm(),this.SpinnerService.hide(),this.activeModal.close())}ResetForm(){this.trainerForm.reset()}get trainerName(){return this.trainerForm.get("trainerName")}selectDistrict(e){this.schoolService.getSchoolList(e.target.value).snapshotChanges().subscribe(r=>{this.School=[],r.forEach(o=>{if(0==o.payload.child("hasTrainer").val()){let a={$key:o.key,...o.payload.toJSON()};this.School.push(a)}})})}onCheckboxChange(e,i,r){const o=this.trainerForm.controls.schoolDesc;if(e.target.checked)o.push(new Qt({key:new Tt(e.target.value),schoolName:new Tt(i),schoolAddress:new Tt(r)}));else{const a=o.controls.findIndex(u=>u.value===e.target.value);o.removeAt(a)}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(no),s.Y36(Hu),s.Y36(jc),s.Y36(q$),s.Y36(wi),s.Y36(to),s.Y36(Mf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-trainer"]],inputs:{district_name:"district_name",modal_title:"modal_title"},decls:48,vars:5,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"col-md-6"],[1,"col-md-12","mb-3"],["type","text","formControlName","trainerName","required","",1,"form-control"],["class","error",4,"ngIf"],["type","text","formControlName","trainerAddress",1,"form-control"],["type","text","formControlName","trainerMobile",1,"form-control"],["formControlName","trainerDistrict",1,"form-control",3,"click"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"list-group"],[1,"list-group-item","active","disabled"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"error"],[3,"value"],[1,"list-group-item"],["formArrayName","schoolDesc","type","checkbox",3,"value","change"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h4",1),s._uU(2),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){return i.activeModal.dismiss("Cross click")}),s.TgZ(4,"span",3),s._uU(5,"\xd7"),s.qZA()()(),s.TgZ(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"div",6)(11,"div",8)(12,"div",6)(13,"div",9)(14,"label"),s._uU(15,"Trainer Name"),s.qZA(),s._UZ(16,"input",10),s.qZA(),s.YNc(17,the,4,0,"p",11),s.qZA(),s.TgZ(18,"div",6)(19,"div",9)(20,"label"),s._uU(21,"Address"),s.qZA(),s._UZ(22,"input",12),s.qZA()(),s.TgZ(23,"div",6)(24,"div",9)(25,"label"),s._uU(26,"Mobile"),s.qZA(),s._UZ(27,"input",13),s.qZA()(),s.TgZ(28,"div",6)(29,"div",9)(30,"label"),s._uU(31,"District"),s.qZA(),s.TgZ(32,"select",14),s.NdJ("click",function(o){return i.selectDistrict(o)}),s._UZ(33,"option",15),s.YNc(34,nhe,2,2,"option",16),s.qZA()()()(),s.TgZ(35,"div",8)(36,"div",17)(37,"div",18),s._uU(38,"School list without Trainer"),s.qZA(),s.YNc(39,ihe,3,2,"div",19),s.qZA()()()()()()(),s.TgZ(40,"div",20)(41,"button",21),s.NdJ("click",function(){return i.submitTrainer()}),s._uU(42,"Submit"),s.qZA(),s.TgZ(43,"button",22),s.NdJ("click",function(){return i.activeModal.close("Close click")}),s._uU(44,"Close"),s.qZA()(),s.TgZ(45,"ngx-spinner",23)(46,"p",24),s._uU(47,"Saving..."),s.qZA()()),2&e&&(s.xp6(2),s.Oqu(i.modal_title),s.xp6(5),s.Q6J("formGroup",i.trainerForm),s.xp6(10),s.Q6J("ngIf",(null==i.trainerName?null:i.trainerName.touched)&&(null==i.trainerName?null:i.trainerName.invalid)),s.xp6(17),s.Q6J("ngForOf",i.District),s.xp6(5),s.Q6J("ngForOf",i.School))},dependencies:[Gt,kt,eo,Nd,Kh,N,Su,hs,Hr,da,Jr,Fo,Sp,fm]}),n})();function she(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",16)(1,"p",17),s._uU(2,"No Trainer added yet!"),s.qZA(),s.TgZ(3,"button",18),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.openAdd())}),s._uU(4,"Add Trainer"),s.qZA()()}}function ohe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td")(8,"ul")(9,"li"),s._uU(10),s.qZA()()(),s.TgZ(11,"td",23)(12,"span",24),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.deleteTrainer(o))}),s._UZ(13,"i",25),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.trainerName),s.xp6(2),s.Oqu(e.trainerAddress),s.xp6(2),s.Oqu(e.trainerMobile),s.xp6(4),s.Oqu(e.schoolDesc)}}const ahe=function(n){return{itemsPerPage:10,currentPage:n}};function lhe(n,t){if(1&n&&(s.TgZ(0,"div",19)(1,"table",20)(2,"thead")(3,"tr")(4,"th"),s._uU(5,"Trainer Name"),s.qZA(),s.TgZ(6,"th"),s._uU(7,"Address"),s.qZA(),s.TgZ(8,"th"),s._uU(9,"Contact"),s.qZA(),s.TgZ(10,"th"),s._uU(11,"School"),s.qZA(),s.TgZ(12,"th",21),s._uU(13,"#"),s.qZA()()(),s.TgZ(14,"tbody"),s.YNc(15,ohe,14,4,"tr",22),s.ALo(16,"paginate"),s.qZA()()()),2&n){const e=s.oxw();s.xp6(15),s.Q6J("ngForOf",s.xi3(16,1,e.Trainer,s.VKq(4,ahe,e.p)))}}let che=(()=>{class n{constructor(e,i,r,o){this.authService=e,this.trainerService=i,this.modalService=r,this.schoolService=o,this.p=1,this.hideWhenNoTrainer=!1,this.noData=!1,this.preLoad=!0}ngOnInit(){this.dataStatus(),this.trainerService.getTrainerAll().snapshotChanges().subscribe(e=>{this.Trainer=[],e.forEach(i=>{let r=i.payload.toJSON();r.$key=i.key;var o=[];for(var a in r.schoolDesc)o.push([r.schoolDesc[a].schoolName]);r.schoolDesc=o,this.Trainer.push(r)})})}dataStatus(){this.trainerService.getTrainerAll().valueChanges().subscribe(e=>{e.length<=0?(this.hideWhenNoTrainer=!1,this.noData=!0):(this.hideWhenNoTrainer=!0,this.noData=!1)})}openAdd(){const e=this.modalService.open(rhe,{size:"lg",backdrop:!1,keyboard:!1});e.componentInstance.modal_title="Add Trainer",e.componentInstance.district_name=this.authService.getDistrict()}openEdit(e){}deleteTrainer(e){confirm("Are you sure to delete "+e.trainerName)&&(this.trainerService.getTrainer(e.$key).snapshotChanges().subscribe(i=>{let r=i.payload.toJSON();for(var o in i.payload.child("schoolDesc").val())this.schoolService.updateSchoolTrainer(r.schoolDesc[o].key,!1)}),this.trainerService.deleteTrainer(e.$key))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wi),s.Y36(q$),s.Y36(pa),s.Y36(jc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-list-trainer"]],decls:26,vars:2,consts:[[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"m-0"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"btn","btn-primary",3,"click"],[1,"content"],[1,"pricing-header","mx-auto"],["class","no-data text-center",4,"ngIf"],["class","table-responsive",4,"ngIf"],[3,"pageChange"],[1,"no-data","text-center"],[1,"nodata-mgs"],[1,"btn","btn-success",3,"click"],[1,"table-responsive"],[1,"table","table-bordered"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"text-center","action-block"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"fa","fa-trash"]],template:function(e,i){1&e&&(s._UZ(0,"app-header")(1,"app-sidebar"),s.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h1",5),s._uU(8,"Trainer"),s.qZA()(),s.TgZ(9,"div",4)(10,"ol",6)(11,"li",7)(12,"a",8),s._uU(13,"Home"),s.qZA()(),s.TgZ(14,"li",9),s._uU(15,"Trainer"),s.qZA(),s.TgZ(16,"li",7)(17,"button",10),s.NdJ("click",function(){return i.openAdd()}),s._uU(18,"Add"),s.qZA()()()()()()(),s.TgZ(19,"section",11)(20,"div",2)(21,"div",12),s.YNc(22,she,5,0,"div",13),s.YNc(23,lhe,17,6,"div",14),s.TgZ(24,"pagination-controls",15),s.NdJ("pageChange",function(o){return i.p=o}),s.qZA()()()()(),s._UZ(25,"app-footer")),2&e&&(s.xp6(22),s.Q6J("ngIf",i.noData),s.xp6(1),s.Q6J("ngIf",i.hideWhenNoTrainer))},dependencies:[Gt,kt,Yu,lo,co,uo,Xa]}),n})();function uhe(n,t){1&n&&(s.TgZ(0,"div",18)(1,"p",19),s._uU(2,"No Player approved yet!"),s.qZA()())}function dhe(n,t){if(1&n&&(s.TgZ(0,"tr")(1,"td",15),s._uU(2),s.qZA(),s.TgZ(3,"td",15),s._uU(4),s.qZA(),s.TgZ(5,"td",15),s._uU(6),s.ALo(7,"date"),s.qZA(),s.TgZ(8,"td",15),s._uU(9),s.qZA(),s.TgZ(10,"td",15),s._uU(11),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.studentName),s.xp6(2),s.Oqu(e.fatherName),s.xp6(2),s.Oqu(s.xi3(7,5,e.dob,"dd-MMM-yyyy")),s.xp6(3),s.Oqu(e.schoolName),s.xp6(2),s.Oqu(e.districtName)}}const hhe=function(n){return{itemsPerPage:10,currentPage:n}};let fhe=(()=>{class n{constructor(e,i){this.playerService=e,this.authService=i,this.p=1,this.hideWhenNoPlayer=!1,this.noData=!1}ngOnInit(){"Administrator"==this.authService.getRole()?this.playerService.getApprovedList().snapshotChanges().subscribe(e=>{this.Player=[],e.forEach(i=>{let r=i.payload.toJSON();this.Player.push(r)})}):this.playerService.getStudentDistrict(this.authService.getDistrict()).snapshotChanges().subscribe(e=>{this.Player=[],e.forEach(i=>{if(1==i.payload.child("isApproved").val()){let r=i.payload.toJSON();this.Player.push(r)}})})}dataStatus(){this.playerService.getStudentAll().valueChanges().subscribe(e=>{e.length<=0?(this.hideWhenNoPlayer=!1,this.noData=!0):(this.hideWhenNoPlayer=!0,this.noData=!1)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ba),s.Y36(wi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-rep-approved"]],decls:39,vars:7,consts:[[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"m-0"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"content"],["class","no-data text-center",4,"ngIf"],[1,"d-flex","justify-content-between","flex-wrap","flex-md-nowrap","align-items-center","pt-3","pb-2","mb-3","border-bottom"],[1,"table-responsive"],[1,"table","table-bordered"],["scope","row"],[4,"ngFor","ngForOf"],[3,"pageChange"],[1,"no-data","text-center"],[1,"nodata-msg"]],template:function(e,i){1&e&&(s._UZ(0,"app-header")(1,"app-sidebar"),s.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h1",5),s._uU(8,"Report Approved"),s.qZA()(),s.TgZ(9,"div",4)(10,"ol",6)(11,"li",7)(12,"a",8),s._uU(13,"Home"),s.qZA()(),s.TgZ(14,"li",9),s._uU(15,"Approved"),s.qZA()()()()()(),s.TgZ(16,"section",10)(17,"div",2),s.YNc(18,uhe,3,0,"div",11),s._UZ(19,"div",12),s.TgZ(20,"div",13)(21,"table",14)(22,"thead")(23,"tr")(24,"th",15),s._uU(25,"Player Name"),s.qZA(),s.TgZ(26,"th",15),s._uU(27,"Father Name"),s.qZA(),s.TgZ(28,"th",15),s._uU(29,"DOB"),s.qZA(),s.TgZ(30,"th",15),s._uU(31,"School Name"),s.qZA(),s.TgZ(32,"th",15),s._uU(33,"District"),s.qZA()()(),s.TgZ(34,"tbody"),s.YNc(35,dhe,12,8,"tr",16),s.ALo(36,"paginate"),s.qZA()()(),s.TgZ(37,"pagination-controls",17),s.NdJ("pageChange",function(o){return i.p=o}),s.qZA()()()(),s._UZ(38,"app-footer")),2&e&&(s.xp6(18),s.Q6J("ngIf",i.noData),s.xp6(17),s.Q6J("ngForOf",s.xi3(36,2,i.Player,s.VKq(5,hhe,i.p))))},dependencies:[Gt,kt,Yu,lo,co,uo,Cs,Xa]}),n})();function phe(n,t){1&n&&(s.TgZ(0,"p",23)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please enter School "),s.qZA())}function mhe(n,t){1&n&&(s.TgZ(0,"p",23)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please enter Location "),s.qZA())}function ghe(n,t){1&n&&(s.TgZ(0,"p",23)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please enter Boys "),s.qZA())}function _he(n,t){1&n&&(s.TgZ(0,"p",23)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please enter Girls "),s.qZA())}function vhe(n,t){1&n&&(s.TgZ(0,"p",23)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please enter Total "),s.qZA())}let BF=(()=>{class n{constructor(e,i,r,o,a,u,f){this.activeModal=e,this.distService=i,this.schoolService=r,this.authService=o,this.fb=a,this.toastr=u,this.SpinnerService=f,this.boys=0,this.girls=0,this.total=0}ngOnInit(){this.schoolForm=this.fb.group({schoolDistrict:[this.district_name],schoolName:["",[bt.required]],schoolAddress:[""],enteredBy:this.authService.getUserEmail(),location:["",[bt.required]],boys:[0,bt.required],girls:[0,[bt.required]],total:[0,[bt.required]]})}submitSchool(){this.schoolForm.valid&&(this.SpinnerService.show(),this.schoolService.AddSchool(this.schoolForm.value),this.toastr.success(this.schoolForm.controls.schoolName.value+" successfully added!"),this.ResetForm(),this.SpinnerService.hide(),this.activeModal.close())}get schoolName(){return this.schoolForm.get("schoolName")}get location(){return this.schoolForm.get("location")}addTotal(){this.total=parseInt(this.boys)+parseInt(this.girls)}ResetForm(){this.schoolForm.reset()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(no),s.Y36(Hu),s.Y36(jc),s.Y36(wi),s.Y36(to),s.Y36(Zo),s.Y36(Mf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-school"]],inputs:{modal_title:"modal_title",district_name:"district_name"},decls:51,vars:11,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"form-group","row"],[1,"label","col-sm-4","col-for-label"],["type","text","formControlName","schoolDistrict","readonly","",1,"form-control","col-sm-7",3,"value"],["type","text","formControlName","schoolName","required","",1,"form-control","col-sm-7"],["class","error",4,"ngIf"],["formControlName","schoolAddress",1,"form-control","col-sm-7"],["type","text","formControlName","location","required","",1,"form-control","col-sm-7"],["type","number","formControlName","boys","required","",1,"form-control","col-sm-7",3,"ngModel","change","ngModelChange"],["type","number","formControlName","girls","required","",1,"form-control","col-sm-7",3,"ngModel","change","ngModelChange"],["type","number","formControlName","total","required","",1,"form-control","col-sm-7",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"error"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h4",1),s._uU(2),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){return i.activeModal.dismiss("Cross click")}),s.TgZ(4,"span",3),s._uU(5,"\xd7"),s.qZA()()(),s.TgZ(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),s._uU(12,"District name"),s.qZA(),s._UZ(13,"input",10),s.qZA(),s.TgZ(14,"div",8)(15,"label",9),s._uU(16,"School name"),s.qZA(),s._UZ(17,"input",11),s.YNc(18,phe,4,0,"p",12),s.qZA(),s.TgZ(19,"div",8)(20,"label",9),s._uU(21,"School Address"),s.qZA(),s._UZ(22,"textarea",13),s.qZA(),s.TgZ(23,"div",8)(24,"label",9),s._uU(25,"Location"),s.qZA(),s._UZ(26,"input",14),s.YNc(27,mhe,4,0,"p",12),s.qZA(),s.TgZ(28,"div",8)(29,"label",9),s._uU(30,"Boys"),s.qZA(),s.TgZ(31,"input",15),s.NdJ("change",function(){return i.addTotal()})("ngModelChange",function(o){return i.boys=o}),s.qZA(),s.YNc(32,ghe,4,0,"p",12),s.qZA(),s.TgZ(33,"div",8)(34,"label",9),s._uU(35,"Girls"),s.qZA(),s.TgZ(36,"input",16),s.NdJ("change",function(){return i.addTotal()})("ngModelChange",function(o){return i.girls=o}),s.qZA(),s.YNc(37,_he,4,0,"p",12),s.qZA(),s.TgZ(38,"div",8)(39,"label",9),s._uU(40,"Total"),s.qZA(),s.TgZ(41,"input",17),s.NdJ("ngModelChange",function(o){return i.total=o}),s.qZA(),s.YNc(42,vhe,4,0,"p",12),s.qZA()()()()(),s.TgZ(43,"div",18)(44,"button",19),s.NdJ("click",function(){return i.submitSchool()}),s._uU(45,"Submit"),s.qZA(),s.TgZ(46,"button",20),s.NdJ("click",function(){return i.activeModal.close("Close click")}),s._uU(47,"Close"),s.qZA()(),s.TgZ(48,"ngx-spinner",21)(49,"p",22),s._uU(50,"Saving..."),s.qZA()()),2&e&&(s.xp6(2),s.Oqu(i.modal_title),s.xp6(5),s.Q6J("formGroup",i.schoolForm),s.xp6(6),s.s9C("value",i.district_name),s.xp6(5),s.Q6J("ngIf",(null==i.schoolName?null:i.schoolName.touched)&&(null==i.schoolName?null:i.schoolName.invalid)),s.xp6(9),s.Q6J("ngIf",(null==i.location?null:i.location.touched)&&(null==i.location?null:i.location.invalid)),s.xp6(4),s.Q6J("ngModel",i.boys),s.xp6(1),s.Q6J("ngIf",(null==i.boys?null:i.boys.touched)&&(null==i.boys?null:i.boys.invalid)),s.xp6(4),s.Q6J("ngModel",i.girls),s.xp6(1),s.Q6J("ngIf",(null==i.girls?null:i.girls.touched)&&(null==i.girls?null:i.girls.invalid)),s.xp6(4),s.Q6J("ngModel",i.total),s.xp6(1),s.Q6J("ngIf",(null==i.total?null:i.total.touched)&&(null==i.total?null:i.total.invalid)))},dependencies:[kt,eo,N,rg,hs,Hr,da,Jr,Fo,fm]}),n})();function yhe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",16)(1,"p",17),s._uU(2,"No School added yet!"),s.qZA(),s.TgZ(3,"button",18),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.openAdd())}),s._uU(4,"Add School"),s.qZA()()}}function bhe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td",23)(6,"span",24),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.openEdit(o))}),s._uU(7,"Edit"),s.qZA(),s.TgZ(8,"span",25),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.deleteSchool(o))}),s._uU(9,"Delete"),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.schoolName),s.xp6(2),s.Oqu(e.schoolAddress)}}const xhe=function(n){return{itemsPerPage:10,currentPage:n}};function Che(n,t){if(1&n&&(s.TgZ(0,"div",19)(1,"table",20)(2,"thead")(3,"tr")(4,"th"),s._uU(5,"School Name"),s.qZA(),s.TgZ(6,"th"),s._uU(7,"Address"),s.qZA(),s.TgZ(8,"th",21),s._uU(9,"#"),s.qZA()()(),s.TgZ(10,"tbody"),s.YNc(11,bhe,10,2,"tr",22),s.ALo(12,"paginate"),s.qZA()()()),2&n){const e=s.oxw();s.xp6(11),s.Q6J("ngForOf",s.xi3(12,1,e.School,s.VKq(4,xhe,e.p)))}}let W$,The=(()=>{class n{constructor(e,i,r){this.authService=e,this.schoolService=i,this.modalService=r,this.p=1,this.School=[],this.hideWhenNoSchool=!1,this.noData=!1,this.preLoad=!0,this.district_name=""}ngOnInit(){this.district_name=this.authService.getDistrict(),this.getSchool()}getSchool(){this.dataStatus(),this.schoolService.getSchoolList(this.district_name).snapshotChanges().subscribe(i=>{this.School=[],i.forEach(r=>{let o={$key:r.key,...r.payload.toJSON()};this.School.push(o)})})}dataStatus(){this.schoolService.getSchoolList(this.district_name).valueChanges().subscribe(e=>{e.length<=0?(this.hideWhenNoSchool=!1,this.noData=!0):(this.hideWhenNoSchool=!0,this.noData=!1)})}openAdd(){const e=this.modalService.open(BF,{backdrop:!1,keyboard:!1});e.componentInstance.modal_title="Add School",e.componentInstance.district_name=this.district_name}openEdit(e){}deleteSchool(e){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wi),s.Y36(jc),s.Y36(pa))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-list-school-moderator"]],decls:25,vars:3,consts:[[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"m-0"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"btn","btn-primary",3,"click"],[1,"content"],[1,"pricing-header","mx-auto"],["class","no-data text-center",4,"ngIf"],["class","table-responsive",4,"ngIf"],[3,"pageChange"],[1,"no-data","text-center"],[1,"nodata-mgs"],[1,"btn","btn-success",3,"click"],[1,"table-responsive"],[1,"table","table-bordered"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"text-center","action-block"],[1,"mr-2","btn","btn-outline-primary","btn-sm",3,"click"],[1,"btn","btn-outline-danger","btn-sm",3,"click"]],template:function(e,i){1&e&&(s._UZ(0,"app-header")(1,"app-sidebar"),s.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h1",5),s._uU(8),s.qZA()(),s.TgZ(9,"div",4)(10,"ol",6)(11,"li",7)(12,"a",8),s._uU(13,"Home"),s.qZA()(),s.TgZ(14,"li",9),s._uU(15,"School"),s.qZA(),s.TgZ(16,"li",7)(17,"button",10),s.NdJ("click",function(){return i.openAdd()}),s._uU(18,"Add"),s.qZA()()()()()()(),s.TgZ(19,"section",11)(20,"div",12),s.YNc(21,yhe,5,0,"div",13),s.YNc(22,Che,13,6,"div",14),s.TgZ(23,"pagination-controls",15),s.NdJ("pageChange",function(o){return i.p=o}),s.qZA()()()(),s._UZ(24,"app-footer")),2&e&&(s.xp6(8),s.hij("School list under ",i.district_name," District"),s.xp6(13),s.Q6J("ngIf",i.noData),s.xp6(1),s.Q6J("ngIf",i.hideWhenNoSchool))},dependencies:[Gt,kt,Yu,lo,co,uo,Xa]}),n})();try{W$=typeof Intl<"u"&&Intl.v8BreakIterator}catch{W$=!1}function J$(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Q$(n,t=xl){return(0,Si.e)((e,i)=>{let r=null,o=null,a=null;const u=()=>{if(r){r.unsubscribe(),r=null;const m=o;o=null,i.next(m)}};function f(){const m=a+n,v=t.now();if(v<m)return r=this.schedule(void 0,m-v),void i.add(r);u()}e.subscribe((0,Ci.x)(i,m=>{o=m,a=t.now(),r||(r=t.schedule(f,n),i.add(r))},()=>{u(),i.complete()},void 0,()=>{o=r=null}))})}class Whe extends class qhe{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new sn.x,this._typeaheadSubscription=Lo.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new sn.x,this.change=new sn.x,t instanceof s.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Fi(e=>this._pressedLetters.push(e)),Q$(t),bn(()=>this._pressedLetters.length>0),(0,Nt.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,a=i[o];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||J$(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}const tfe=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function nfe(){return(0,s.f3M)(se)}}),ife=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let sfe=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function rfe(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?ife.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(tfe,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ofe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function ST(n){return null!=n&&"false"!=`${n}`}function cfe(n,t){1&n&&s.Hsn(0)}const ufe=["*"];let dfe=(()=>{class n{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),n})(),n5=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkStepLabel",""]]}),n})(),hfe=0;const r5=new s.OlP("STEPPER_GLOBAL_OPTIONS");let s5=(()=>{class n{constructor(e,i){this._stepper=e,this.interacted=!1,this.interactedStream=new s.vpe,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=i||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}get editable(){return this._editable}set editable(e){this._editable=ST(e)}get optional(){return this._optional}set optional(e){this._optional=ST(e)}get completed(){return this._completedOverride??this._getDefaultCompleted()}set completed(e){this._completedOverride=ST(e)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError??this._getDefaultError()}set hasError(e){this._customError=ST(e)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??null!=this._customError}}return n.\u0275fac=function(e){return new(e||n)(s.Y36((0,s.Gpc)(()=>Qk)),s.Y36(r5,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-step"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,n5,5),2&e){let o;s.iGM(o=s.CRH())&&(i.stepLabel=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(s.Rgc,7),2&e){let r;s.iGM(r=s.CRH())&&(i.content=r.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state",editable:"editable",optional:"optional",completed:"completed",hasError:"hasError"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[s.TTD],ngContentSelectors:ufe,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.YNc(0,cfe,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),n})(),Qk=(()=>{class n{constructor(e,i,r){this._dir=e,this._changeDetectorRef=i,this._elementRef=r,this._destroyed=new sn.x,this.steps=new s.n_E,this._sortedHeaders=new s.n_E,this._linear=!1,this._selectedIndex=0,this.selectionChange=new s.vpe,this._orientation="horizontal",this._groupId=hfe++}get linear(){return this._linear}set linear(e){this._linear=ST(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const i=function afe(n,t=0){return function lfe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}(e);this.steps&&this._steps?(this._isValidIndex(i),this.selected?._markAsInteracted(),this._selectedIndex!==i&&!this._anyControlsInvalidOrPending(i)&&(i>=this._selectedIndex||this.steps.toArray()[i].editable)&&this._updateSelectedItemIndex(i)):this._selectedIndex=i}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===e)}ngAfterContentInit(){this._steps.changes.pipe(Tl(this._steps),ni(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(i=>i._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe(Tl(this._stepHeader),ni(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((i,r)=>i._elementRef.nativeElement.compareDocumentPosition(r._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new Whe(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:At()).pipe(Tl(this._layoutDirection()),ni(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){const i=e-this._selectedIndex;return i<0?"rtl"===this._layoutDirection()?"next":"previous":i>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(e,i="number"){const r=this.steps.toArray()[e],o=this._isCurrentStep(e);return r._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(r,o):this._getGuidelineLogic(r,o,i)}_getDefaultIndicatorLogic(e,i){return e._showError()&&e.hasError&&!i?"error":!e.completed||i?"number":e.editable?"edit":"done"}_getGuidelineLogic(e,i,r="number"){return e._showError()&&e.hasError&&!i?"error":e.completed&&!i?"done":e.completed&&i?r:e.editable&&i?"edit":r}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){const i=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:i[e],previouslySelectedStep:i[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this._stateChanged()}_onKeydown(e){const i=J$(e),r=e.keyCode,o=this._keyManager;null==o.activeItemIndex||i||32!==r&&13!==r?o.onKeydown(e):(this.selectedIndex=o.activeItemIndex,e.preventDefault())}_anyControlsInvalidOrPending(e){return!!(this._linear&&e>=0)&&this.steps.toArray().slice(0,e).some(i=>{const r=i.stepControl;return(r?r.invalid||r.pending||!i.interacted:!i.completed)&&!i.optional&&!i._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const e=this._elementRef.nativeElement,i=function She(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}();return e===i||e.contains(i)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(sfe,8),s.Y36(s.sBO),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkStepper",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,s5,5),s.Suo(r,dfe,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._steps=o),s.iGM(o=s.CRH())&&(i._stepHeader=o)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),n})(),o5=(()=>{class n{constructor(e){this._stepper=e,this.type="submit"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Qk))},n.\u0275dir=s.lG2({type:n,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._stepper.next()}),2&e&&s.Ikx("type",i.type)},inputs:{type:"type"}}),n})(),a5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ofe]}),n})(),HF=(()=>{class n{constructor(e){this.fb=e,this.stepOneForm=e.group({})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(to))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-page1"]],inputs:{imgProfile:"imgProfile",fatherName:"fatherName",districtName:"districtName",dob:"dob",caste:"caste",schoolName:"schoolName",studentName:"studentName"},decls:44,vars:11,consts:[[1,"container"],[1,"container-fluid"],[1,"text-center"],[1,"card","card-primary","card-outline"],[1,"card-body","box-profile"],[3,"formGroup"],["id","imgProfile",1,"profile-user-img","img-fluid","img-circle","img-thumbnail",3,"src"],[1,"list-group","list-group-unbordered","mb-3"],[1,"list-group-item"],[1,"float-left","pl-lg-5","pl-md-5"],[1,"float-right","pr-lg-5","pr-md-5"],[1,"float-right","pr-md-5","pr-lg-5"],[1,"card-footer"],[1,"button"],["cdkStepperNext","",1,"btn","btn-outline-primary"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5)(6,"div"),s._UZ(7,"img",6),s.qZA(),s.TgZ(8,"ul",7)(9,"li",8)(10,"b",9),s._uU(11,"Name"),s.qZA(),s.TgZ(12,"a",10),s._uU(13),s.qZA()(),s.TgZ(14,"li",8)(15,"b",9),s._uU(16,"Father's Name"),s.qZA(),s.TgZ(17,"a",10),s._uU(18),s.qZA()(),s.TgZ(19,"li",8)(20,"b",9),s._uU(21,"School"),s.qZA(),s.TgZ(22,"a",10),s._uU(23),s.qZA()(),s.TgZ(24,"li",8)(25,"b",9),s._uU(26,"District"),s.qZA(),s.TgZ(27,"a",11),s._uU(28),s.qZA()(),s.TgZ(29,"li",8)(30,"b",9),s._uU(31,"Date of birth"),s.qZA(),s.TgZ(32,"a",11),s._uU(33),s.ALo(34,"date"),s.qZA()(),s.TgZ(35,"li",8)(36,"b",9),s._uU(37,"SC/ST"),s.qZA(),s.TgZ(38,"a",10),s._uU(39),s.qZA()()()()(),s.TgZ(40,"div",12)(41,"div",13)(42,"button",14),s._uU(43,"Next"),s.qZA()()()()()()()),2&e&&(s.xp6(5),s.Q6J("formGroup",i.stepOneForm),s.xp6(2),s.s9C("src",i.imgProfile,s.LSH),s.xp6(6),s.Oqu(i.studentName),s.xp6(5),s.Oqu(i.fatherName),s.xp6(5),s.Oqu(i.schoolName),s.xp6(5),s.Oqu(i.districtName),s.xp6(5),s.Oqu(s.xi3(34,8,i.dob,"dd-MMM-yyyy")),s.xp6(6),s.Oqu(i.caste))},dependencies:[eo,Hr,Jr,o5,Cs]}),n})();const ffe=function(n,t,e){return{active:n,completed:t,done:e}};function pfe(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"li",6),s.NdJ("click",function(){const o=s.CHM(e).index,a=s.oxw();return s.KtG(a.selectedIndex=o)}),s.ynx(2,7),s.Hsn(3),s.Hsn(4,1),s.BQk(),s.qZA(),s.BQk()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.xp6(1),s.Q6J("ngClass",s.kEZ(2,ffe,r.selectedIndex===i,e.completed&&i<r.selectedIndex,"done"===e.state&&i===r.selectedIndex)),s.xp6(1),s.Q6J("ngTemplateOutlet",e.stepLabel.template)}}function mfe(n,t){if(1&n&&(s.TgZ(0,"div",8),s.GkF(1,7),s.qZA()),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.ekj("active",r.selectedIndex===i),s.Q6J("@stepTransition",r._getAnimationDirection(i)),s.xp6(1),s.Q6J("ngTemplateOutlet",e.content)}}const gfe=[[["",8,"step-bullet"]],[["",8,"step-title"]]],_fe=[".step-bullet",".step-title"];let vfe=(()=>{class n extends Qk{ngOnInit(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-stepper"]],features:[s._Bn([{provide:Qk,useExisting:n},{provide:r5,useValue:{displayDefaultIndicatorType:!1}}]),s.qOj],ngContentSelectors:_fe,decls:6,vars:2,consts:[[1,"stepper"],[1,"stepper-header"],[1,"steps"],[4,"ngFor","ngForOf"],[1,"stepper-body"],["class","content",3,"active",4,"ngFor","ngForOf"],[1,"step",3,"ngClass","click"],[3,"ngTemplateOutlet"],[1,"content"]],template:function(e,i){1&e&&(s.F$t(gfe),s.TgZ(0,"div",0)(1,"div",1)(2,"ol",2),s.YNc(3,pfe,5,6,"ng-container",3),s.qZA()(),s.TgZ(4,"div",4),s.YNc(5,mfe,2,4,"div",5),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngForOf",i.steps),s.xp6(2),s.Q6J("ngForOf",i._steps))},dependencies:[Or,Gt,Pr],styles:['[_nghost-%COMP%]{display:block;overflow:hidden}.stepper-header[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]{width:100%;list-style:none;display:inline-flex;align-items:center;margin:0 auto}.stepper-header[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{text-align:center;font-size:1em}.stepper-header[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]     .step .step-bullet{position:relative;display:inline-flex;justify-content:center;align-items:center;height:40px;width:40px;background-color:#b3babe;border-radius:50%;color:#fff;font-size:1.3rem;text-align:center;text-decoration:none;cursor:pointer}.stepper-header[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]     .step .step-title{position:absolute;right:0;bottom:-5px;left:0;margin:auto 0;height:0}.stepper-header[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]     .step.active .step-bullet{background-color:#306bff}.stepper-header[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]     .step.completed .step-bullet{background-color:#32e67f}.stepper-header[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]     .step.done .step-bullet{background-color:#32e67f}.stepper-body[_ngcontent-%COMP%]{margin:25px auto;padding:1rem}.stepper-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:not(.active){height:0;overflow:hidden}.step[_ngcontent-%COMP%]{position:relative;width:33.33%}.step[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:3px;background-color:#b3babe;top:50%;left:-50%;z-index:-1}.step[_ngcontent-%COMP%]:first-child:after{content:none}.step.completed[_ngcontent-%COMP%] + .step[_ngcontent-%COMP%]:after{background-color:#32e67f}'],data:{animation:[m_("stepTransition",[kf("previous",yr({transform:"translateX(-100%)",opacity:0})),kf("current",yr({transform:"translateX(0)",opacity:1})),kf("next",yr({transform:"translateX(100%)",opacity:0})),tl(":enter",el(0)),tl("previous => current",el("500ms cubic-bezier(0.35, 0, 0.25, 1)")),tl("next => current",el("500ms cubic-bezier(0.35, 0, 0.25, 1)"))])]}}),n})(),yfe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Qn,a5]}),n})(),bfe=(()=>{class n{constructor(e){this.fb=e,this.stepTwoForm=this.fb.group({})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(to))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-page2"]],inputs:{imgCert:"imgCert"},decls:12,vars:2,consts:[[1,"container"],[1,"container-fluid"],[1,"text-center"],[1,"card","card-primary","card-outline"],[1,"card-body","box-profile"],[3,"formGroup"],["id","imgCert",1,"img-fluid",3,"src"],[1,"card-footer"],[1,"button"],["cdkStepperNext","",1,"btn","btn-outline-primary"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5)(6,"div"),s._UZ(7,"img",6),s.qZA()()(),s.TgZ(8,"div",7)(9,"div",8)(10,"button",9),s._uU(11,"Next"),s.qZA()()()()()()()),2&e&&(s.xp6(5),s.Q6J("formGroup",i.stepTwoForm),s.xp6(2),s.s9C("src",i.imgCert,s.LSH))},dependencies:[eo,Hr,Jr,o5]}),n})(),xfe=(()=>{class n{constructor(e){this.fb=e,this.approveItem=new s.vpe,this.rejectItem=new s.vpe,this.stepThreeForm=this.fb.group({remarks:[""]})}ngOnInit(){}approveData(){this.approveItem.emit(this.stepThreeForm.controls.remarks.value)}rejectData(){this.rejectItem.emit(this.stepThreeForm.controls.remarks.value)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(to))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-page3"]],outputs:{approveItem:"approveItem",rejectItem:"rejectItem"},decls:13,vars:1,consts:[[1,"container"],[1,"container-fluid"],[1,"text-center"],[1,"card","card-primary","card-outline"],[1,"card-body"],[3,"formGroup"],[1,"form-group"],["formControlName","remarks",1,"form-control"],[1,"card-footer","d-flex","justify-content-center"],[1,"btn","btn-outline-primary",3,"click"],[1,"btn","btn-outline-warning",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5)(6,"div",6),s._UZ(7,"textarea",7),s.qZA()()(),s.TgZ(8,"div",8)(9,"button",9),s.NdJ("click",function(){return i.approveData()}),s._uU(10,"Approve"),s.qZA(),s.TgZ(11,"button",10),s.NdJ("click",function(){return i.rejectData()}),s._uU(12,"Reject"),s.qZA()()()()()()),2&e&&(s.xp6(5),s.Q6J("formGroup",i.stepThreeForm))},dependencies:[eo,N,hs,Hr,Jr,Fo]}),n})();function Cfe(n,t){1&n&&(s.TgZ(0,"div",16),s._uU(1,"1"),s.qZA(),s.TgZ(2,"div",17),s._uU(3,"Personal Details"),s.qZA())}function Tfe(n,t){1&n&&(s.TgZ(0,"div",16),s._uU(1,"2"),s.qZA(),s.TgZ(2,"div",17),s._uU(3,"Document"),s.qZA())}function wfe(n,t){1&n&&(s.TgZ(0,"div",16),s._uU(1,"3"),s.qZA(),s.TgZ(2,"div",17),s._uU(3,"Approve"),s.qZA())}let Dfe=(()=>{class n{constructor(e,i,r,o){this.activeModal=e,this.studentService=i,this.step1=r,this.toastr=o,this.imgProfile1="",this.imgCert1="",this.studentName="",this.fatherName="",this.schoolName="",this.districtName="",this.caste=""}ngOnInit(){this.studentService.getStudentIndividual(this.student_uid).snapshotChanges().subscribe(e=>{this.Student=e.payload.toJSON(),this.imgProfile1=this.Student.photoURL,this.imgCert1=this.Student.certURL,this.studentName=this.Student.studentName,this.schoolName=this.Student.schoolName,this.districtName=this.Student.districtName,this.dob=this.Student.dob,this.caste=this.Student.caste,this.fatherName=this.Student.fatherName})}submitApproval(e){this.studentService.UpdateApproval(this.student_uid,e,!0),this.toastr.success(this.studentName+" successfully Approved!"),this.activeModal.close()}submitReject(e){this.studentService.UpdateApproval(this.student_uid,e,!1),this.toastr.success(this.studentName+" successfully Rejected!"),this.activeModal.close()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(no),s.Y36(ba),s.Y36(HF),s.Y36(Zo))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-set-approved"]],inputs:{modal_title:"modal_title",student_uid:"student_uid"},decls:22,vars:16,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"linear"],["cdkStepper",""],[3,"stepControl","optional"],["cdkStepLabel",""],[3,"imgProfile","studentName","fatherName","schoolName","districtName","dob","caste"],["stepOne",""],[3,"imgCert"],["stepTwo",""],[3,"approveItem","rejectItem"],["stepThree",""],[1,"modal-footer"],[1,"step-bullet"],[1,"step-title"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0)(1,"h4",1),s._uU(2),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){return i.activeModal.dismiss("Cross click")}),s.TgZ(4,"span",3),s._uU(5,"\xd7"),s.qZA()()(),s.TgZ(6,"div",4)(7,"ng-stepper",5,6)(9,"cdk-step",7),s.YNc(10,Cfe,4,0,"ng-template",8),s._UZ(11,"app-page1",9,10),s.qZA(),s.TgZ(13,"cdk-step",7),s.YNc(14,Tfe,4,0,"ng-template",8),s._UZ(15,"app-page2",11,12),s.qZA(),s.TgZ(17,"cdk-step",7),s.YNc(18,wfe,4,0,"ng-template",8),s.TgZ(19,"app-page3",13,14),s.NdJ("approveItem",function(o){return i.submitApproval(o)})("rejectItem",function(o){return i.submitReject(o)}),s.qZA()()()(),s._UZ(21,"div",15)),2&e){const r=s.MAs(12),o=s.MAs(16),a=s.MAs(20);s.xp6(2),s.Oqu(i.modal_title),s.xp6(5),s.Q6J("linear",!0),s.xp6(2),s.Q6J("stepControl",r.stepOneForm)("optional",!1),s.xp6(2),s.Q6J("imgProfile",i.imgProfile1)("studentName",i.studentName)("fatherName",i.fatherName)("schoolName",i.schoolName)("districtName",i.districtName)("dob",i.dob)("caste",i.caste),s.xp6(2),s.Q6J("stepControl",o.stepTwoForm)("optional",!0),s.xp6(2),s.Q6J("imgCert",i.imgCert1),s.xp6(2),s.Q6J("stepControl",a.stepThreeForm)("optional",!1)}},dependencies:[s5,n5,vfe,HF,bfe,xfe]}),n})();function Sfe(n,t){1&n&&(s.TgZ(0,"div",15)(1,"p",16),s._uU(2,"No Student added yet!"),s.qZA()())}function Afe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td",21)(6,"span",22),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.setApproval(o))}),s._uU(7,"Confirm/Approve"),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.studentName),s.xp6(2),s.Oqu(e.schoolName)}}const Efe=function(n){return{itemsPerPage:10,currentPage:n}};function kfe(n,t){if(1&n&&(s.TgZ(0,"div",17)(1,"table",18)(2,"thead")(3,"tr")(4,"th"),s._uU(5,"Student Name"),s.qZA(),s.TgZ(6,"th"),s._uU(7,"School"),s.qZA(),s.TgZ(8,"th",19),s._uU(9,"#"),s.qZA()()(),s.TgZ(10,"tbody"),s.YNc(11,Afe,8,2,"tr",20),s.ALo(12,"paginate"),s.qZA()()()),2&n){const e=s.oxw();s.xp6(11),s.Q6J("ngForOf",s.xi3(12,1,e.Student,s.VKq(4,Efe,e.p)))}}let Mfe=(()=>{class n{constructor(e,i,r,o){this.authService=e,this.studentService=i,this.router=r,this.modalService=o,this.p=1,this.Student=[],this.hideWhenNoStudent=!1,this.noData=!1,this.preLoad=!0}ngOnInit(){this.dataStatus(),"Administrator"==this.authService.getRole()||"Moderator"==this.authService.getRole()?this.studentService.getUnApprovedList().snapshotChanges().subscribe(i=>{this.Student=[],i.forEach(r=>{let o={$key:r.key,...r.payload.toJSON()};o.districtName==this.authService.getDistrict()&&this.Student.push(o)})}):this.router.navigateByUrl("/")}dataStatus(){this.studentService.getUnApprovedList().valueChanges().subscribe(e=>{e.length<=0?(this.hideWhenNoStudent=!1,this.noData=!0):(this.hideWhenNoStudent=!0,this.noData=!1)})}setApproval(e){const i=this.modalService.open(Dfe,{size:"lg",backdrop:!1,keyboard:!1});i.componentInstance.modal_title="Approve",i.componentInstance.student_uid=e.$key}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wi),s.Y36(ba),s.Y36(Bi),s.Y36(pa))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-list-unapproved"]],decls:23,vars:2,consts:[[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"m-0"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"content"],[1,"pricing-header","mx-auto"],["class","no-data text-center",4,"ngIf"],["class","table-responsive",4,"ngIf"],[3,"pageChange"],[1,"no-data","text-center"],[1,"nodata-mgs"],[1,"table-responsive"],[1,"table","table-bordered"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"text-center","action-block"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(e,i){1&e&&(s._UZ(0,"app-header")(1,"app-sidebar"),s.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h1",5),s._uU(8,"Approval"),s.qZA()(),s.TgZ(9,"div",4)(10,"ol",6)(11,"li",7)(12,"a",8),s._uU(13,"Home"),s.qZA()(),s.TgZ(14,"li",9),s._uU(15,"Approval"),s.qZA()()()()()(),s.TgZ(16,"section",10)(17,"div",2)(18,"div",11),s.YNc(19,Sfe,3,0,"div",12),s.YNc(20,kfe,13,6,"div",13),s.TgZ(21,"pagination-controls",14),s.NdJ("pageChange",function(o){return i.p=o}),s.qZA()()()()(),s._UZ(22,"app-footer")),2&e&&(s.xp6(19),s.Q6J("ngIf",i.noData),s.xp6(1),s.Q6J("ngIf",i.hideWhenNoStudent))},dependencies:[Gt,kt,Yu,lo,co,uo,Xa]}),n})();function Ife(n,t){if(1&n&&(s.TgZ(0,"tr")(1,"td",25),s._uU(2),s.qZA(),s.TgZ(3,"td",25),s._uU(4),s.qZA(),s.TgZ(5,"td",25),s._uU(6),s.ALo(7,"date"),s.qZA(),s.TgZ(8,"td",25),s._uU(9),s.ALo(10,"date"),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.schoolName),s.xp6(2),s.Oqu(e.districtName),s.xp6(2),s.Oqu(s.xi3(7,4,e.startDate,"dd-MMM-yyyy")),s.xp6(3),s.Oqu(s.xi3(10,7,e.transferDate,"dd-MMM-yyyy"))}}const Nfe=function(n){return{itemsPerPage:10,currentPage:n}};function Lfe(n,t){if(1&n&&(s.TgZ(0,"div",2)(1,"div",23)(2,"table",24)(3,"thead")(4,"tr")(5,"th",25),s._uU(6,"School Name"),s.qZA(),s.TgZ(7,"th",25),s._uU(8,"District Name"),s.qZA(),s.TgZ(9,"th",25),s._uU(10,"From"),s.qZA(),s.TgZ(11,"th",25),s._uU(12,"To"),s.qZA()()(),s.TgZ(13,"tbody"),s.YNc(14,Ife,11,10,"tr",26),s.ALo(15,"paginate"),s.qZA()()()()),2&n){const e=s.oxw();s.xp6(14),s.Q6J("ngForOf",s.xi3(15,1,e.Player,s.VKq(4,Nfe,e.p)))}}let Ofe=(()=>{class n{constructor(e,i){this.playerService=e,this.route=i,this.Player=[],this.p=1,this.studentName="",this.photoURL="",this.schoolName="",this.fatherName="",this.districtName="",this.caste="",this.ifHistory=!1}ngOnInit(){this.route.paramMap.subscribe(e=>{this.loadData(e),this.dataStatus(e)})}loadData(e){this.playerService.getStudentIndividual(e.get("id")).valueChanges().subscribe(r=>{this.studentName=r.studentName,this.photoURL=r.photoURL,this.schoolName=r.schoolName,this.fatherName=r.fatherName,this.districtName=r.districtName,this.dob=r.dob,this.caste=r.caste})}loadHistory(e){this.playerService.getTransferHistory(e.get("id")).snapshotChanges().subscribe(i=>{this.Player=[],i.forEach(r=>{let o=r.payload.toJSON();this.Player.push(o)})})}dataStatus(e){this.playerService.getTransferHistory(e.get("id")).valueChanges().subscribe(i=>{i.length<=0?this.ifHistory=!1:(this.ifHistory=!0,this.loadHistory(e))})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ba),s.Y36(Df))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-view-player"]],decls:51,vars:11,consts:[[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"m-0"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"content"],[1,"text-center"],[1,"card","card-primary","card-outline"],[1,"card-body","box-profile"],["alt","",1,"profile-user-img","img-fluid","img-circle",3,"src"],[1,"profile-username","text-center"],[1,"text-muted","text-center"],[1,"list-group","list-group-unbordered","mb-3"],[1,"list-group-item"],[1,"float-left","pl-lg-5","pl-md-5"],[1,"float-right","pr-lg-5","pr-md-5"],[1,"float-right","pr-md-5","pr-lg-5"],["class","container-fluid",4,"ngIf"],[1,"table-responsive"],[1,"table","table-bordered"],["scope","row"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(s._UZ(0,"app-header")(1,"app-sidebar"),s.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h1",5),s._uU(8,"Student Profile"),s.qZA()(),s.TgZ(9,"div",4)(10,"ol",6)(11,"li",7)(12,"a",8),s._uU(13,"Home"),s.qZA()(),s.TgZ(14,"li",9),s._uU(15,"Student"),s.qZA()()()()()(),s.TgZ(16,"section",10)(17,"div",2)(18,"div",11)(19,"div",12)(20,"div",13)(21,"div",11),s._UZ(22,"img",14),s.qZA(),s.TgZ(23,"h3",15),s._uU(24),s.qZA(),s.TgZ(25,"p",16),s._uU(26),s.qZA(),s.TgZ(27,"ul",17)(28,"li",18)(29,"b",19),s._uU(30,"Father's/Mother's Name"),s.qZA(),s.TgZ(31,"a",20),s._uU(32),s.qZA()(),s.TgZ(33,"li",18)(34,"b",19),s._uU(35,"District"),s.qZA(),s.TgZ(36,"a",21),s._uU(37),s.qZA()(),s.TgZ(38,"li",18)(39,"b",19),s._uU(40,"Date of birth"),s.qZA(),s.TgZ(41,"a",21),s._uU(42),s.ALo(43,"date"),s.qZA()(),s.TgZ(44,"li",18)(45,"b",19),s._uU(46,"SC/ST"),s.qZA(),s.TgZ(47,"a",20),s._uU(48),s.qZA()()()()()()(),s.YNc(49,Lfe,16,6,"div",22),s.qZA()(),s._UZ(50,"app-footer")),2&e&&(s.xp6(22),s.s9C("src",i.photoURL,s.LSH),s.xp6(2),s.Oqu(i.studentName),s.xp6(2),s.Oqu(i.schoolName),s.xp6(6),s.Oqu(i.fatherName),s.xp6(5),s.Oqu(i.districtName),s.xp6(5),s.Oqu(s.xi3(43,8,i.dob,"dd-MMM-yyyy")),s.xp6(6),s.Oqu(i.caste),s.xp6(1),s.Q6J("ngIf",i.ifHistory))},dependencies:[Gt,kt,lo,co,uo,Cs,Xa]}),n})(),Xk=(()=>{class n{constructor(e){this.db=e}AddPosition(e){this.positionsRef.push({positionName:e.positionName,enteredBy:e.enteredBy})}getPosition(e){return this.positionRef=this.db.object("position/"+e),this.positionRef}getPositionAll(){return this.positionsRef=this.db.list("position"),this.positionsRef}updatePosition(e){this.positionRef.update({positionName:e.positionName,enteredBy:e.enteredBy})}deletePosition(e){this.positionRef=this.db.object("position/"+e),this.positionRef.remove()}AddPositionHistory(e){this.positionsRef=this.db.list("position-history"),this.positionsRef.push({positionName:e.positionName,enteredBy:e.enteredBy})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Rfe(n,t){1&n&&(s.TgZ(0,"p",14)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please enter Position"),s.qZA())}let Pfe=(()=>{class n{constructor(e,i,r,o){this.activeModal=e,this.positionService=i,this.fb=r,this.toastr=o}ngOnInit(){const e=JSON.parse(localStorage.getItem("user"));this.positionForm=this.fb.group({positionName:["",[bt.required]],enteredBy:e[0].email})}submitPosition(){this.positionService.AddPosition(this.positionForm.value),this.toastr.success(this.positionForm.controls.positionName.value+" successfully added!"),this.ResetForm(),this.activeModal.close()}get positionName(){return this.positionForm.get("positionName")}ResetForm(){this.positionForm.reset()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(no),s.Y36(Xk),s.Y36(to),s.Y36(Zo))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-position"]],inputs:{modal_title:"modal_title"},decls:21,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"col-md-12","mb-3"],["type","text","formControlName","positionName","required","",1,"form-control"],["class","error",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"error"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h4",1),s._uU(2),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){return i.activeModal.dismiss("Cross click")}),s.TgZ(4,"span",3),s._uU(5,"\xd7"),s.qZA()()(),s.TgZ(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"div",6)(11,"div",8)(12,"label"),s._uU(13,"Position name"),s.qZA(),s._UZ(14,"input",9),s.YNc(15,Rfe,4,0,"p",10),s.qZA()()()()()(),s.TgZ(16,"div",11)(17,"button",12),s.NdJ("click",function(){return i.submitPosition()}),s._uU(18,"Submit"),s.qZA(),s.TgZ(19,"button",13),s.NdJ("click",function(){return i.activeModal.close("Close click")}),s._uU(20,"Close"),s.qZA()()),2&e&&(s.xp6(2),s.Oqu(i.modal_title),s.xp6(5),s.Q6J("formGroup",i.positionForm),s.xp6(8),s.Q6J("ngIf",(null==i.positionName?null:i.positionName.touched)&&(null==i.positionName?null:i.positionName.invalid)))},dependencies:[kt,eo,N,hs,Hr,da,Jr,Fo]}),n})(),Ffe=(()=>{class n{constructor(e){this.activeModal=e}ngOnInit(){}decline(){this.activeModal.close(!1)}accept(){this.activeModal.close(!0)}dismiss(){this.activeModal.dismiss()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(no))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-confirmation-dialog"]],inputs:{title:"title",message:"message",btnOkText:"btnOkText",btnCancelText:"btnCancelText"},decls:13,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h4",1),s._uU(2),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){return i.dismiss()}),s.TgZ(4,"span",3),s._uU(5,"\xd7"),s.qZA()()(),s.TgZ(6,"div",4),s._uU(7),s.qZA(),s.TgZ(8,"div",5)(9,"button",6),s.NdJ("click",function(){return i.decline()}),s._uU(10),s.qZA(),s.TgZ(11,"button",7),s.NdJ("click",function(){return i.accept()}),s._uU(12),s.qZA()()),2&e&&(s.xp6(2),s.Oqu(i.title),s.xp6(5),s.hij(" ",i.message,"\n"),s.xp6(3),s.Oqu(i.btnCancelText),s.xp6(2),s.Oqu(i.btnOkText))}}),n})(),YF=(()=>{class n{constructor(e){this.modalService=e}confirm(e,i,r="OK",o="Cancel",a="sm"){var u=this.modalService.open(Ffe,{size:a,backdrop:!1,keyboard:!1});return u.componentInstance.title=e,u.componentInstance.message=i,u.componentInstance.btnOkText=r,u.componentInstance.btnCancelText=o,u.result}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pa))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Vfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",16)(1,"p",17),s._uU(2,"No Position added yet!"),s.qZA(),s.TgZ(3,"button",18),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.openAdd())}),s._uU(4,"Add Position"),s.qZA()()}}function Bfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td",23)(4,"span",24),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.openEdit(o))}),s._UZ(5,"i",25),s.qZA(),s.TgZ(6,"span",26),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.deletePosition(o))}),s._UZ(7,"i",27),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.positionName)}}const Ufe=function(n){return{itemsPerPage:10,currentPage:n}};function Hfe(n,t){if(1&n&&(s.TgZ(0,"div",19)(1,"table",20)(2,"thead")(3,"tr")(4,"th"),s._uU(5,"Position"),s.qZA(),s.TgZ(6,"th",21),s._uU(7,"#"),s.qZA()()(),s.TgZ(8,"tbody"),s.YNc(9,Bfe,8,1,"tr",22),s.ALo(10,"paginate"),s.qZA()()()),2&n){const e=s.oxw();s.xp6(9),s.Q6J("ngForOf",s.xi3(10,1,e.Position,s.VKq(4,Ufe,e.p)))}}let Yfe=(()=>{class n{constructor(e,i,r,o,a,u){this.authService=e,this.positionService=i,this.toastr=r,this.modalService=o,this.router=a,this.confirmationDialogService=u,this.p=1,this.Position=[],this.hideWhenNoPosition=!1,this.noData=!1,this.preLoad=!0}ngOnInit(){"Administrator"==this.authService.getRole()||"Moderator"==this.authService.getRole()?this.loadPosition():this.router.navigateByUrl("/")}loadPosition(){this.dataStatus(),this.positionService.getPositionAll().snapshotChanges().subscribe(i=>{this.Position=[],i.forEach(r=>{let o={$key:r.key,...r.payload.toJSON()};this.Position.push(o)})})}dataStatus(){this.positionService.getPositionAll().valueChanges().subscribe(e=>{e.length<=0?(this.hideWhenNoPosition=!1,this.noData=!0):(this.hideWhenNoPosition=!0,this.noData=!1)})}openAdd(){this.modalService.open(Pfe,{backdrop:!1,keyboard:!1}).componentInstance.modal_title="Add Position"}openEdit(e){}deletePosition(e){this.positionService.getPosition(e.$key).valueChanges().subscribe(i=>{this.PositionInd=i}),this.confirmationDialogService.confirm("Please confirm..","Do you really want to delete "+e.positionName+"?").then(i=>{i&&this.positionService.deletePosition(e.$key)}).catch(()=>console.log("dismissed"))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wi),s.Y36(Xk),s.Y36(Zo),s.Y36(pa),s.Y36(Bi),s.Y36(YF))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-list-position"]],decls:26,vars:2,consts:[[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"m-0"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"btn","btn-primary",3,"click"],[1,"content"],[1,"pricing-header","mx-auto"],["class","no-data text-center",4,"ngIf"],["class","table-responsive",4,"ngIf"],[3,"pageChange"],[1,"no-data","text-center"],[1,"nodata-mgs"],[1,"btn","btn-success",3,"click"],[1,"table-responsive"],[1,"table","table-bordered"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"text-center","action-block"],[1,"mr-2","btn","btn-outline-primary","btn-sm",3,"click"],[1,"fa","fa-edit"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"fa","fa-trash"]],template:function(e,i){1&e&&(s._UZ(0,"app-header")(1,"app-sidebar"),s.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h1",5),s._uU(8,"Position"),s.qZA()(),s.TgZ(9,"div",4)(10,"ol",6)(11,"li",7)(12,"a",8),s._uU(13,"Home"),s.qZA()(),s.TgZ(14,"li",9),s._uU(15,"Position"),s.qZA(),s.TgZ(16,"li",7)(17,"button",10),s.NdJ("click",function(){return i.openAdd()}),s._uU(18,"Add"),s.qZA()()()()()()(),s.TgZ(19,"section",11)(20,"div",2)(21,"div",12),s.YNc(22,Vfe,5,0,"div",13),s.YNc(23,Hfe,11,6,"div",14),s.TgZ(24,"pagination-controls",15),s.NdJ("pageChange",function(o){return i.p=o}),s.qZA()()()()(),s._UZ(25,"app-footer")),2&e&&(s.xp6(22),s.Q6J("ngIf",i.noData),s.xp6(1),s.Q6J("ngIf",i.hideWhenNoPosition))},dependencies:[Gt,kt,Yu,lo,co,uo,Xa]}),n})();class eM{constructor(t){this.file=t}}function jfe(n,t){if(1&n&&(s.TgZ(0,"option",43),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.s9C("ngValue",e.districtName),s.xp6(1),s.hij("",e.districtName," ")}}function Zfe(n,t){1&n&&(s.TgZ(0,"p",44)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please select District "),s.qZA())}function Gfe(n,t){if(1&n&&(s.TgZ(0,"option",45),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.s9C("value",e.$key),s.xp6(1),s.Oqu(e.schoolName)}}function $fe(n,t){1&n&&(s.TgZ(0,"p",44)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please enter Student Name "),s.qZA())}function qfe(n,t){1&n&&(s.TgZ(0,"p",44)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please enter Father Name "),s.qZA())}function Wfe(n,t){1&n&&(s.TgZ(0,"p",44)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please select Gender "),s.qZA())}function zfe(n,t){1&n&&(s.TgZ(0,"p",44)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please enter Date of Birth "),s.qZA())}function Kfe(n,t){1&n&&(s.TgZ(0,"p",44)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please select Caste "),s.qZA())}function Jfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",46)(1,"input",47),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onCheckboxChange(r))}),s.qZA(),s._uU(2),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("value",e.positionName),s.xp6(1),s.hij("",e.positionName," ")}}function Qfe(n,t){1&n&&(s.TgZ(0,"p",44)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Required "),s.qZA())}function Xfe(n,t){1&n&&(s.TgZ(0,"p",44)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Required "),s.qZA())}const epe=function(){return{isAnimated:!0,dateInputFormat:"DD/MMM/YYYY"}};let tpe=(()=>{class n{constructor(e,i,r,o,a,u,f,m,v){this.activeModal=e,this.distService=i,this.schoolService=r,this.playerService=o,this.positionService=a,this.fb=u,this.toastr=f,this.authService=m,this.SpinnerService=v,this.dateValue=new Date,this.District=[],this.School=[],this.Position=[],this.txt_photo="",this.txt_cert="",this.readOnlyControl=!1,this.checkboxChanged=!1,this.schoolChanged=!1,this.maxDate=new Date,this.maxDate.setDate(this.maxDate.getDate())}ngOnInit(){this.loadDistrict(),this.playerFormNew(),"Administrator"==this.authService.getRole()||this.getSchoolList(this.authService.getDistrict()),this.getPositionList()}loadDistrict(){this.distService.getDistrictAll().snapshotChanges().subscribe(i=>{this.District=[],i.forEach(r=>{let o=r.payload.toJSON();this.District.push(o),"All"!=this.dist_selected&&(this.readOnlyControl=!0)})})}playerFormNew(){this.dateValue=new Date(this.studentData.dob),this.playerForm=this.fb.group({studentName:[this.studentData.studentName,[bt.required]],fatherName:[this.studentData.fatherName,[bt.required]],districtName:["Administrator"==this.authService.getUserEmail()?"":this.authService.getDistrict(),[bt.required]],gender:[this.studentData.gender,[bt.required]],dob:[this.dateValue,[bt.required]],caste:[this.studentData.caste,[bt.required]],position:new og([]),enteredBy:this.authService.getUserEmail(),enteredDate:Date.now(),remarks:""})}changeDistrict(e){if(""!=e.target.value){var r=e.target.value.split(": ");this.playerForm.controls.schoolName.setValue(""),this.getSchoolList(r[1])}}getSchoolList(e){this.schoolService.getSchoolList(e).snapshotChanges().subscribe(r=>{this.School=[],r.forEach(o=>{let a={$key:o.key,...o.payload.toJSON()};this.School.push(a)})})}getSelectedSchool(e){this.schoolChanged=!0,this.txt_schoolName=e.target.options[e.target.options.selectedIndex].text,this.txt_schoolID=e.target.options[e.target.options.selectedIndex].value}getPositionList(){this.positionService.getPositionAll().snapshotChanges().subscribe(i=>{this.Position=[],i.forEach(r=>{let o=r.payload.toJSON();this.Position.push(o)})})}submitPlayer(){var e=this;return(0,ke.Z)(function*(){e.SpinnerService.show(),1==e.schoolChanged?(e.playerForm.addControl("schoolID",new Tt(e.txt_schoolID)),e.playerForm.addControl("schoolName",new Tt(e.txt_schoolName))):(e.playerForm.addControl("schoolID",new Tt(e.studentData.schoolID)),e.playerForm.addControl("schoolName",new Tt(e.studentData.schoolName))),e.playerForm.valid?yield e.addPhoto().finally(()=>{e.playerForm.addControl("photoURL",new Tt(e.txt_photo)),e.playerForm.addControl("certURL",new Tt(e.txt_cert)),e.playerService.updatePlayer(e.studentData.$key,e.playerForm.value,e.checkboxChanged),e.toastr.success(e.playerForm.controls.studentName.value+" successfully updated!"),e.ResetForm(),e.SpinnerService.hide(),e.activeModal.close()}):console.log(e.playerForm)})()}ResetForm(){this.playerForm.reset()}onCheckboxChange(e){this.checkboxChanged=!0;const i=this.playerForm.controls.position;if(e.target.checked)i.push(new Tt(e.target.value));else{const r=i.controls.findIndex(o=>o.value===e.target.value);i.removeAt(r)}}get studentName(){return this.playerForm.get("studentName")}get fatherName(){return this.playerForm.get("fatherName")}get districtName(){return this.playerForm.get("districtName")}get dob(){return this.playerForm.get("dob")}get caste(){return this.playerForm.get("caste")}get gender(){return this.playerForm.get("gender")}get photo(){return this.playerForm.get("photo")}get cert(){return this.playerForm.get("cert")}addPhoto(){var e=this;return(0,ke.Z)(function*(){var r=document.getElementById("photo");r.files[0]?(e.photoFileUpload=new eM(r.files[0]),yield e.playerService.pushFileToStorage(e.photoFileUpload,e.playerForm.controls.studentName.value,"Photo").then(m=>{e.txt_photo=m})):e.txt_photo=e.studentData.photoURL;var a=document.getElementById("cert");a.files[0]?(e.certFileUpload=new eM(a.files[0]),yield e.playerService.pushFileToStorage(e.certFileUpload,e.playerForm.controls.studentName.value,"Cert").then(m=>{e.txt_cert=m})):e.txt_cert=e.studentData.certURL})()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(no),s.Y36(Hu),s.Y36(jc),s.Y36(ba),s.Y36(Xk),s.Y36(to),s.Y36(Zo),s.Y36(wi),s.Y36(Mf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-edit-player"]],inputs:{modal_title:"modal_title",dist_selected:"dist_selected",studentData:"studentData"},decls:96,vars:19,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"form-group","row"],["for","districtName",1,"label","col-sm-4","col-form-label"],["formControlName","districtName","name","districtName","required","",1,"form-control","col-sm-7",3,"ngModel","ngModelChange","change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-sm-4"],[1,"col-sm-7"],["class","error",4,"ngIf"],["for","schoolName",1,"label","col-sm-4","col-form-label"],["name","schoolName","required","",1,"form-control","col-sm-7",3,"change"],[3,"value",4,"ngFor","ngForOf"],["for","studentName",1,"label","col-sm-4","col-for-label"],["type","text","formControlName","studentName","name","studentName","required","",1,"form-control","col-sm-7"],["for","fatherName",1,"label","col-sm-4","col-for-label"],["type","text","formControlName","fatherName","name","fatherName","required","",1,"form-control","col-sm-7"],[1,"label","col-sm-4","col-for-label"],["formControlName","gender","name","gender","required","",1,"form-control","col-sm-7"],["value","M"],["value","F"],["type","text","formControlName","dob","name","dob","id","dob","placeholder","Date of birth","bsDatepicker","","placement","top","required","",1,"form-control","col-sm-7",3,"bsValue","bsConfig","maxDate"],["formControlName","caste","name","caste","required","",1,"form-control","col-sm-7"],["value","ST"],["value","SC"],["value","O"],[1,"col-sm-7","m-0"],["class","form-control",4,"ngFor","ngForOf"],[1,"label","col-sm-3"],[1,"col-sm-3"],["type","file","id","photo","accept",".jpg,.gif,.png,.jpeg","required","",1,"form-control"],["type","file","id","cert","accept",".jpg,.gif,.png,.jpeg","required","",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[3,"ngValue"],[1,"error"],[3,"value"],[1,"form-control"],["type","checkbox","fromArrayName","position",3,"value","change"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h4",1),s._uU(2),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){return i.activeModal.dismiss("Cross click")}),s.TgZ(4,"span",3),s._uU(5,"\xd7"),s.qZA()()(),s.TgZ(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),s._uU(12,"District"),s.qZA(),s.TgZ(13,"select",10),s.NdJ("ngModelChange",function(o){return i.dist_selected=o})("change",function(o){return i.changeDistrict(o)}),s._UZ(14,"option",11),s.YNc(15,jfe,2,2,"option",12),s.qZA(),s._UZ(16,"div",13),s.TgZ(17,"div",14),s.YNc(18,Zfe,4,0,"p",15),s.qZA()(),s.TgZ(19,"div",8)(20,"label",16),s._uU(21,"School"),s.qZA(),s.TgZ(22,"select",17),s.NdJ("change",function(o){return i.getSelectedSchool(o)}),s._UZ(23,"option",11),s.YNc(24,Gfe,2,2,"option",18),s.qZA()(),s.TgZ(25,"div",8)(26,"label",19),s._uU(27,"Student Name"),s.qZA(),s._UZ(28,"input",20)(29,"div",13),s.TgZ(30,"div",14),s.YNc(31,$fe,4,0,"p",15),s.qZA()(),s.TgZ(32,"div",8)(33,"label",21),s._uU(34,"Father's/Mother's Name"),s.qZA(),s._UZ(35,"input",22)(36,"div",13),s.TgZ(37,"div",14),s.YNc(38,qfe,4,0,"p",15),s.qZA()(),s.TgZ(39,"div",8)(40,"label",23),s._uU(41,"Gender"),s.qZA(),s.TgZ(42,"select",24),s._UZ(43,"option",11),s.TgZ(44,"option",25),s._uU(45,"Male"),s.qZA(),s.TgZ(46,"option",26),s._uU(47,"Female"),s.qZA()(),s._UZ(48,"div",13),s.TgZ(49,"div",14),s.YNc(50,Wfe,4,0,"p",15),s.qZA()(),s.TgZ(51,"div",8)(52,"label",23),s._uU(53,"Date of birth"),s.qZA(),s._UZ(54,"input",27)(55,"div",13),s.TgZ(56,"div",14),s.YNc(57,zfe,4,0,"p",15),s.qZA()(),s.TgZ(58,"div",8)(59,"label",23),s._uU(60,"Caste"),s.qZA(),s.TgZ(61,"select",28),s._UZ(62,"option",11),s.TgZ(63,"option",29),s._uU(64,"Schedule Tribe"),s.qZA(),s.TgZ(65,"option",30),s._uU(66,"Schedule Caste"),s.qZA(),s.TgZ(67,"option",31),s._uU(68,"Others"),s.qZA()(),s._UZ(69,"div",13),s.TgZ(70,"div",14),s.YNc(71,Kfe,4,0,"p",15),s.qZA()(),s.TgZ(72,"div",8)(73,"label",23),s._uU(74,"Position"),s.qZA(),s.TgZ(75,"div",32),s.YNc(76,Jfe,3,2,"div",33),s.qZA()(),s.TgZ(77,"div",8)(78,"label",34),s._uU(79,"Passportsize Photo"),s.qZA(),s.TgZ(80,"div",35),s._UZ(81,"input",36),s.YNc(82,Qfe,4,0,"p",15),s.qZA(),s.TgZ(83,"label",34),s._uU(84,"Birth Certificate"),s.qZA(),s.TgZ(85,"div",35),s._UZ(86,"input",37),s.YNc(87,Xfe,4,0,"p",15),s.qZA()()()()()(),s.TgZ(88,"div",38)(89,"button",39),s.NdJ("click",function(){return i.submitPlayer()}),s._uU(90,"Submit"),s.qZA(),s.TgZ(91,"button",40),s.NdJ("click",function(){return i.activeModal.close("Close click")}),s._uU(92,"Close"),s.qZA()(),s.TgZ(93,"ngx-spinner",41)(94,"p",42),s._uU(95,"Saving..."),s.qZA()()),2&e&&(s.xp6(2),s.Oqu(i.modal_title),s.xp6(5),s.Q6J("formGroup",i.playerForm),s.xp6(6),s.Q6J("ngModel",i.dist_selected),s.uIk("disabled",i.readOnlyControl),s.xp6(2),s.Q6J("ngForOf",i.District),s.xp6(3),s.Q6J("ngIf",(null==i.districtName?null:i.districtName.touched)&&(null==i.districtName?null:i.districtName.invalid)),s.xp6(6),s.Q6J("ngForOf",i.School),s.xp6(7),s.Q6J("ngIf",(null==i.studentName?null:i.studentName.touched)&&(null==i.studentName?null:i.studentName.invalid)),s.xp6(7),s.Q6J("ngIf",(null==i.fatherName?null:i.fatherName.touched)&&(null==i.fatherName?null:i.fatherName.invalid)),s.xp6(12),s.Q6J("ngIf",(null==i.gender?null:i.gender.touched)&&(null==i.gender?null:i.gender.invalid)),s.xp6(4),s.Q6J("bsValue",i.dateValue)("bsConfig",s.DdM(18,epe))("maxDate",i.maxDate),s.xp6(3),s.Q6J("ngIf",(null==i.dob?null:i.dob.touched)&&(null==i.dob?null:i.dob.invalid)),s.xp6(14),s.Q6J("ngIf",(null==i.caste?null:i.caste.touched)&&(null==i.caste?null:i.caste.invalid)),s.xp6(5),s.Q6J("ngForOf",i.Position),s.xp6(6),s.Q6J("ngIf",(null==i.photo?null:i.photo.touched)&&(null==i.photo?null:i.photo.invalid)),s.xp6(5),s.Q6J("ngIf",(null==i.cert?null:i.cert.touched)&&(null==i.cert?null:i.cert.invalid)))},dependencies:[Gt,kt,eo,Nd,Kh,N,Su,hs,Hr,da,Jr,Fo,wT,H0,fm]}),n})();function npe(n,t){if(1&n&&(s.TgZ(0,"option",44),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.s9C("ngValue",e.districtName),s.xp6(1),s.hij("",e.districtName," ")}}function ipe(n,t){1&n&&(s.TgZ(0,"p",45)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please select District "),s.qZA())}function rpe(n,t){if(1&n&&(s.TgZ(0,"option",46),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.s9C("value",e.$key),s.xp6(1),s.Oqu(e.schoolName)}}function spe(n,t){1&n&&(s.TgZ(0,"p",45)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please enter Student Name "),s.qZA())}function ope(n,t){1&n&&(s.TgZ(0,"p",45)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please enter Father Name "),s.qZA())}function ape(n,t){1&n&&(s.TgZ(0,"p",45)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please select Gender "),s.qZA())}function lpe(n,t){1&n&&(s.TgZ(0,"p",45)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please enter Date of Birth "),s.qZA())}function cpe(n,t){1&n&&(s.TgZ(0,"p",45)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please select Caste "),s.qZA())}function upe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",47)(1,"input",48),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onCheckboxChange(r))}),s.qZA(),s._uU(2),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("value",e.positionName),s.xp6(1),s.hij("",e.positionName," ")}}function dpe(n,t){1&n&&(s.TgZ(0,"p",45)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Required "),s.qZA())}function hpe(n,t){1&n&&(s.TgZ(0,"p",45)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Required "),s.qZA())}const fpe=function(){return{isAnimated:!0,dateInputFormat:"DD/MMM/YYYY"}};let ppe=(()=>{class n{constructor(e,i,r,o,a,u,f,m,v){this.activeModal=e,this.distService=i,this.schoolService=r,this.playerService=o,this.positionService=a,this.fb=u,this.toastr=f,this.authService=m,this.SpinnerService=v,this.District=[],this.School=[],this.Position=[],this.txt_photo="",this.txt_cert="",this.readOnlyControl=!1,this.maxDate=new Date,this.maxDate.setDate(this.maxDate.getDate())}ngOnInit(){this.loadDistrict(),this.playerFormNew(),"Administrator"==this.authService.getRole()||this.getSchoolList(this.authService.getDistrict()),this.getPositionList()}ngAfterViewInit(){}changeDistrict(e){if(""!=e.target.value){var r=e.target.value.split(": ");this.playerForm.controls.schoolName.setValue(""),this.getSchoolList(r[1])}}getSchoolList(e){this.schoolService.getSchoolList(e).snapshotChanges().subscribe(r=>{this.School=[],r.forEach(o=>{let a={$key:o.key,...o.payload.toJSON()};this.School.push(a)})})}getSelectedSchool(e){this.txt_schoolName=e.target.options[e.target.options.selectedIndex].text,this.txt_schoolID=e.target.options[e.target.options.selectedIndex].value}getPositionList(){this.positionService.getPositionAll().snapshotChanges().subscribe(i=>{this.Position=[],i.forEach(r=>{let o=r.payload.toJSON();this.Position.push(o)})})}loadDistrict(){this.distService.getDistrictAll().snapshotChanges().subscribe(i=>{this.District=[],i.forEach(r=>{let o=r.payload.toJSON();this.District.push(o),"All"!=this.dist_selected&&(this.readOnlyControl=!0)})})}submitPlayer(){var e=this;return(0,ke.Z)(function*(){e.SpinnerService.show(),e.playerForm.valid?yield e.addPhoto().finally(()=>{e.playerForm.addControl("photoURL",new Tt(e.txt_photo)),e.playerForm.addControl("certURL",new Tt(e.txt_cert)),e.playerForm.addControl("schoolID",new Tt(e.txt_schoolID)),e.playerForm.addControl("schoolName",new Tt(e.txt_schoolName)),e.playerService.AddPlayer(e.playerForm.value),e.toastr.success(e.playerForm.controls.studentName.value+" successfully added!"),e.ResetForm(),e.SpinnerService.hide(),e.activeModal.close()}):console.log(e.playerForm)})()}ResetForm(){this.playerForm.reset()}onCheckboxChange(e){const i=this.playerForm.controls.position;if(e.target.checked)i.push(new Tt(e.target.value));else{const r=i.controls.findIndex(o=>o.value===e.target.value);i.removeAt(r)}}get studentName(){return this.playerForm.get("studentName")}get fatherName(){return this.playerForm.get("fatherName")}get districtName(){return this.playerForm.get("districtName")}get dob(){return this.playerForm.get("dob")}get caste(){return this.playerForm.get("caste")}get gender(){return this.playerForm.get("gender")}get photo(){return this.playerForm.get("photo")}get cert(){return this.playerForm.get("cert")}playerFormNew(){this.playerForm=this.fb.group({studentName:["",[bt.required]],fatherName:["",[bt.required]],districtName:["Administrator"==this.authService.getUserEmail()?"":this.authService.getDistrict(),[bt.required]],gender:["",[bt.required]],dob:["",[bt.required]],caste:["",[bt.required]],position:new og([]),enteredBy:this.authService.getUserEmail(),enteredDate:Date.now(),remarks:""})}addPhoto(){var e=this;return(0,ke.Z)(function*(){var r=document.getElementById("photo");r.files[0]?(e.photoFileUpload=new eM(r.files[0]),yield e.playerService.pushFileToStorage(e.photoFileUpload,e.playerForm.controls.studentName.value,"Photo").then(m=>{e.txt_photo=m})):e.txt_photo="https://firebasestorage.googleapis.com/v0/b/vtr-project1.appspot.com/o/Blank.jpg?alt=media&token=1fcb242c-674d-4d47-a835-dbc3fce356c5";var a=document.getElementById("cert");a.files[0]?(e.certFileUpload=new eM(a.files[0]),yield e.playerService.pushFileToStorage(e.certFileUpload,e.playerForm.controls.studentName.value,"Cert").then(m=>{e.txt_cert=m})):e.txt_cert="https://firebasestorage.googleapis.com/v0/b/vtr-project1.appspot.com/o/Blank.jpg?alt=media&token=1fcb242c-674d-4d47-a835-dbc3fce356c5"})()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(no),s.Y36(Hu),s.Y36(jc),s.Y36(ba),s.Y36(Xk),s.Y36(to),s.Y36(Zo),s.Y36(wi),s.Y36(Mf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-player"]],inputs:{modal_title:"modal_title",dist_selected:"dist_selected"},decls:97,vars:18,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"form-group","row"],["for","districtName",1,"label","col-sm-4","col-form-label"],["formControlName","districtName","name","districtName","required","",1,"form-control","col-sm-7",3,"ngModel","ngModelChange","change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-sm-4"],[1,"col-sm-7"],["class","error",4,"ngIf"],["for","schoolName",1,"label","col-sm-4","col-form-label"],["name","schoolName","required","",1,"form-control","col-sm-7",3,"change"],[3,"value",4,"ngFor","ngForOf"],["for","studentName",1,"label","col-sm-4","col-for-label"],["type","text","formControlName","studentName","name","studentName","required","",1,"form-control","col-sm-7"],["for","fatherName",1,"label","col-sm-4","col-for-label"],["type","text","formControlName","fatherName","name","fatherName","required","",1,"form-control","col-sm-7"],[1,"label","col-sm-4","col-for-label"],["formControlName","gender","name","gender","required","",1,"form-control","col-sm-7"],["value","M"],["value","F"],["type","text","formControlName","dob","name","dob","id","dob","placeholder","Date of birth","bsDatepicker","","placement","top","required","",1,"form-control","col-sm-7",3,"bsConfig","maxDate"],["dateValue",""],["formControlName","caste","name","caste","required","",1,"form-control","col-sm-7"],["value","ST"],["value","SC"],["value","O"],[1,"col-sm-7","m-0"],["class","form-control",4,"ngFor","ngForOf"],[1,"label","col-sm-3"],[1,"col-sm-3"],["type","file","id","photo","accept",".jpg,.gif,.png,.jpeg","required","",1,"form-control"],["type","file","id","cert","accept",".jpg,.gif,.png,.jpeg","required","",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[3,"ngValue"],[1,"error"],[3,"value"],[1,"form-control"],["type","checkbox","fromArrayName","position",3,"value","change"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h4",1),s._uU(2),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){return i.activeModal.dismiss("Cross click")}),s.TgZ(4,"span",3),s._uU(5,"\xd7"),s.qZA()()(),s.TgZ(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),s._uU(12,"District"),s.qZA(),s.TgZ(13,"select",10),s.NdJ("ngModelChange",function(o){return i.dist_selected=o})("change",function(o){return i.changeDistrict(o)}),s._UZ(14,"option",11),s.YNc(15,npe,2,2,"option",12),s.qZA(),s._UZ(16,"div",13),s.TgZ(17,"div",14),s.YNc(18,ipe,4,0,"p",15),s.qZA()(),s.TgZ(19,"div",8)(20,"label",16),s._uU(21,"School"),s.qZA(),s.TgZ(22,"select",17),s.NdJ("change",function(o){return i.getSelectedSchool(o)}),s._UZ(23,"option",11),s.YNc(24,rpe,2,2,"option",18),s.qZA()(),s.TgZ(25,"div",8)(26,"label",19),s._uU(27,"Student Name"),s.qZA(),s._UZ(28,"input",20)(29,"div",13),s.TgZ(30,"div",14),s.YNc(31,spe,4,0,"p",15),s.qZA()(),s.TgZ(32,"div",8)(33,"label",21),s._uU(34,"Father's/Mother's Name"),s.qZA(),s._UZ(35,"input",22)(36,"div",13),s.TgZ(37,"div",14),s.YNc(38,ope,4,0,"p",15),s.qZA()(),s.TgZ(39,"div",8)(40,"label",23),s._uU(41,"Gender"),s.qZA(),s.TgZ(42,"select",24),s._UZ(43,"option",11),s.TgZ(44,"option",25),s._uU(45,"Male"),s.qZA(),s.TgZ(46,"option",26),s._uU(47,"Female"),s.qZA()(),s._UZ(48,"div",13),s.TgZ(49,"div",14),s.YNc(50,ape,4,0,"p",15),s.qZA()(),s.TgZ(51,"div",8)(52,"label",23),s._uU(53,"Date of birth"),s.qZA(),s._UZ(54,"input",27,28)(56,"div",13),s.TgZ(57,"div",14),s.YNc(58,lpe,4,0,"p",15),s.qZA()(),s.TgZ(59,"div",8)(60,"label",23),s._uU(61,"Caste"),s.qZA(),s.TgZ(62,"select",29),s._UZ(63,"option",11),s.TgZ(64,"option",30),s._uU(65,"Schedule Tribe"),s.qZA(),s.TgZ(66,"option",31),s._uU(67,"Schedule Caste"),s.qZA(),s.TgZ(68,"option",32),s._uU(69,"Others"),s.qZA()(),s._UZ(70,"div",13),s.TgZ(71,"div",14),s.YNc(72,cpe,4,0,"p",15),s.qZA()(),s.TgZ(73,"div",8)(74,"label",23),s._uU(75,"Position"),s.qZA(),s.TgZ(76,"div",33),s.YNc(77,upe,3,2,"div",34),s.qZA()(),s.TgZ(78,"div",8)(79,"label",35),s._uU(80,"Passportsize Photo"),s.qZA(),s.TgZ(81,"div",36),s._UZ(82,"input",37),s.YNc(83,dpe,4,0,"p",15),s.qZA(),s.TgZ(84,"label",35),s._uU(85,"Birth Certificate"),s.qZA(),s.TgZ(86,"div",36),s._UZ(87,"input",38),s.YNc(88,hpe,4,0,"p",15),s.qZA()()()()()(),s.TgZ(89,"div",39)(90,"button",40),s.NdJ("click",function(){return i.submitPlayer()}),s._uU(91,"Submit"),s.qZA(),s.TgZ(92,"button",41),s.NdJ("click",function(){return i.activeModal.close("Close click")}),s._uU(93,"Close"),s.qZA()(),s.TgZ(94,"ngx-spinner",42)(95,"p",43),s._uU(96,"Saving..."),s.qZA()()),2&e&&(s.xp6(2),s.Oqu(i.modal_title),s.xp6(5),s.Q6J("formGroup",i.playerForm),s.xp6(6),s.Q6J("ngModel",i.dist_selected),s.uIk("disabled",i.readOnlyControl),s.xp6(2),s.Q6J("ngForOf",i.District),s.xp6(3),s.Q6J("ngIf",(null==i.districtName?null:i.districtName.touched)&&(null==i.districtName?null:i.districtName.invalid)),s.xp6(6),s.Q6J("ngForOf",i.School),s.xp6(7),s.Q6J("ngIf",(null==i.studentName?null:i.studentName.touched)&&(null==i.studentName?null:i.studentName.invalid)),s.xp6(7),s.Q6J("ngIf",(null==i.fatherName?null:i.fatherName.touched)&&(null==i.fatherName?null:i.fatherName.invalid)),s.xp6(12),s.Q6J("ngIf",(null==i.gender?null:i.gender.touched)&&(null==i.gender?null:i.gender.invalid)),s.xp6(4),s.Q6J("bsConfig",s.DdM(17,fpe))("maxDate",i.maxDate),s.xp6(4),s.Q6J("ngIf",(null==i.dob?null:i.dob.touched)&&(null==i.dob?null:i.dob.invalid)),s.xp6(14),s.Q6J("ngIf",(null==i.caste?null:i.caste.touched)&&(null==i.caste?null:i.caste.invalid)),s.xp6(5),s.Q6J("ngForOf",i.Position),s.xp6(6),s.Q6J("ngIf",(null==i.photo?null:i.photo.touched)&&(null==i.photo?null:i.photo.invalid)),s.xp6(5),s.Q6J("ngIf",(null==i.cert?null:i.cert.touched)&&(null==i.cert?null:i.cert.invalid)))},dependencies:[Gt,kt,eo,Nd,Kh,N,Su,hs,Hr,da,Jr,Fo,wT,H0,fm],styles:[".error[_ngcontent-%COMP%]{color:red}"]}),n})();function mpe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",16)(1,"p",17),s._uU(2,"No Player added yet!"),s.qZA(),s.TgZ(3,"button",18),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.openAdd())}),s._uU(4,"Add Player"),s.qZA()()}}function gpe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td",21),s._uU(2),s.qZA(),s.TgZ(3,"td",21),s._uU(4),s.qZA(),s.TgZ(5,"td")(6,"span",24),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.openIndividual(o))}),s._UZ(7,"i",25),s.qZA(),s._uU(8,"\xa0 "),s.TgZ(9,"span",26),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.editIndividual(o))}),s._UZ(10,"i",27),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.studentName),s.xp6(2),s.Oqu(e.schoolName)}}const _pe=function(n){return{itemsPerPage:10,currentPage:n}};function vpe(n,t){if(1&n&&(s.TgZ(0,"div",19)(1,"table",20)(2,"thead")(3,"tr")(4,"th",21),s._uU(5,"Player Name"),s.qZA(),s.TgZ(6,"th",21),s._uU(7,"School Name"),s.qZA(),s.TgZ(8,"th",22),s._uU(9,"#"),s.qZA()()(),s.TgZ(10,"tbody"),s.YNc(11,gpe,11,2,"tr",23),s.ALo(12,"paginate"),s.qZA()()()),2&n){const e=s.oxw();s.xp6(11),s.Q6J("ngForOf",s.xi3(12,1,e.Player,s.VKq(4,_pe,e.p)))}}let ype=(()=>{class n{constructor(e,i,r,o,a){this.playerService=e,this.authService=i,this.toastr=r,this.modalService=o,this.router=a,this.p=1,this.preLoader=!0,this.hideWhenNoPlayer=!1,this.noData=!1,this.Player=[]}ngOnInit(){const e=JSON.parse(localStorage.getItem("user"));"All"==e[0].district?(this.dataStatus(),this.playerService.getStudentAll().snapshotChanges().subscribe(r=>{this.Player=[],r.forEach(o=>{let a={$key:o.key,...o.payload.toJSON()};this.Player.push(a)})})):(this.dataStatusDistrict(e[0].district),this.playerService.getStudentDistrict(e[0].district).snapshotChanges().subscribe(r=>{this.Player=[],r.forEach(o=>{let a={$key:o.key,...o.payload.toJSON()};this.Player.push(a)})}))}dataStatus(){this.playerService.getStudentAll().valueChanges().subscribe(e=>{this.preLoader=!1,e.length<=0?(this.hideWhenNoPlayer=!1,this.noData=!0):(this.hideWhenNoPlayer=!0,this.noData=!1)})}dataStatusDistrict(e){this.playerService.getStudentDistrict(e).valueChanges().subscribe(i=>{this.preLoader=!1,i.length<=0?(this.hideWhenNoPlayer=!1,this.noData=!0):(this.hideWhenNoPlayer=!0,this.noData=!1)})}openAdd(){const e=this.modalService.open(ppe,{size:"lg",backdrop:!1,keyboard:!1});e.componentInstance.modal_title="Add Player",e.componentInstance.dist_selected=this.authService.getDistrict()}openIndividual(e){this.router.navigate(["/student/",e.$key])}editIndividual(e){const i=this.modalService.open(tpe,{size:"lg",backdrop:!1,keyboard:!1});i.componentInstance.modal_title="Edit Player",i.componentInstance.dist_selected=this.authService.getDistrict(),i.componentInstance.studentData=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ba),s.Y36(wi),s.Y36(Zo),s.Y36(pa),s.Y36(Bi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-list-player"]],decls:26,vars:2,consts:[[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"m-0"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"btn","btn-primary",3,"click"],[1,"content"],["class","no-data text-center",4,"ngIf"],[1,"d-flex","justify-content-between","flex-wrap","flex-md-nowrap","align-items-center","pt-3","pb-2","mb-3","border-bottom"],["class","table-responsive",4,"ngIf"],[3,"pageChange"],[1,"no-data","text-center"],[1,"nodata-msg"],[1,"btn","btn-success",3,"click"],[1,"table-responsive"],[1,"table","table-bordered"],["scope","row"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"fa","fa-eye"],[1,"btn","btn-outline-warning","btn-sm",3,"click"],[1,"fa","fa-edit"]],template:function(e,i){1&e&&(s._UZ(0,"app-header")(1,"app-sidebar"),s.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h1",5),s._uU(8,"Player"),s.qZA()(),s.TgZ(9,"div",4)(10,"ol",6)(11,"li",7)(12,"a",8),s._uU(13,"Home"),s.qZA()(),s.TgZ(14,"li",9),s._uU(15,"Player"),s.qZA(),s.TgZ(16,"li",7)(17,"button",10),s.NdJ("click",function(){return i.openAdd()}),s._uU(18,"Add"),s.qZA()()()()()()(),s.TgZ(19,"section",11)(20,"div",2),s.YNc(21,mpe,5,0,"div",12),s._UZ(22,"div",13),s.YNc(23,vpe,13,6,"div",14),s.TgZ(24,"pagination-controls",15),s.NdJ("pageChange",function(o){return i.p=o}),s.qZA()()()(),s._UZ(25,"app-footer")),2&e&&(s.xp6(21),s.Q6J("ngIf",i.noData),s.xp6(2),s.Q6J("ngIf",i.hideWhenNoPlayer))},dependencies:[Gt,kt,Yu,lo,co,uo,Xa]}),n})();function bpe(n,t){if(1&n&&(s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.schoolName),s.xp6(2),s.Oqu(e.schoolAddress),s.xp6(2),s.Oqu(e.schoolDistrict)}}const xpe=function(n){return{itemsPerPage:10,currentPage:n}};let Cpe=(()=>{class n{constructor(e,i){this.schoolService=e,this.authService=i,this.p=1,this.School=[]}ngOnInit(){const e=JSON.parse(localStorage.getItem("user"));"All"==e[0].district?this.schoolService.getSchoolAll().snapshotChanges().subscribe(r=>{this.School=[],r.forEach(o=>{let a=o.payload.toJSON();this.School.push(a)})}):this.schoolService.getSchoolList(e[0].district).snapshotChanges().subscribe(r=>{this.School=[],r.forEach(o=>{let a=o.payload.toJSON();this.School.push(a)})})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(jc),s.Y36(wi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-list-school-user"]],decls:35,vars:6,consts:[[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"m-0"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"content"],[1,"d-flex","justify-content-between","flex-wrap","flex-md-nowrap","align-items-center","pt-3","pb-2","mb-3","border-bottom"],[1,"pricing-header","mx-auto"],[1,"table-responsive"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[3,"pageChange"]],template:function(e,i){1&e&&(s._UZ(0,"app-header")(1,"app-sidebar"),s.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h1",5),s._uU(8,"School"),s.qZA()(),s.TgZ(9,"div",4)(10,"ol",6)(11,"li",7)(12,"a",8),s._uU(13,"Home"),s.qZA()(),s.TgZ(14,"li",9),s._uU(15,"School"),s.qZA()()()()()(),s.TgZ(16,"section",10)(17,"div",2),s._UZ(18,"div",11),s.TgZ(19,"div",12)(20,"div",13)(21,"table",14)(22,"thead")(23,"tr")(24,"th"),s._uU(25,"School Name"),s.qZA(),s.TgZ(26,"th"),s._uU(27,"Address"),s.qZA(),s.TgZ(28,"th"),s._uU(29,"District"),s.qZA()()(),s.TgZ(30,"tbody"),s.YNc(31,bpe,7,3,"tr",15),s.ALo(32,"paginate"),s.qZA()()(),s.TgZ(33,"pagination-controls",16),s.NdJ("pageChange",function(o){return i.p=o}),s.qZA()()()()(),s._UZ(34,"app-footer")),2&e&&(s.xp6(31),s.Q6J("ngForOf",s.xi3(32,1,i.School,s.VKq(4,xpe,i.p))))},dependencies:[Gt,Yu,lo,co,uo,Xa]}),n})(),Tpe=(()=>{class n{constructor(e,i){this.db=e,this.playerService=i}getNewPlayers(e){return this.dashboardsRef=this.db.list("players",i=>i.orderByChild("enteredDate").limitToLast(e)),this.dashboardsRef}getNewApprovedPlayer(e){return this.dashboardsRef=this.db.list("players",i=>i.orderByChild("enteredDate").limitToLast(e)),this.dashboardsRef}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lm),s.LFG(ba))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class jF{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class l5 extends jF{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class wpe extends jF{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Dpe extends jF{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class Ape extends class Spe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof l5?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof wpe?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Dpe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const u=a.element,f=this._document.createComment("dom-portal");u.parentNode.insertBefore(f,u),this.outletElement.appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}function Epe(){}function ZF(n){return null==n?Epe:function(){return this.querySelector(n)}}function c5(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function Mpe(){return[]}function u5(n){return null==n?Mpe:function(){return this.querySelectorAll(n)}}function d5(n){return function(){return this.matches(n)}}function h5(n){return function(t){return t.matches(n)}}var Lpe=Array.prototype.find;function Rpe(){return this.firstElementChild}var Fpe=Array.prototype.filter;function Vpe(){return this.children}function f5(n){return new Array(n.length)}function tM(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}function jpe(n){return function(){return n}}function Zpe(n,t,e,i,r,o){for(var u,a=0,f=t.length,m=o.length;a<m;++a)(u=t[a])?(u.__data__=o[a],i[a]=u):e[a]=new tM(n,o[a]);for(;a<f;++a)(u=t[a])&&(r[a]=u)}function Gpe(n,t,e,i,r,o,a){var u,f,k,m=new Map,v=t.length,x=o.length,S=new Array(v);for(u=0;u<v;++u)(f=t[u])&&(S[u]=k=a.call(f,f.__data__,u,t)+"",m.has(k)?r[u]=f:m.set(k,f));for(u=0;u<x;++u)k=a.call(n,o[u],u,o)+"",(f=m.get(k))?(i[u]=f,f.__data__=o[u],m.delete(k)):e[u]=new tM(n,o[u]);for(u=0;u<v;++u)(f=t[u])&&m.get(S[u])===f&&(r[u]=f)}function $pe(n){return n.__data__}function Xpe(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}tM.prototype={constructor:tM,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var GF="http://www.w3.org/1999/xhtml";const p5={svg:"http://www.w3.org/2000/svg",xhtml:GF,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nM(n){var t=n+="",e=t.indexOf(":");return e>=0&&"xmlns"!==(t=n.slice(0,e))&&(n=n.slice(e+1)),p5.hasOwnProperty(t)?{space:p5[t],local:n}:n}function ome(n){return function(){this.removeAttribute(n)}}function ame(n){return function(){this.removeAttributeNS(n.space,n.local)}}function lme(n,t){return function(){this.setAttribute(n,t)}}function cme(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function ume(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function dme(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function m5(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function fme(n){return function(){this.style.removeProperty(n)}}function pme(n,t,e){return function(){this.style.setProperty(n,t,e)}}function mme(n,t,e){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function j0(n,t){return n.style.getPropertyValue(t)||m5(n).getComputedStyle(n,null).getPropertyValue(t)}function _me(n){return function(){delete this[n]}}function vme(n,t){return function(){this[n]=t}}function yme(n,t){return function(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function g5(n){return n.trim().split(/^|\s+/)}function $F(n){return n.classList||new _5(n)}function _5(n){this._node=n,this._names=g5(n.getAttribute("class")||"")}function v5(n,t){for(var e=$F(n),i=-1,r=t.length;++i<r;)e.add(t[i])}function y5(n,t){for(var e=$F(n),i=-1,r=t.length;++i<r;)e.remove(t[i])}function xme(n){return function(){v5(this,n)}}function Cme(n){return function(){y5(this,n)}}function Tme(n,t){return function(){(t.apply(this,arguments)?v5:y5)(this,n)}}function Dme(){this.textContent=""}function Sme(n){return function(){this.textContent=n}}function Ame(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function kme(){this.innerHTML=""}function Mme(n){return function(){this.innerHTML=n}}function Ime(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function Lme(){this.nextSibling&&this.parentNode.appendChild(this)}function Rme(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Fme(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===GF&&t.documentElement.namespaceURI===GF?t.createElement(n):t.createElementNS(e,n)}}function Vme(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function b5(n){var t=nM(n);return(t.local?Vme:Fme)(t)}function Ume(){return null}function Yme(){var n=this.parentNode;n&&n.removeChild(this)}function Zme(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function Gme(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function zme(n){return n.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}function Kme(n){return function(){var t=this.__on;if(t){for(var o,e=0,i=-1,r=t.length;e<r;++e)o=t[e],n.type&&o.type!==n.type||o.name!==n.name?t[++i]=o:this.removeEventListener(o.type,o.listener,o.options);++i?t.length=i:delete this.__on}}}function Jme(n,t,e){return function(){var r,i=this.__on,o=function Wme(n){return function(t){n.call(this,t,this.__data__)}}(t);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===n.type&&r.name===n.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=t);this.addEventListener(n.type,o,e),r={type:n.type,name:n.name,value:t,listener:o,options:e},i?i.push(r):this.__on=[r]}}function x5(n,t,e){var i=m5(n),r=i.CustomEvent;"function"==typeof r?r=new r(t,e):(r=i.document.createEvent("Event"),e?(r.initEvent(t,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(t,!1,!1)),n.dispatchEvent(r)}function Xme(n,t){return function(){return x5(this,n,t)}}function ege(n,t){return function(){return x5(this,n,t.apply(this,arguments))}}_5.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var C5=[null];function nl(n,t){this._groups=n,this._parents=t}function T5(){return new nl([[document.documentElement]],C5)}nl.prototype=T5.prototype={constructor:nl,select:function kpe(n){"function"!=typeof n&&(n=ZF(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var f,m,o=t[r],a=o.length,u=i[r]=new Array(a),v=0;v<a;++v)(f=o[v])&&(m=n.call(f,f.__data__,v,o))&&("__data__"in f&&(m.__data__=f.__data__),u[v]=m);return new nl(i,this._parents)},selectAll:function Npe(n){n="function"==typeof n?function Ipe(n){return function(){var t=n.apply(this,arguments);return null==t?[]:c5(t)}}(n):u5(n);for(var t=this._groups,e=t.length,i=[],r=[],o=0;o<e;++o)for(var f,a=t[o],u=a.length,m=0;m<u;++m)(f=a[m])&&(i.push(n.call(f,f.__data__,m,a)),r.push(f));return new nl(i,r)},selectChild:function Ppe(n){return this.select(null==n?Rpe:function Ope(n){return function(){return Lpe.call(this.children,n)}}("function"==typeof n?n:h5(n)))},selectChildren:function Upe(n){return this.selectAll(null==n?Vpe:function Bpe(n){return function(){return Fpe.call(this.children,n)}}("function"==typeof n?n:h5(n)))},filter:function Hpe(n){"function"!=typeof n&&(n=d5(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var f,o=t[r],a=o.length,u=i[r]=[],m=0;m<a;++m)(f=o[m])&&n.call(f,f.__data__,m,o)&&u.push(f);return new nl(i,this._parents)},data:function qpe(n,t){if(!arguments.length)return Array.from(this,$pe);var e=t?Gpe:Zpe,i=this._parents,r=this._groups;"function"!=typeof n&&(n=jpe(n));for(var o=r.length,a=new Array(o),u=new Array(o),f=new Array(o),m=0;m<o;++m){var v=i[m],x=r[m],S=x.length,k=c5(n.call(v,v&&v.__data__,m,i)),O=k.length,U=u[m]=new Array(O),V=a[m]=new Array(O),te=f[m]=new Array(S);e(v,x,U,V,te,k,t);for(var we,Ve,re=0,Te=0;re<O;++re)if(we=U[re]){for(re>=Te&&(Te=re+1);!(Ve=V[Te])&&++Te<O;);we._next=Ve||null}}return(a=new nl(a,i))._enter=u,a._exit=f,a},enter:function Ype(){return new nl(this._enter||this._groups.map(f5),this._parents)},exit:function Wpe(){return new nl(this._exit||this._groups.map(f5),this._parents)},join:function zpe(n,t,e){var i=this.enter(),r=this,o=this.exit();return i="function"==typeof n?n(i):i.append(n+""),null!=t&&(r=t(r)),null==e?o.remove():e(o),i&&r?i.merge(r).order():r},merge:function Kpe(n){if(!(n instanceof nl))throw new Error("invalid merge");for(var t=this._groups,e=n._groups,i=t.length,o=Math.min(i,e.length),a=new Array(i),u=0;u<o;++u)for(var S,f=t[u],m=e[u],v=f.length,x=a[u]=new Array(v),k=0;k<v;++k)(S=f[k]||m[k])&&(x[k]=S);for(;u<i;++u)a[u]=t[u];return new nl(a,this._parents)},selection:function ige(){return this},order:function Jpe(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var a,i=n[t],r=i.length-1,o=i[r];--r>=0;)(a=i[r])&&(o&&4^a.compareDocumentPosition(o)&&o.parentNode.insertBefore(a,o),o=a);return this},sort:function Qpe(n){function t(x,S){return x&&S?n(x.__data__,S.__data__):!x-!S}n||(n=Xpe);for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var m,a=e[o],u=a.length,f=r[o]=new Array(u),v=0;v<u;++v)(m=a[v])&&(f[v]=m);f.sort(t)}return new nl(r,this._parents).order()},call:function eme(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function tme(){return Array.from(this)},node:function nme(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function ime(){let n=0;for(const t of this)++n;return n},empty:function rme(){return!this.node()},each:function sme(n){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var u,r=t[e],o=0,a=r.length;o<a;++o)(u=r[o])&&n.call(u,u.__data__,o,r);return this},attr:function hme(n,t){var e=nM(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==t?e.local?ame:ome:"function"==typeof t?e.local?dme:ume:e.local?cme:lme)(e,t))},style:function gme(n,t,e){return arguments.length>1?this.each((null==t?fme:"function"==typeof t?mme:pme)(n,t,e??"")):j0(this.node(),n)},property:function bme(n,t){return arguments.length>1?this.each((null==t?_me:"function"==typeof t?yme:vme)(n,t)):this.node()[n]},classed:function wme(n,t){var e=g5(n+"");if(arguments.length<2){for(var i=$F(this.node()),r=-1,o=e.length;++r<o;)if(!i.contains(e[r]))return!1;return!0}return this.each(("function"==typeof t?Tme:t?xme:Cme)(e,t))},text:function Eme(n){return arguments.length?this.each(null==n?Dme:("function"==typeof n?Ame:Sme)(n)):this.node().textContent},html:function Nme(n){return arguments.length?this.each(null==n?kme:("function"==typeof n?Ime:Mme)(n)):this.node().innerHTML},raise:function Ome(){return this.each(Lme)},lower:function Pme(){return this.each(Rme)},append:function Bme(n){var t="function"==typeof n?n:b5(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function Hme(n,t){var e="function"==typeof n?n:b5(n),i=null==t?Ume:"function"==typeof t?t:ZF(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function jme(){return this.each(Yme)},clone:function $me(n){return this.select(n?Gme:Zme)},datum:function qme(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function Qme(n,t,e){var r,a,i=zme(n+""),o=i.length;if(!(arguments.length<2)){for(u=t?Jme:Kme,r=0;r<o;++r)this.each(u(i[r],t,e));return this}var u=this.node().__on;if(u)for(var v,f=0,m=u.length;f<m;++f)for(r=0,v=u[f];r<o;++r)if((a=i[r]).type===v.type&&a.name===v.name)return v.value},dispatch:function tge(n,t){return this.each(("function"==typeof t?ege:Xme)(n,t))},[Symbol.iterator]:function*nge(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var a,i=n[t],r=0,o=i.length;r<o;++r)(a=i[r])&&(yield a)}};const AT=T5;var rge={value:()=>{}};function w5(){for(var i,n=0,t=arguments.length,e={};n<t;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new iM(e)}function iM(n){this._=n}function sge(n,t){return n.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}function oge(n,t){for(var r,e=0,i=n.length;e<i;++e)if((r=n[e]).name===t)return r.value}function D5(n,t,e){for(var i=0,r=n.length;i<r;++i)if(n[i].name===t){n[i]=rge,n=n.slice(0,i).concat(n.slice(i+1));break}return null!=e&&n.push({name:t,value:e}),n}iM.prototype=w5.prototype={constructor:iM,on:function(n,t){var r,e=this._,i=sge(n+"",e),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(r=(n=i[o]).type)e[r]=D5(e[r],n.name,t);else if(null==t)for(r in e)e[r]=D5(e[r],n.name,null);return this}for(;++o<a;)if((r=(n=i[o]).type)&&(r=oge(e[r],n.name)))return r},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new iM(n)},call:function(n,t){if((r=arguments.length-2)>0)for(var r,o,e=new Array(r),i=0;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,r=(o=this._[n]).length;i<r;++i)o[i].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,o=i.length;r<o;++r)i[r].value.apply(t,e)}};const S5=w5;function WF(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function A5(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function ET(){}var rM=1/.7,Z0="\\s*([+-]?\\d+)\\s*",MT="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ch="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cge=/^#([0-9a-f]{3,8})$/,uge=new RegExp("^rgb\\("+[Z0,Z0,Z0]+"\\)$"),dge=new RegExp("^rgb\\("+[ch,ch,ch]+"\\)$"),hge=new RegExp("^rgba\\("+[Z0,Z0,Z0,MT]+"\\)$"),fge=new RegExp("^rgba\\("+[ch,ch,ch,MT]+"\\)$"),pge=new RegExp("^hsl\\("+[MT,ch,ch]+"\\)$"),mge=new RegExp("^hsla\\("+[MT,ch,ch,MT]+"\\)$"),E5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function k5(){return this.rgb().formatHex()}function M5(){return this.rgb().formatRgb()}function P_(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=cge.exec(n))?(e=t[1].length,t=parseInt(t[1],16),6===e?I5(t):3===e?new ql(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===e?sM(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===e?sM(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=uge.exec(n))?new ql(t[1],t[2],t[3],1):(t=dge.exec(n))?new ql(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=hge.exec(n))?sM(t[1],t[2],t[3],t[4]):(t=fge.exec(n))?sM(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=pge.exec(n))?O5(t[1],t[2]/100,t[3]/100,1):(t=mge.exec(n))?O5(t[1],t[2]/100,t[3]/100,t[4]):E5.hasOwnProperty(n)?I5(E5[n]):"transparent"===n?new ql(NaN,NaN,NaN,0):null}function I5(n){return new ql(n>>16&255,n>>8&255,255&n,1)}function sM(n,t,e,i){return i<=0&&(n=t=e=NaN),new ql(n,t,e,i)}function _ge(n){return n instanceof ET||(n=P_(n)),n?new ql((n=n.rgb()).r,n.g,n.b,n.opacity):new ql}function oM(n,t,e,i){return 1===arguments.length?_ge(n):new ql(n,t,e,i??1)}function ql(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}function N5(){return"#"+zF(this.r)+zF(this.g)+zF(this.b)}function L5(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===n?")":", "+n+")")}function zF(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function O5(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new uh(n,t,e,i)}function R5(n){if(n instanceof uh)return new uh(n.h,n.s,n.l,n.opacity);if(n instanceof ET||(n=P_(n)),!n)return new uh;if(n instanceof uh)return n;var t=(n=n.rgb()).r/255,e=n.g/255,i=n.b/255,r=Math.min(t,e,i),o=Math.max(t,e,i),a=NaN,u=o-r,f=(o+r)/2;return u?(a=t===o?(e-i)/u+6*(e<i):e===o?(i-t)/u+2:(t-e)/u+4,u/=f<.5?o+r:2-o-r,a*=60):u=f>0&&f<1?0:a,new uh(a,u,f,n.opacity)}function uh(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}function KF(n,t,e){return 255*(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)}function P5(n,t,e,i,r){var o=n*n,a=o*n;return((1-3*n+3*o-a)*t+(4-6*o+3*a)*e+(1+3*n+3*o-3*a)*i+a*r)/6}WF(ET,P_,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:k5,formatHex:k5,formatHsl:function gge(){return R5(this).formatHsl()},formatRgb:M5,toString:M5}),WF(ql,oM,A5(ET,{brighter:function(n){return n=null==n?rM:Math.pow(rM,n),new ql(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new ql(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:N5,formatHex:N5,formatRgb:L5,toString:L5})),WF(uh,function vge(n,t,e,i){return 1===arguments.length?R5(n):new uh(n,t,e,i??1)},A5(ET,{brighter:function(n){return n=null==n?rM:Math.pow(rM,n),new uh(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new uh(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,r=2*e-i;return new ql(KF(n>=240?n-240:n+120,r,i),KF(n,r,i),KF(n<120?n+240:n-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===n?")":", "+n+")")}}));const JF=n=>()=>n;function V5(n,t){var e=t-n;return e?function F5(n,t){return function(e){return n+e*t}}(n,e):JF(isNaN(n)?t:n)}const aM=function n(t){var e=function Cge(n){return 1==(n=+n)?V5:function(t,e){return e-t?function xge(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}(t,e,n):JF(isNaN(t)?e:t)}}(t);function i(r,o){var a=e((r=oM(r)).r,(o=oM(o)).r),u=e(r.g,o.g),f=e(r.b,o.b),m=V5(r.opacity,o.opacity);return function(v){return r.r=a(v),r.g=u(v),r.b=f(v),r.opacity=m(v),r+""}}return i.gamma=n,i}(1);function B5(n){return function(t){var a,u,e=t.length,i=new Array(e),r=new Array(e),o=new Array(e);for(a=0;a<e;++a)u=oM(t[a]),i[a]=u.r||0,r[a]=u.g||0,o[a]=u.b||0;return i=n(i),r=n(r),o=n(o),u.opacity=1,function(f){return u.r=i(f),u.g=r(f),u.b=o(f),u+""}}}function U5(n,t){var a,e=t?t.length:0,i=n?Math.min(e,n.length):0,r=new Array(i),o=new Array(e);for(a=0;a<i;++a)r[a]=lM(n[a],t[a]);for(;a<e;++a)o[a]=t[a];return function(u){for(a=0;a<i;++a)o[a]=r[a](u);return o}}function Tge(n,t){var e=new Date;return n=+n,t=+t,function(i){return e.setTime(n*(1-i)+t*i),e}}function qu(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function wge(n,t){var r,e={},i={};for(r in(null===n||"object"!=typeof n)&&(n={}),(null===t||"object"!=typeof t)&&(t={}),t)r in n?e[r]=lM(n[r],t[r]):i[r]=t[r];return function(o){for(r in e)i[r]=e[r](o);return i}}B5(function yge(n){var t=n.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),r=n[i],o=n[i+1];return P5((e-i/t)*t,i>0?n[i-1]:2*r-o,r,o,i<t-1?n[i+2]:2*o-r)}}),B5(function bge(n){var t=n.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*t);return P5((e-i/t)*t,n[(i+t-1)%t],n[i%t],n[(i+1)%t],n[(i+2)%t])}});var QF=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,XF=new RegExp(QF.source,"g");function H5(n,t){var i,r,o,e=QF.lastIndex=XF.lastIndex=0,a=-1,u=[],f=[];for(n+="",t+="";(i=QF.exec(n))&&(r=XF.exec(t));)(o=r.index)>e&&(o=t.slice(e,o),u[a]?u[a]+=o:u[++a]=o),(i=i[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,f.push({i:a,x:qu(i,r)})),e=XF.lastIndex;return e<t.length&&(o=t.slice(e),u[a]?u[a]+=o:u[++a]=o),u.length<2?f[0]?function Sge(n){return function(t){return n(t)+""}}(f[0].x):function Dge(n){return function(){return n}}(t):(t=f.length,function(m){for(var x,v=0;v<t;++v)u[(x=f[v]).i]=x.x(m);return u.join("")})}function Age(n,t){t||(t=[]);var r,e=n?Math.min(t.length,n.length):0,i=t.slice();return function(o){for(r=0;r<e;++r)i[r]=n[r]*(1-o)+t[r]*o;return i}}function lM(n,t){var i,e=typeof t;return null==t||"boolean"===e?JF(t):("number"===e?qu:"string"===e?(i=P_(t))?(t=i,aM):H5:t instanceof P_?aM:t instanceof Date?Tge:function Ege(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(t)?Age:Array.isArray(t)?U5:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?wge:qu)(n,t)}var cM,LT,G0=0,IT=0,NT=0,uM=0,F_=0,dM=0,OT="object"==typeof performance&&performance.now?performance:Date,Z5="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function e3(){return F_||(Z5(Mge),F_=OT.now()+dM)}function Mge(){F_=0}function hM(){this._call=this._time=this._next=null}function G5(n,t,e){var i=new hM;return i.restart(n,t,e),i}function $5(){F_=(uM=OT.now())+dM,G0=IT=0;try{!function Ige(){e3(),++G0;for(var t,n=cM;n;)(t=F_-n._time)>=0&&n._call.call(null,t),n=n._next;--G0}()}finally{G0=0,function Lge(){for(var n,e,t=cM,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:cM=e);LT=n,t3(i)}(),F_=0}}function Nge(){var n=OT.now(),t=n-uM;t>1e3&&(dM-=t,uM=n)}function t3(n){G0||(IT&&(IT=clearTimeout(IT)),n-F_>24?(n<1/0&&(IT=setTimeout($5,n-OT.now()-dM)),NT&&(NT=clearInterval(NT))):(NT||(uM=OT.now(),NT=setInterval(Nge,1e3)),G0=1,Z5($5)))}function q5(n,t,e){var i=new hM;return i.restart(r=>{i.stop(),n(r+t)},t=null==t?0:+t,e),i}hM.prototype=G5.prototype={constructor:hM,restart:function(n,t,e){if("function"!=typeof n)throw new TypeError("callback is not a function");e=(null==e?e3():+e)+(null==t?0:+t),!this._next&&LT!==this&&(LT?LT._next=this:cM=this,LT=this),this._call=n,this._time=e,t3()},stop:function(){this._call&&(this._call=null,this._time=1/0,t3())}};var Oge=S5("start","end","cancel","interrupt"),Rge=[];function mM(n,t,e,i,r,o){var a=n.__transition;if(a){if(e in a)return}else n.__transition={};!function Pge(n,t,e){var r,i=n.__transition;function a(m){var v,x,S,k;if(1!==e.state)return f();for(v in i)if((k=i[v]).name===e.name){if(3===k.state)return q5(a);4===k.state?(k.state=6,k.timer.stop(),k.on.call("interrupt",n,n.__data__,k.index,k.group),delete i[v]):+v<t&&(k.state=6,k.timer.stop(),k.on.call("cancel",n,n.__data__,k.index,k.group),delete i[v])}if(q5(function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(m))}),e.state=2,e.on.call("start",n,n.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(S=e.tween.length),v=0,x=-1;v<S;++v)(k=e.tween[v].value.call(n,n.__data__,e.index,e.group))&&(r[++x]=k);r.length=x+1}}function u(m){for(var v=m<e.duration?e.ease.call(null,m/e.duration):(e.timer.restart(f),e.state=5,1),x=-1,S=r.length;++x<S;)r[x].call(n,v);5===e.state&&(e.on.call("end",n,n.__data__,e.index,e.group),f())}function f(){for(var m in e.state=6,e.timer.stop(),delete i[t],i)return;delete n.__transition}i[t]=e,e.timer=G5(function o(m){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=m&&a(m-e.delay)},0,e.time)}(n,e,{name:t,index:i,group:r,on:Oge,tween:Rge,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function s3(n,t){var e=Wu(n,t);if(e.state>0)throw new Error("too late; already scheduled");return e}function dh(n,t){var e=Wu(n,t);if(e.state>3)throw new Error("too late; already running");return e}function Wu(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}var gM,J5=180/Math.PI,a3={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Q5(n,t,e,i,r,o){var a,u,f;return(a=Math.sqrt(n*n+t*t))&&(n/=a,t/=a),(f=n*e+t*i)&&(e-=n*f,i-=t*f),(u=Math.sqrt(e*e+i*i))&&(e/=u,i/=u,f/=u),n*i<t*e&&(n=-n,t=-t,f=-f,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(t,n)*J5,skewX:Math.atan(f)*J5,scaleX:a,scaleY:u}}function X5(n,t,e,i){function r(m){return m.length?m.pop()+" ":""}return function(m,v){var x=[],S=[];return m=n(m),v=n(v),function o(m,v,x,S,k,O){if(m!==x||v!==S){var U=k.push("translate(",null,t,null,e);O.push({i:U-4,x:qu(m,x)},{i:U-2,x:qu(v,S)})}else(x||S)&&k.push("translate("+x+t+S+e)}(m.translateX,m.translateY,v.translateX,v.translateY,x,S),function a(m,v,x,S){m!==v?(m-v>180?v+=360:v-m>180&&(m+=360),S.push({i:x.push(r(x)+"rotate(",null,i)-2,x:qu(m,v)})):v&&x.push(r(x)+"rotate("+v+i)}(m.rotate,v.rotate,x,S),function u(m,v,x,S){m!==v?S.push({i:x.push(r(x)+"skewX(",null,i)-2,x:qu(m,v)}):v&&x.push(r(x)+"skewX("+v+i)}(m.skewX,v.skewX,x,S),function f(m,v,x,S,k,O){if(m!==x||v!==S){var U=k.push(r(k)+"scale(",null,",",null,")");O.push({i:U-4,x:qu(m,x)},{i:U-2,x:qu(v,S)})}else(1!==x||1!==S)&&k.push(r(k)+"scale("+x+","+S+")")}(m.scaleX,m.scaleY,v.scaleX,v.scaleY,x,S),m=v=null,function(k){for(var V,O=-1,U=S.length;++O<U;)x[(V=S[O]).i]=V.x(k);return x.join("")}}}var Uge=X5(function Vge(n){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?a3:Q5(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),Hge=X5(function Bge(n){return null!=n&&(gM||(gM=document.createElementNS("http://www.w3.org/2000/svg","g")),gM.setAttribute("transform",n),n=gM.transform.baseVal.consolidate())?Q5((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):a3},", ",")",")");function Yge(n,t){var e,i;return function(){var r=dh(this,n),o=r.tween;if(o!==e)for(var a=0,u=(i=e=o).length;a<u;++a)if(i[a].name===t){(i=i.slice()).splice(a,1);break}r.tween=i}}function jge(n,t,e){var i,r;if("function"!=typeof e)throw new Error;return function(){var o=dh(this,n),a=o.tween;if(a!==i){r=(i=a).slice();for(var u={name:t,value:e},f=0,m=r.length;f<m;++f)if(r[f].name===t){r[f]=u;break}f===m&&r.push(u)}o.tween=r}}function l3(n,t,e){var i=n._id;return n.each(function(){var r=dh(this,i);(r.value||(r.value={}))[t]=e.apply(this,arguments)}),function(r){return Wu(r,i).value[t]}}function eq(n,t){var e;return("number"==typeof t?qu:t instanceof P_?aM:(e=P_(t))?(t=e,aM):H5)(n,t)}function Gge(n){return function(){this.removeAttribute(n)}}function $ge(n){return function(){this.removeAttributeNS(n.space,n.local)}}function qge(n,t,e){var i,o,r=e+"";return function(){var a=this.getAttribute(n);return a===r?null:a===i?o:o=t(i=a,e)}}function Wge(n,t,e){var i,o,r=e+"";return function(){var a=this.getAttributeNS(n.space,n.local);return a===r?null:a===i?o:o=t(i=a,e)}}function zge(n,t,e){var i,r,o;return function(){var a,f,u=e(this);return null==u?void this.removeAttribute(n):(a=this.getAttribute(n))===(f=u+"")?null:a===i&&f===r?o:(r=f,o=t(i=a,u))}}function Kge(n,t,e){var i,r,o;return function(){var a,f,u=e(this);return null==u?void this.removeAttributeNS(n.space,n.local):(a=this.getAttributeNS(n.space,n.local))===(f=u+"")?null:a===i&&f===r?o:(r=f,o=t(i=a,u))}}function Qge(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}function Xge(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}function e_e(n,t){var e,i;function r(){var o=t.apply(this,arguments);return o!==i&&(e=(i=o)&&Xge(n,o)),e}return r._value=t,r}function t_e(n,t){var e,i;function r(){var o=t.apply(this,arguments);return o!==i&&(e=(i=o)&&Qge(n,o)),e}return r._value=t,r}function i_e(n,t){return function(){s3(this,n).delay=+t.apply(this,arguments)}}function r_e(n,t){return t=+t,function(){s3(this,n).delay=t}}function o_e(n,t){return function(){dh(this,n).duration=+t.apply(this,arguments)}}function a_e(n,t){return t=+t,function(){dh(this,n).duration=t}}function c_e(n,t){if("function"!=typeof t)throw new Error;return function(){dh(this,n).ease=t}}function g_e(n,t,e){var i,r,o=function m_e(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(t)?s3:dh;return function(){var a=o(this,n),u=a.on;u!==i&&(r=(i=u).copy()).on(t,e),a.on=r}}var C_e=AT.prototype.constructor;function tq(n){return function(){this.style.removeProperty(n)}}function k_e(n,t,e){return function(i){this.style.setProperty(n,t.call(this,i),e)}}function M_e(n,t,e){var i,r;function o(){var a=t.apply(this,arguments);return a!==r&&(i=(r=a)&&k_e(n,a,e)),i}return o._value=t,o}function R_e(n){return function(t){this.textContent=n.call(this,t)}}function P_e(n){var t,e;function i(){var r=n.apply(this,arguments);return r!==e&&(t=(e=r)&&R_e(r)),t}return i._value=n,i}var U_e=0;function Uf(n,t,e,i){this._groups=n,this._parents=t,this._name=e,this._id=i}function nq(){return++U_e}var V_=AT.prototype;Uf.prototype=function H_e(n){return AT().transition(n)}.prototype={constructor:Uf,select:function b_e(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=ZF(n));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var v,x,u=i[a],f=u.length,m=o[a]=new Array(f),S=0;S<f;++S)(v=u[S])&&(x=n.call(v,v.__data__,S,u))&&("__data__"in v&&(x.__data__=v.__data__),m[S]=x,mM(m[S],t,e,S,m,Wu(v,e)));return new Uf(o,this._parents,t,e)},selectAll:function x_e(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=u5(n));for(var i=this._groups,r=i.length,o=[],a=[],u=0;u<r;++u)for(var v,f=i[u],m=f.length,x=0;x<m;++x)if(v=f[x]){for(var k,S=n.call(v,v.__data__,x,f),O=Wu(v,e),U=0,V=S.length;U<V;++U)(k=S[U])&&mM(k,t,e,U,S,O);o.push(S),a.push(v)}return new Uf(o,a,t,e)},filter:function f_e(n){"function"!=typeof n&&(n=d5(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var f,o=t[r],a=o.length,u=i[r]=[],m=0;m<a;++m)(f=o[m])&&n.call(f,f.__data__,m,o)&&u.push(f);return new Uf(i,this._parents,this._name,this._id)},merge:function p_e(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,i=t.length,o=Math.min(i,e.length),a=new Array(i),u=0;u<o;++u)for(var S,f=t[u],m=e[u],v=f.length,x=a[u]=new Array(v),k=0;k<v;++k)(S=f[k]||m[k])&&(x[k]=S);for(;u<i;++u)a[u]=t[u];return new Uf(a,this._parents,this._name,this._id)},selection:function T_e(){return new C_e(this._groups,this._parents)},transition:function V_e(){for(var n=this._name,t=this._id,e=nq(),i=this._groups,r=i.length,o=0;o<r;++o)for(var f,a=i[o],u=a.length,m=0;m<u;++m)if(f=a[m]){var v=Wu(f,t);mM(f,n,e,m,a,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new Uf(i,this._parents,n,e)},call:V_.call,nodes:V_.nodes,node:V_.node,size:V_.size,empty:V_.empty,each:V_.each,on:function __e(n,t){var e=this._id;return arguments.length<2?Wu(this.node(),e).on.on(n):this.each(g_e(e,n,t))},attr:function Jge(n,t){var e=nM(n),i="transform"===e?Hge:eq;return this.attrTween(n,"function"==typeof t?(e.local?Kge:zge)(e,i,l3(this,"attr."+n,t)):null==t?(e.local?$ge:Gge)(e):(e.local?Wge:qge)(e,i,t))},attrTween:function n_e(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;var i=nM(n);return this.tween(e,(i.local?e_e:t_e)(i,t))},style:function E_e(n,t,e){var i="transform"==(n+="")?Uge:eq;return null==t?this.styleTween(n,function w_e(n,t){var e,i,r;return function(){var o=j0(this,n),a=(this.style.removeProperty(n),j0(this,n));return o===a?null:o===e&&a===i?r:r=t(e=o,i=a)}}(n,i)).on("end.style."+n,tq(n)):"function"==typeof t?this.styleTween(n,function S_e(n,t,e){var i,r,o;return function(){var a=j0(this,n),u=e(this),f=u+"";return null==u&&(this.style.removeProperty(n),f=u=j0(this,n)),a===f?null:a===i&&f===r?o:(r=f,o=t(i=a,u))}}(n,i,l3(this,"style."+n,t))).each(function A_e(n,t){var e,i,r,u,o="style."+t,a="end."+o;return function(){var f=dh(this,n),m=f.on,v=null==f.value[o]?u||(u=tq(t)):void 0;(m!==e||r!==v)&&(i=(e=m).copy()).on(a,r=v),f.on=i}}(this._id,n)):this.styleTween(n,function D_e(n,t,e){var i,o,r=e+"";return function(){var a=j0(this,n);return a===r?null:a===i?o:o=t(i=a,e)}}(n,i,t),e).on("end.style."+n,null)},styleTween:function I_e(n,t,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,M_e(n,t,e??""))},text:function O_e(n){return this.tween("text","function"==typeof n?function L_e(n){return function(){var t=n(this);this.textContent=t??""}}(l3(this,"text",n)):function N_e(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function F_e(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;return this.tween(t,P_e(n))},remove:function y_e(){return this.on("end.remove",function v_e(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}(this._id))},tween:function Zge(n,t){var e=this._id;if(n+="",arguments.length<2){for(var a,i=Wu(this.node(),e).tween,r=0,o=i.length;r<o;++r)if((a=i[r]).name===n)return a.value;return null}return this.each((null==t?Yge:jge)(e,n,t))},delay:function s_e(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?i_e:r_e)(t,n)):Wu(this.node(),t).delay},duration:function l_e(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?o_e:a_e)(t,n)):Wu(this.node(),t).duration},ease:function u_e(n){var t=this._id;return arguments.length?this.each(c_e(t,n)):Wu(this.node(),t).ease},easeVarying:function h_e(n){if("function"!=typeof n)throw new Error;return this.each(function d_e(n,t){return function(){var e=t.apply(this,arguments);if("function"!=typeof e)throw new Error;dh(this,n).ease=e}}(this._id,n))},end:function B_e(){var n,t,e=this,i=e._id,r=e.size();return new Promise(function(o,a){var u={value:a},f={value:function(){0==--r&&o()}};e.each(function(){var m=dh(this,i),v=m.on;v!==n&&((t=(n=v).copy())._.cancel.push(u),t._.interrupt.push(u),t._.end.push(f)),m.on=t}),0===r&&o()})},[Symbol.iterator]:V_[Symbol.iterator]};var j_e={time:null,delay:0,duration:250,ease:function Y_e(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function Z_e(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}AT.prototype.interrupt=function Fge(n){return this.each(function(){!function o3(n,t){var i,r,a,e=n.__transition,o=!0;if(e){for(a in t=null==t?null:t+"",e)(i=e[a]).name===t?(r=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[a]):o=!1;o&&delete n.__transition}}(this,n)})},AT.prototype.transition=function G_e(n){var t,e;n instanceof Uf?(t=n._id,n=n._name):(t=nq(),(e=j_e).time=e3(),n=null==n?null:n+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var f,a=i[o],u=a.length,m=0;m<u;++m)(f=a[m])&&mM(f,n,t,m,a,e||Z_e(f,t));return new Uf(i,this._parents,n,t)};Math;function RT(n){return{type:n}}function m3(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function g3(n){let t=n,e=n;function i(a,u,f,m){for(null==f&&(f=0),null==m&&(m=a.length);f<m;){const v=f+m>>>1;e(a[v],u)<0?f=v+1:m=v}return f}return 1===n.length&&(t=(a,u)=>n(a)-u,e=function ive(n){return(t,e)=>m3(n(t),e)}(n)),{left:i,center:function o(a,u,f,m){null==f&&(f=0),null==m&&(m=a.length);const v=i(a,u,f,m-1);return v>f&&t(a[v-1],u)>-t(a[v],u)?v-1:v},right:function r(a,u,f,m){for(null==f&&(f=0),null==m&&(m=a.length);f<m;){const v=f+m>>>1;e(a[v],u)>0?m=v:f=v+1}return f}}}["w","e"].map(RT),["n","s"].map(RT),["n","w","e","s","nw","ne","sw","se"].map(RT);var _3=Math.sqrt(50),v3=Math.sqrt(10),y3=Math.sqrt(2);function lq(n,t,e){var i=(t-n)/Math.max(0,e),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=_3?10:o>=v3?5:o>=y3?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=_3?10:o>=v3?5:o>=y3?2:1)}function b3(n,t,e){var i=Math.abs(t-n)/Math.max(0,e),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=_3?r*=10:o>=v3?r*=5:o>=y3&&(r*=2),t<n?-r:r}const Yf=1e3,eu=6e4,jf=60*eu,B_=24*jf,x3=7*B_,cq=30*B_,C3=365*B_;var T3=new Date,w3=new Date;function Ls(n,t,e,i){function r(o){return n(o=0===arguments.length?new Date:new Date(+o)),o}return r.floor=function(o){return n(o=new Date(+o)),o},r.ceil=function(o){return n(o=new Date(o-1)),t(o,1),n(o),o},r.round=function(o){var a=r(o),u=r.ceil(o);return o-a<u-o?a:u},r.offset=function(o,a){return t(o=new Date(+o),null==a?1:Math.floor(a)),o},r.range=function(o,a,u){var m,f=[];if(o=r.ceil(o),u=null==u?1:Math.floor(u),!(o<a&&u>0))return f;do{f.push(m=new Date(+o)),t(o,u),n(o)}while(m<o&&o<a);return f},r.filter=function(o){return Ls(function(a){if(a>=a)for(;n(a),!o(a);)a.setTime(a-1)},function(a,u){if(a>=a)if(u<0)for(;++u<=0;)for(;t(a,-1),!o(a););else for(;--u>=0;)for(;t(a,1),!o(a););})},e&&(r.count=function(o,a){return T3.setTime(+o),w3.setTime(+a),n(T3),n(w3),Math.floor(e(T3,w3))},r.every=function(o){return o=Math.floor(o),isFinite(o)&&o>0?o>1?r.filter(i?function(a){return i(a)%o==0}:function(a){return r.count(0,a)%o==0}):r:null}),r}var yM=Ls(function(){},function(n,t){n.setTime(+n+t)},function(n,t){return t-n});yM.every=function(n){return n=Math.floor(n),isFinite(n)&&n>0?n>1?Ls(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):yM:null};const sve=yM;var uq=Ls(function(n){n.setTime(n-n.getMilliseconds())},function(n,t){n.setTime(+n+t*Yf)},function(n,t){return(t-n)/Yf},function(n){return n.getUTCSeconds()});const PT=uq;var dq=Ls(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*Yf)},function(n,t){n.setTime(+n+t*eu)},function(n,t){return(t-n)/eu},function(n){return n.getMinutes()});const hq=dq;var fq=Ls(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*Yf-n.getMinutes()*eu)},function(n,t){n.setTime(+n+t*jf)},function(n,t){return(t-n)/jf},function(n){return n.getHours()});const pq=fq;var mq=Ls(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*eu)/B_,n=>n.getDate()-1);const bM=mq;function U_(n){return Ls(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*eu)/x3})}var xM=U_(0),CM=U_(1),W0=(U_(2),U_(3),U_(4)),gq=(U_(5),U_(6),Ls(function(n){n.setDate(1),n.setHours(0,0,0,0)},function(n,t){n.setMonth(n.getMonth()+t)},function(n,t){return t.getMonth()-n.getMonth()+12*(t.getFullYear()-n.getFullYear())},function(n){return n.getMonth()}));const _q=gq;var D3=Ls(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n,t){return t.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});D3.every=function(n){return isFinite(n=Math.floor(n))&&n>0?Ls(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};const H_=D3;var vq=Ls(function(n){n.setUTCSeconds(0,0)},function(n,t){n.setTime(+n+t*eu)},function(n,t){return(t-n)/eu},function(n){return n.getUTCMinutes()});const uve=vq;var yq=Ls(function(n){n.setUTCMinutes(0,0,0)},function(n,t){n.setTime(+n+t*jf)},function(n,t){return(t-n)/jf},function(n){return n.getUTCHours()});const dve=yq;var bq=Ls(function(n){n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCDate(n.getUTCDate()+t)},function(n,t){return(t-n)/B_},function(n){return n.getUTCDate()-1});const S3=bq;function Y_(n){return Ls(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/x3})}var A3=Y_(0),TM=Y_(1),z0=(Y_(2),Y_(3),Y_(4)),xq=(Y_(5),Y_(6),Ls(function(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCMonth(n.getUTCMonth()+t)},function(n,t){return t.getUTCMonth()-n.getUTCMonth()+12*(t.getUTCFullYear()-n.getUTCFullYear())},function(n){return n.getUTCMonth()}));const gve=xq;var E3=Ls(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t)},function(n,t){return t.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});E3.every=function(n){return isFinite(n=Math.floor(n))&&n>0?Ls(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};const K0=E3;function Cq(n,t,e,i,r,o){const a=[[PT,1,Yf],[PT,5,5e3],[PT,15,15e3],[PT,30,3e4],[o,1,eu],[o,5,5*eu],[o,15,15*eu],[o,30,30*eu],[r,1,jf],[r,3,3*jf],[r,6,6*jf],[r,12,12*jf],[i,1,B_],[i,2,2*B_],[e,1,x3],[t,1,cq],[t,3,3*cq],[n,1,C3]];function f(m,v,x){const S=Math.abs(v-m)/x,k=g3(([,,V])=>V).right(a,S);if(k===a.length)return n.every(b3(m/C3,v/C3,x));if(0===k)return sve.every(Math.max(b3(m,v,x),1));const[O,U]=a[S/a[k-1][2]<a[k][2]/S?k-1:k];return O.every(U)}return[function u(m,v,x){const S=v<m;S&&([m,v]=[v,m]);const k=x&&"function"==typeof x.range?x:f(m,v,x),O=k?k.range(m,+v+1):[];return S?O.reverse():O},f]}const[xRe,CRe]=Cq(K0,gve,A3,S3,dve,uve),[_ve,vve]=Cq(H_,_q,xM,bM,pq,hq);function k3(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function M3(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function FT(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}var Tq={"-":"",_:" ",0:"0"},Os=/^\s*\d+/,bve=/^%/,xve=/[\\^$*+?|[\]().{}]/g;function ii(n,t,e){var i=n<0?"-":"",r=(i?-n:n)+"",o=r.length;return i+(o<e?new Array(e-o+1).join(t)+r:r)}function Cve(n){return n.replace(xve,"\\$&")}function VT(n){return new RegExp("^(?:"+n.map(Cve).join("|")+")","i")}function BT(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function Tve(n,t,e){var i=Os.exec(t.slice(e,e+1));return i?(n.w=+i[0],e+i[0].length):-1}function wve(n,t,e){var i=Os.exec(t.slice(e,e+1));return i?(n.u=+i[0],e+i[0].length):-1}function Dve(n,t,e){var i=Os.exec(t.slice(e,e+2));return i?(n.U=+i[0],e+i[0].length):-1}function Sve(n,t,e){var i=Os.exec(t.slice(e,e+2));return i?(n.V=+i[0],e+i[0].length):-1}function Ave(n,t,e){var i=Os.exec(t.slice(e,e+2));return i?(n.W=+i[0],e+i[0].length):-1}function wq(n,t,e){var i=Os.exec(t.slice(e,e+4));return i?(n.y=+i[0],e+i[0].length):-1}function Dq(n,t,e){var i=Os.exec(t.slice(e,e+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function Eve(n,t,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function kve(n,t,e){var i=Os.exec(t.slice(e,e+1));return i?(n.q=3*i[0]-3,e+i[0].length):-1}function Mve(n,t,e){var i=Os.exec(t.slice(e,e+2));return i?(n.m=i[0]-1,e+i[0].length):-1}function Sq(n,t,e){var i=Os.exec(t.slice(e,e+2));return i?(n.d=+i[0],e+i[0].length):-1}function Ive(n,t,e){var i=Os.exec(t.slice(e,e+3));return i?(n.m=0,n.d=+i[0],e+i[0].length):-1}function Aq(n,t,e){var i=Os.exec(t.slice(e,e+2));return i?(n.H=+i[0],e+i[0].length):-1}function Nve(n,t,e){var i=Os.exec(t.slice(e,e+2));return i?(n.M=+i[0],e+i[0].length):-1}function Lve(n,t,e){var i=Os.exec(t.slice(e,e+2));return i?(n.S=+i[0],e+i[0].length):-1}function Ove(n,t,e){var i=Os.exec(t.slice(e,e+3));return i?(n.L=+i[0],e+i[0].length):-1}function Rve(n,t,e){var i=Os.exec(t.slice(e,e+6));return i?(n.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function Pve(n,t,e){var i=bve.exec(t.slice(e,e+1));return i?e+i[0].length:-1}function Fve(n,t,e){var i=Os.exec(t.slice(e));return i?(n.Q=+i[0],e+i[0].length):-1}function Vve(n,t,e){var i=Os.exec(t.slice(e));return i?(n.s=+i[0],e+i[0].length):-1}function Eq(n,t){return ii(n.getDate(),t,2)}function Bve(n,t){return ii(n.getHours(),t,2)}function Uve(n,t){return ii(n.getHours()%12||12,t,2)}function Hve(n,t){return ii(1+bM.count(H_(n),n),t,3)}function kq(n,t){return ii(n.getMilliseconds(),t,3)}function Yve(n,t){return kq(n,t)+"000"}function jve(n,t){return ii(n.getMonth()+1,t,2)}function Zve(n,t){return ii(n.getMinutes(),t,2)}function Gve(n,t){return ii(n.getSeconds(),t,2)}function $ve(n){var t=n.getDay();return 0===t?7:t}function qve(n,t){return ii(xM.count(H_(n)-1,n),t,2)}function Mq(n){var t=n.getDay();return t>=4||0===t?W0(n):W0.ceil(n)}function Wve(n,t){return n=Mq(n),ii(W0.count(H_(n),n)+(4===H_(n).getDay()),t,2)}function zve(n){return n.getDay()}function Kve(n,t){return ii(CM.count(H_(n)-1,n),t,2)}function Jve(n,t){return ii(n.getFullYear()%100,t,2)}function Qve(n,t){return ii((n=Mq(n)).getFullYear()%100,t,2)}function Xve(n,t){return ii(n.getFullYear()%1e4,t,4)}function eye(n,t){var e=n.getDay();return ii((n=e>=4||0===e?W0(n):W0.ceil(n)).getFullYear()%1e4,t,4)}function tye(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ii(t/60|0,"0",2)+ii(t%60,"0",2)}function Iq(n,t){return ii(n.getUTCDate(),t,2)}function nye(n,t){return ii(n.getUTCHours(),t,2)}function iye(n,t){return ii(n.getUTCHours()%12||12,t,2)}function rye(n,t){return ii(1+S3.count(K0(n),n),t,3)}function Nq(n,t){return ii(n.getUTCMilliseconds(),t,3)}function sye(n,t){return Nq(n,t)+"000"}function oye(n,t){return ii(n.getUTCMonth()+1,t,2)}function aye(n,t){return ii(n.getUTCMinutes(),t,2)}function lye(n,t){return ii(n.getUTCSeconds(),t,2)}function cye(n){var t=n.getUTCDay();return 0===t?7:t}function uye(n,t){return ii(A3.count(K0(n)-1,n),t,2)}function Lq(n){var t=n.getUTCDay();return t>=4||0===t?z0(n):z0.ceil(n)}function dye(n,t){return n=Lq(n),ii(z0.count(K0(n),n)+(4===K0(n).getUTCDay()),t,2)}function hye(n){return n.getUTCDay()}function fye(n,t){return ii(TM.count(K0(n)-1,n),t,2)}function pye(n,t){return ii(n.getUTCFullYear()%100,t,2)}function mye(n,t){return ii((n=Lq(n)).getUTCFullYear()%100,t,2)}function gye(n,t){return ii(n.getUTCFullYear()%1e4,t,4)}function _ye(n,t){var e=n.getUTCDay();return ii((n=e>=4||0===e?z0(n):z0.ceil(n)).getUTCFullYear()%1e4,t,4)}function vye(){return"+0000"}function Oq(){return"%"}function Rq(n){return+n}function Pq(n){return Math.floor(+n/1e3)}function Vq(n){return null===n?NaN:+n}!function Cye(n){(function yve(n){var t=n.dateTime,e=n.date,i=n.time,r=n.periods,o=n.days,a=n.shortDays,u=n.months,f=n.shortMonths,m=VT(r),v=BT(r),x=VT(o),S=BT(o),k=VT(a),O=BT(a),U=VT(u),V=BT(u),te=VT(f),re=BT(f),Te={a:function et(rt){return a[rt.getDay()]},A:function vt(rt){return o[rt.getDay()]},b:function _t(rt){return f[rt.getMonth()]},B:function mn(rt){return u[rt.getMonth()]},c:null,d:Eq,e:Eq,f:Yve,g:Qve,G:eye,H:Bve,I:Uve,j:Hve,L:kq,m:jve,M:Zve,p:function Hn(rt){return r[+(rt.getHours()>=12)]},q:function xn(rt){return 1+~~(rt.getMonth()/3)},Q:Rq,s:Pq,S:Gve,u:$ve,U:qve,V:Wve,w:zve,W:Kve,x:null,X:null,y:Jve,Y:Xve,Z:tye,"%":Oq},we={a:function ys(rt){return a[rt.getUTCDay()]},A:function Fn(rt){return o[rt.getUTCDay()]},b:function Us(rt){return f[rt.getUTCMonth()]},B:function ol(rt){return u[rt.getUTCMonth()]},c:null,d:Iq,e:Iq,f:sye,g:mye,G:_ye,H:nye,I:iye,j:rye,L:Nq,m:oye,M:aye,p:function In(rt){return r[+(rt.getUTCHours()>=12)]},q:function as(rt){return 1+~~(rt.getUTCMonth()/3)},Q:Rq,s:Pq,S:lye,u:cye,U:uye,V:dye,w:hye,W:fye,x:null,X:null,y:pye,Y:gye,Z:vye,"%":Oq},Ve={a:function Kt(rt,Jt,gn){var ze=k.exec(Jt.slice(gn));return ze?(rt.w=O.get(ze[0].toLowerCase()),gn+ze[0].length):-1},A:function ut(rt,Jt,gn){var ze=x.exec(Jt.slice(gn));return ze?(rt.w=S.get(ze[0].toLowerCase()),gn+ze[0].length):-1},b:function Un(rt,Jt,gn){var ze=te.exec(Jt.slice(gn));return ze?(rt.m=re.get(ze[0].toLowerCase()),gn+ze[0].length):-1},B:function Yt(rt,Jt,gn){var ze=U.exec(Jt.slice(gn));return ze?(rt.m=V.get(ze[0].toLowerCase()),gn+ze[0].length):-1},c:function Wn(rt,Jt,gn){return mt(rt,t,Jt,gn)},d:Sq,e:Sq,f:Rve,g:Dq,G:wq,H:Aq,I:Aq,j:Ive,L:Ove,m:Mve,M:Nve,p:function en(rt,Jt,gn){var ze=m.exec(Jt.slice(gn));return ze?(rt.p=v.get(ze[0].toLowerCase()),gn+ze[0].length):-1},q:kve,Q:Fve,s:Vve,S:Lve,u:wve,U:Dve,V:Sve,w:Tve,W:Ave,x:function Mr(rt,Jt,gn){return mt(rt,e,Jt,gn)},X:function Ge(rt,Jt,gn){return mt(rt,i,Jt,gn)},y:Dq,Y:wq,Z:Eve,"%":Pve};function Pe(rt,Jt){return function(gn){var Hs,tn,ur,ze=[],Ki=-1,oi=0,yo=rt.length;for(gn instanceof Date||(gn=new Date(+gn));++Ki<yo;)37===rt.charCodeAt(Ki)&&(ze.push(rt.slice(oi,Ki)),null!=(tn=Tq[Hs=rt.charAt(++Ki)])?Hs=rt.charAt(++Ki):tn="e"===Hs?" ":"0",(ur=Jt[Hs])&&(Hs=ur(gn,tn)),ze.push(Hs),oi=Ki+1);return ze.push(rt.slice(oi,Ki)),ze.join("")}}function ct(rt,Jt){return function(gn){var oi,yo,ze=FT(1900,void 0,1);if(mt(ze,rt,gn+="",0)!=gn.length)return null;if("Q"in ze)return new Date(ze.Q);if("s"in ze)return new Date(1e3*ze.s+("L"in ze?ze.L:0));if(Jt&&!("Z"in ze)&&(ze.Z=0),"p"in ze&&(ze.H=ze.H%12+12*ze.p),void 0===ze.m&&(ze.m="q"in ze?ze.q:0),"V"in ze){if(ze.V<1||ze.V>53)return null;"w"in ze||(ze.w=1),"Z"in ze?(yo=(oi=M3(FT(ze.y,0,1))).getUTCDay(),oi=yo>4||0===yo?TM.ceil(oi):TM(oi),oi=S3.offset(oi,7*(ze.V-1)),ze.y=oi.getUTCFullYear(),ze.m=oi.getUTCMonth(),ze.d=oi.getUTCDate()+(ze.w+6)%7):(yo=(oi=k3(FT(ze.y,0,1))).getDay(),oi=yo>4||0===yo?CM.ceil(oi):CM(oi),oi=bM.offset(oi,7*(ze.V-1)),ze.y=oi.getFullYear(),ze.m=oi.getMonth(),ze.d=oi.getDate()+(ze.w+6)%7)}else("W"in ze||"U"in ze)&&("w"in ze||(ze.w="u"in ze?ze.u%7:"W"in ze?1:0),yo="Z"in ze?M3(FT(ze.y,0,1)).getUTCDay():k3(FT(ze.y,0,1)).getDay(),ze.m=0,ze.d="W"in ze?(ze.w+6)%7+7*ze.W-(yo+5)%7:ze.w+7*ze.U-(yo+6)%7);return"Z"in ze?(ze.H+=ze.Z/100|0,ze.M+=ze.Z%100,M3(ze)):k3(ze)}}function mt(rt,Jt,gn,ze){for(var Hs,tn,Ki=0,oi=Jt.length,yo=gn.length;Ki<oi;){if(ze>=yo)return-1;if(37===(Hs=Jt.charCodeAt(Ki++))){if(Hs=Jt.charAt(Ki++),!(tn=Ve[Hs in Tq?Jt.charAt(Ki++):Hs])||(ze=tn(rt,gn,ze))<0)return-1}else if(Hs!=gn.charCodeAt(ze++))return-1}return ze}return Te.x=Pe(e,Te),Te.X=Pe(i,Te),Te.c=Pe(t,Te),we.x=Pe(e,we),we.X=Pe(i,we),we.c=Pe(t,we),{format:function(rt){var Jt=Pe(rt+="",Te);return Jt.toString=function(){return rt},Jt},parse:function(rt){var Jt=ct(rt+="",!1);return Jt.toString=function(){return rt},Jt},utcFormat:function(rt){var Jt=Pe(rt+="",we);return Jt.toString=function(){return rt},Jt},utcParse:function(rt){var Jt=ct(rt+="",!0);return Jt.toString=function(){return rt},Jt}}})(n)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Tye=g3(m3).right,Uq=(g3(Vq),Tye);function wye(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function Sye(n){return+n}var Hq=[0,1];function Q0(n){return n}function I3(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:function Dye(n){return function(){return n}}(isNaN(t)?NaN:.5)}function Eye(n,t,e){var i=n[0],r=n[1],o=t[0],a=t[1];return r<i?(i=I3(r,i),o=e(a,o)):(i=I3(i,r),o=e(o,a)),function(u){return o(i(u))}}function kye(n,t,e){var i=Math.min(n.length,t.length)-1,r=new Array(i),o=new Array(i),a=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<i;)r[a]=I3(n[a],n[a+1]),o[a]=e(t[a],t[a+1]);return function(u){var f=Uq(n,u,1,i)-1;return o[f](r[f](u))}}function Yq(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function jq(){return function Mye(){var i,r,o,u,f,m,n=Hq,t=Hq,e=lM,a=Q0;function v(){var S=Math.min(n.length,t.length);return a!==Q0&&(a=function Aye(n,t){var e;return n>t&&(e=n,n=t,t=e),function(i){return Math.max(n,Math.min(t,i))}}(n[0],n[S-1])),u=S>2?kye:Eye,f=m=null,x}function x(S){return null==S||isNaN(S=+S)?o:(f||(f=u(n.map(i),t,e)))(i(a(S)))}return x.invert=function(S){return a(r((m||(m=u(t,n.map(i),qu)))(S)))},x.domain=function(S){return arguments.length?(n=Array.from(S,Sye),v()):n.slice()},x.range=function(S){return arguments.length?(t=Array.from(S),v()):t.slice()},x.rangeRound=function(S){return t=Array.from(S),e=wye,v()},x.clamp=function(S){return arguments.length?(a=!!S||Q0,v()):a!==Q0},x.interpolate=function(S){return arguments.length?(e=S,v()):e},x.unknown=function(S){return arguments.length?(o=S,x):o},function(S,k){return i=S,r=k,v()}}()(Q0,Q0)}function UT(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n)}return this}var Gq,Rye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wM(n){if(!(t=Rye.exec(n)))throw new Error("invalid format: "+n);var t;return new N3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function N3(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}function DM(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,i=n.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+n.slice(e+1)]}function X0(n){return(n=DM(Math.abs(n)))?n[1]:NaN}function $q(n,t){var e=DM(n,t);if(!e)return n+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}wM.prototype=N3.prototype,N3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const qq={"%":(n,t)=>(100*n).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:function Pye(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>$q(100*n,t),r:$q,s:function Hye(n,t){var e=DM(n,t);if(!e)return n+"";var i=e[0],r=e[1],o=r-(Gq=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+DM(n,Math.max(0,t+o-1))[0]},X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Wq(n){return n}var SM,Jq,Qq,zq=Array.prototype.map,Kq=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function qye(n){var t=n.domain;return n.ticks=function(e){var i=t();return function rve(n,t,e){var i,o,a,u,r=-1;if(e=+e,(n=+n)==(t=+t)&&e>0)return[n];if((i=t<n)&&(o=n,n=t,t=o),0===(u=lq(n,t,e))||!isFinite(u))return[];if(u>0){let f=Math.round(n/u),m=Math.round(t/u);for(f*u<n&&++f,m*u>t&&--m,a=new Array(o=m-f+1);++r<o;)a[r]=(f+r)*u}else{u=-u;let f=Math.round(n*u),m=Math.round(t*u);for(f/u<n&&++f,m/u>t&&--m,a=new Array(o=m-f+1);++r<o;)a[r]=(f+r)/u}return i&&a.reverse(),a}(i[0],i[i.length-1],e??10)},n.tickFormat=function(e,i){var r=t();return function $ye(n,t,e,i){var o,r=b3(n,t,e);switch((i=wM(i??",f")).type){case"s":var a=Math.max(Math.abs(n),Math.abs(t));return null==i.precision&&!isNaN(o=function Fye(n,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(X0(t)/3)))-X0(Math.abs(n)))}(r,a))&&(i.precision=o),Qq(i,a);case"":case"e":case"g":case"p":case"r":null==i.precision&&!isNaN(o=function Zye(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,X0(t)-X0(n))+1}(r,Math.max(Math.abs(n),Math.abs(t))))&&(i.precision=o-("e"===i.type));break;case"f":case"%":null==i.precision&&!isNaN(o=function Gye(n){return Math.max(0,-X0(Math.abs(n)))}(r))&&(i.precision=o-2*("%"===i.type))}return Jq(i)}(r[0],r[r.length-1],e??10,i)},n.nice=function(e){null==e&&(e=10);var f,m,i=t(),r=0,o=i.length-1,a=i[r],u=i[o],v=10;for(u<a&&(m=a,a=u,u=m,m=r,r=o,o=m);v-- >0;){if((m=lq(a,u,e))===f)return i[r]=a,i[o]=u,t(i);if(m>0)a=Math.floor(a/m)*m,u=Math.ceil(u/m)*m;else{if(!(m<0))break;a=Math.ceil(a*m)/m,u=Math.floor(u*m)/m}f=m}return n},n}function eb(){var n=jq();return n.copy=function(){return Yq(n,eb())},UT.apply(n,arguments),qye(n)}function Xq(n,t,e){n=+n,t=+t,e=(r=arguments.length)<2?(t=n,n=0,1):r<3?1:+e;for(var i=-1,r=0|Math.max(0,Math.ceil((t-n)/e)),o=new Array(r);++i<r;)o[i]=n+i*e;return o}!function jye(n){SM=function Yye(n){var t=void 0===n.grouping||void 0===n.thousands?Wq:function Vye(n,t){return function(e,i){for(var r=e.length,o=[],a=0,u=n[0],f=0;r>0&&u>0&&(f+u+1>i&&(u=Math.max(1,i-f)),o.push(e.substring(r-=u,r+u)),!((f+=u+1)>i));)u=n[a=(a+1)%n.length];return o.reverse().join(t)}}(zq.call(n.grouping,Number),n.thousands+""),e=void 0===n.currency?"":n.currency[0]+"",i=void 0===n.currency?"":n.currency[1]+"",r=void 0===n.decimal?".":n.decimal+"",o=void 0===n.numerals?Wq:function Bye(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}(zq.call(n.numerals,String)),a=void 0===n.percent?"%":n.percent+"",u=void 0===n.minus?"\u2212":n.minus+"",f=void 0===n.nan?"NaN":n.nan+"";function m(x){var S=(x=wM(x)).fill,k=x.align,O=x.sign,U=x.symbol,V=x.zero,te=x.width,re=x.comma,Te=x.precision,we=x.trim,Ve=x.type;"n"===Ve?(re=!0,Ve="g"):qq[Ve]||(void 0===Te&&(Te=12),we=!0,Ve="g"),(V||"0"===S&&"="===k)&&(V=!0,S="0",k="=");var Pe="$"===U?e:"#"===U&&/[boxX]/.test(Ve)?"0"+Ve.toLowerCase():"",ct="$"===U?i:/[%p]/.test(Ve)?a:"",mt=qq[Ve],en=/[defgprs%]/.test(Ve);function Kt(ut){var Wn,Mr,Ge,Un=Pe,Yt=ct;if("c"===Ve)Yt=mt(ut)+Yt,ut="";else{var et=(ut=+ut)<0||1/ut<0;if(ut=isNaN(ut)?f:mt(Math.abs(ut),Te),we&&(ut=function Uye(n){e:for(var r,t=n.length,e=1,i=-1;e<t;++e)switch(n[e]){case".":i=r=e;break;case"0":0===i&&(i=e),r=e;break;default:if(!+n[e])break e;i>0&&(i=0)}return i>0?n.slice(0,i)+n.slice(r+1):n}(ut)),et&&0==+ut&&"+"!==O&&(et=!1),Un=(et?"("===O?O:u:"-"===O||"("===O?"":O)+Un,Yt=("s"===Ve?Kq[8+Gq/3]:"")+Yt+(et&&"("===O?")":""),en)for(Wn=-1,Mr=ut.length;++Wn<Mr;)if(48>(Ge=ut.charCodeAt(Wn))||Ge>57){Yt=(46===Ge?r+ut.slice(Wn+1):ut.slice(Wn))+Yt,ut=ut.slice(0,Wn);break}}re&&!V&&(ut=t(ut,1/0));var vt=Un.length+ut.length+Yt.length,_t=vt<te?new Array(te-vt+1).join(S):"";switch(re&&V&&(ut=t(_t+ut,_t.length?te-Yt.length:1/0),_t=""),k){case"<":ut=Un+ut+Yt+_t;break;case"=":ut=Un+_t+ut+Yt;break;case"^":ut=_t.slice(0,vt=_t.length>>1)+Un+ut+Yt+_t.slice(vt);break;default:ut=_t+Un+ut+Yt}return o(ut)}return Te=void 0===Te?6:/[gprs]/.test(Ve)?Math.max(1,Math.min(21,Te)):Math.max(0,Math.min(20,Te)),Kt.toString=function(){return x+""},Kt}return{format:m,formatPrefix:function v(x,S){var k=m(((x=wM(x)).type="f",x)),O=3*Math.max(-8,Math.min(8,Math.floor(X0(S)/3))),U=Math.pow(10,-O),V=Kq[8+O/3];return function(te){return k(U*te)+V}}}}(n),Jq=SM.format,Qq=SM.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});const eW=Symbol("implicit");function L3(){var n=new Map,t=[],e=[],i=eW;function r(o){var a=o+"",u=n.get(a);if(!u){if(i!==eW)return i;n.set(a,u=t.push(o))}return e[(u-1)%e.length]}return r.domain=function(o){if(!arguments.length)return t.slice();t=[],n=new Map;for(const a of o){const u=a+"";n.has(u)||n.set(u,t.push(a))}return r},r.range=function(o){return arguments.length?(e=Array.from(o),r):e.slice()},r.unknown=function(o){return arguments.length?(i=o,r):i},r.copy=function(){return L3(t,e).unknown(i)},UT.apply(r,arguments),r}function AM(){var o,a,n=L3().unknown(void 0),t=n.domain,e=n.range,i=0,r=1,u=!1,f=0,m=0,v=.5;function x(){var S=t().length,k=r<i,O=k?r:i,U=k?i:r;o=(U-O)/Math.max(1,S-f+2*m),u&&(o=Math.floor(o)),O+=(U-O-o*(S-f))*v,a=o*(1-f),u&&(O=Math.round(O),a=Math.round(a));var V=Xq(S).map(function(te){return O+o*te});return e(k?V.reverse():V)}return delete n.unknown,n.domain=function(S){return arguments.length?(t(S),x()):t()},n.range=function(S){return arguments.length?([i,r]=S,i=+i,r=+r,x()):[i,r]},n.rangeRound=function(S){return[i,r]=S,i=+i,r=+r,u=!0,x()},n.bandwidth=function(){return a},n.step=function(){return o},n.round=function(S){return arguments.length?(u=!!S,x()):u},n.padding=function(S){return arguments.length?(f=Math.min(1,m=+S),x()):f},n.paddingInner=function(S){return arguments.length?(f=Math.min(1,S),x()):f},n.paddingOuter=function(S){return arguments.length?(m=+S,x()):m},n.align=function(S){return arguments.length?(v=Math.max(0,Math.min(1,S)),x()):v},n.copy=function(){return AM(t(),[i,r]).round(u).paddingInner(f).paddingOuter(m).align(v)},UT.apply(x(),arguments)}function zye(n,t,e=Vq){if(i=n.length){if((t=+t)<=0||i<2)return+e(n[0],0,n);if(t>=1)return+e(n[i-1],i-1,n);var i,r=(i-1)*t,o=Math.floor(r),a=+e(n[o],o,n);return a+(+e(n[o+1],o+1,n)-a)*(r-o)}}function nW(){var i,n=[],t=[],e=[];function r(){var a=0,u=Math.max(1,t.length);for(e=new Array(u-1);++a<u;)e[a-1]=zye(n,a/u);return o}function o(a){return null==a||isNaN(a=+a)?i:t[Uq(e,a)]}return o.invertExtent=function(a){var u=t.indexOf(a);return u<0?[NaN,NaN]:[u>0?e[u-1]:n[0],u<e.length?e[u]:n[n.length-1]]},o.domain=function(a){if(!arguments.length)return n.slice();n=[];for(let u of a)null!=u&&!isNaN(u=+u)&&n.push(u);return n.sort(m3),r()},o.range=function(a){return arguments.length?(t=Array.from(a),r()):t.slice()},o.unknown=function(a){return arguments.length?(i=a,o):i},o.quantiles=function(){return e.slice()},o.copy=function(){return nW().domain(n).range(t).unknown(i)},UT.apply(o,arguments)}I(6087);const Kye=["caretElm"];function Jye(n,t){}const Qye=function(n){return{model:n}};function Xye(n,t){if(1&n&&(s.TgZ(0,"span"),s.YNc(1,Jye,0,0,"ng-template",5),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.template)("ngTemplateOutletContext",s.VKq(2,Qye,e.context))}}function e0e(n,t){if(1&n&&s._UZ(0,"span",6),2&n){const e=s.oxw();s.Q6J("innerHTML",e.title,s.oJD)}}function t0e(n,t){if(1&n&&(s.TgZ(0,"header",4)(1,"span",5),s._uU(2),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Oqu(e.title)}}function n0e(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",6)(1,"ngx-charts-legend-entry",7),s.NdJ("select",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.labelClick.emit(r))})("activate",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activate(r))})("deactivate",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.deactivate(r))}),s.qZA()()}if(2&n){const e=t.$implicit,i=s.oxw();s.xp6(1),s.Q6J("label",e.label)("formattedLabel",e.formattedLabel)("color",e.color)("isActive",i.isActive(e))}}function i0e(n,t){if(1&n&&(s.O4$(),s.kcU(),s._UZ(0,"ngx-charts-scale-legend",4)),2&n){const e=s.oxw();s.Q6J("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("valueRange",e.legendOptions.domain)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)}}function r0e(n,t){if(1&n){const e=s.EpF();s.O4$(),s.kcU(),s.TgZ(0,"ngx-charts-legend",5),s.NdJ("labelClick",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.legendLabelClick.emit(r))})("labelActivate",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.legendLabelActivate.emit(r))})("labelDeactivate",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.legendLabelDeactivate.emit(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("data",e.legendOptions.domain)("title",e.legendOptions.title)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)("activeEntries",e.activeEntries)}}const iW=["*"],s0e=["ngx-charts-axis-label",""],rW=["ticksel"],o0e=["ngx-charts-x-axis-ticks",""];function a0e(n,t){if(1&n&&(s.O4$(),s.TgZ(0,"g",3)(1,"title"),s._uU(2),s.qZA(),s.TgZ(3,"text",4),s._uU(4),s.qZA()()),2&n){const e=t.$implicit,i=s.oxw();s.uIk("transform",i.tickTransform(e)),s.xp6(2),s.Oqu(i.tickFormat(e)),s.xp6(1),s.Udp("font-size","12px"),s.uIk("text-anchor",i.textAnchor)("transform",i.textTransform),s.xp6(1),s.hij(" ",i.tickTrim(i.tickFormat(e))," ")}}function l0e(n,t){if(1&n&&(s.O4$(),s.TgZ(0,"g"),s._UZ(1,"line",6),s.qZA()),2&n){const e=s.oxw(2);s.uIk("transform",e.gridLineTransform()),s.xp6(1),s.uIk("y1",-e.gridLineHeight)}}function c0e(n,t){if(1&n&&(s.O4$(),s.TgZ(0,"g"),s.YNc(1,l0e,2,2,"g",5),s.qZA()),2&n){const e=t.$implicit,i=s.oxw();s.uIk("transform",i.tickTransform(e)),s.xp6(1),s.Q6J("ngIf",i.showGridLines)}}const u0e=["ngx-charts-x-axis",""];function d0e(n,t){if(1&n){const e=s.EpF();s.O4$(),s.TgZ(0,"g",2),s.NdJ("dimensionsChanged",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.emitTicksHeight(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("trimTicks",e.trimTicks)("rotateTicks",e.rotateTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickStroke",e.tickStroke)("scale",e.xScale)("orient",e.xOrient)("showGridLines",e.showGridLines)("gridLineHeight",e.dims.height)("width",e.dims.width)("tickValues",e.ticks)}}function h0e(n,t){if(1&n&&(s.O4$(),s._UZ(0,"g",3)),2&n){const e=s.oxw();s.Q6J("label",e.labelText)("offset",e.labelOffset)("orient",e.orientation.Bottom)("height",e.dims.height)("width",e.dims.width)}}const f0e=["ngx-charts-y-axis-ticks",""];function p0e(n,t){if(1&n&&(s.O4$(),s.TgZ(0,"g",4)(1,"title"),s._uU(2),s.qZA(),s.TgZ(3,"text",5),s._uU(4),s.qZA()()),2&n){const e=t.$implicit,i=s.oxw();s.uIk("transform",i.transform(e)),s.xp6(2),s.Oqu(i.tickFormat(e)),s.xp6(1),s.Udp("font-size","12px"),s.uIk("dy",i.dy)("x",i.x1)("y",i.y1)("text-anchor",i.textAnchor),s.xp6(1),s.hij(" ",i.tickTrim(i.tickFormat(e))," ")}}function m0e(n,t){if(1&n&&(s.O4$(),s._UZ(0,"path",6)),2&n){const e=s.oxw();s.uIk("d",e.referenceAreaPath)("transform",e.gridLineTransform())}}function g0e(n,t){if(1&n&&(s.O4$(),s._UZ(0,"line",9)),2&n){const e=s.oxw(3);s.uIk("x2",e.gridLineWidth)}}function _0e(n,t){if(1&n&&(s.O4$(),s._UZ(0,"line",9)),2&n){const e=s.oxw(3);s.uIk("x2",-e.gridLineWidth)}}function v0e(n,t){if(1&n&&(s.O4$(),s.TgZ(0,"g"),s.YNc(1,g0e,1,1,"line",8),s.YNc(2,_0e,1,1,"line",8),s.qZA()),2&n){const e=s.oxw(2);s.uIk("transform",e.gridLineTransform()),s.xp6(1),s.Q6J("ngIf",e.orient===e.Orientation.Left),s.xp6(1),s.Q6J("ngIf",e.orient===e.Orientation.Right)}}function y0e(n,t){if(1&n&&(s.O4$(),s.TgZ(0,"g"),s.YNc(1,v0e,3,3,"g",7),s.qZA()),2&n){const e=t.$implicit,i=s.oxw();s.uIk("transform",i.transform(e)),s.xp6(1),s.Q6J("ngIf",i.showGridLines)}}function b0e(n,t){if(1&n&&(s.O4$(),s.TgZ(0,"g")(1,"title"),s._uU(2),s.qZA(),s.TgZ(3,"text",11),s._uU(4),s.qZA()()),2&n){const e=s.oxw(2).$implicit,i=s.oxw();s.xp6(2),s.Oqu(i.tickTrim(i.tickFormat(e.value))),s.xp6(1),s.uIk("dy",i.dy)("y",-6)("x",i.gridLineWidth)("text-anchor",i.textAnchor),s.xp6(1),s.hij(" ",e.name," ")}}function x0e(n,t){if(1&n&&(s.O4$(),s.TgZ(0,"g"),s._UZ(1,"line",10),s.YNc(2,b0e,5,6,"g",7),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw();s.uIk("transform",i.transform(e.value)),s.xp6(1),s.uIk("x2",i.gridLineWidth)("transform",i.gridLineTransform()),s.xp6(1),s.Q6J("ngIf",i.showRefLabels)}}function C0e(n,t){if(1&n&&(s.O4$(),s.TgZ(0,"g"),s.YNc(1,x0e,3,4,"g",7),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",e.showRefLines)}}const T0e=["ngx-charts-y-axis",""];function w0e(n,t){if(1&n){const e=s.EpF();s.O4$(),s.TgZ(0,"g",2),s.NdJ("dimensionsChanged",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.emitTicksWidth(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("trimTicks",e.trimTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickValues",e.ticks)("tickStroke",e.tickStroke)("scale",e.yScale)("orient",e.yOrient)("showGridLines",e.showGridLines)("gridLineWidth",e.dims.width)("referenceLines",e.referenceLines)("showRefLines",e.showRefLines)("showRefLabels",e.showRefLabels)("height",e.dims.height)}}function D0e(n,t){if(1&n&&(s.O4$(),s._UZ(0,"g",3)),2&n){const e=s.oxw();s.Q6J("label",e.labelText)("offset",e.labelOffset)("orient",e.yOrient)("height",e.dims.height)("width",e.dims.width)}}const S0e=["ngx-charts-svg-linear-gradient",""];function A0e(n,t){if(1&n&&(s.O4$(),s._UZ(0,"stop")),2&n){const e=t.$implicit;s.Udp("stop-color",e.color)("stop-opacity",e.opacity),s.uIk("offset",e.offset+"%")}}const ebe=["tooltipTemplate"],HT=function(n,t){return[n,t]},lbe=["ngx-charts-bar",""];function cbe(n,t){if(1&n&&(s.O4$(),s.TgZ(0,"defs"),s._UZ(1,"g",2),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("orientation",e.orientation)("name",e.gradientId)("stops",e.gradientStops)}}const ube=["ngx-charts-bar-label",""],vbe=["ngx-charts-series-vertical",""];function ybe(n,t){if(1&n){const e=s.EpF();s.O4$(),s.TgZ(0,"g",2),s.NdJ("select",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onClick(r))})("activate",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.activate.emit(r))})("deactivate",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.deactivate.emit(r))}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(2);s.Q6J("@animationState","active")("@.disabled",!i.animations)("width",e.width)("height",e.height)("x",e.x)("y",e.y)("fill",e.color)("stops",e.gradientStops)("data",e.data)("orientation",i.barOrientation.Vertical)("roundEdges",e.roundEdges)("gradient",i.gradient)("ariaLabel",e.ariaLabel)("isActive",i.isActive(e.data))("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.tooltipPlacement)("tooltipType",i.tooltipType)("tooltipTitle",i.tooltipTemplate?void 0:e.tooltipText)("tooltipTemplate",i.tooltipTemplate)("tooltipContext",e.data)("noBarWhenZero",i.noBarWhenZero)("animations",i.animations)}}function bbe(n,t){if(1&n&&(s.O4$(),s.TgZ(0,"g"),s.YNc(1,ybe,1,22,"g",1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.bars)("ngForTrackBy",e.trackBy)}}function xbe(n,t){if(1&n){const e=s.EpF();s.O4$(),s.TgZ(0,"g",2),s.NdJ("select",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onClick(r))})("activate",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.activate.emit(r))})("deactivate",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.deactivate.emit(r))}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(2);s.Q6J("width",e.width)("height",e.height)("x",e.x)("y",e.y)("fill",e.color)("stops",e.gradientStops)("data",e.data)("orientation",i.barOrientation.Vertical)("roundEdges",e.roundEdges)("gradient",i.gradient)("ariaLabel",e.ariaLabel)("isActive",i.isActive(e.data))("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.tooltipPlacement)("tooltipType",i.tooltipType)("tooltipTitle",i.tooltipTemplate?void 0:e.tooltipText)("tooltipTemplate",i.tooltipTemplate)("tooltipContext",e.data)("noBarWhenZero",i.noBarWhenZero)("animations",i.animations)}}function Cbe(n,t){if(1&n&&(s.O4$(),s.TgZ(0,"g"),s.YNc(1,xbe,1,20,"g",1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.bars)("ngForTrackBy",e.trackBy)}}function Tbe(n,t){if(1&n){const e=s.EpF();s.O4$(),s.TgZ(0,"g",4),s.NdJ("dimensionsChanged",function(r){const a=s.CHM(e).index,u=s.oxw(2);return s.KtG(u.dataLabelHeightChanged.emit({size:r,index:a}))}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(2);s.Q6J("barX",e.x)("barY",e.y)("barWidth",e.width)("barHeight",e.height)("value",e.total)("valueFormatting",i.dataLabelFormatting)("orientation",i.barOrientation.Vertical)}}function wbe(n,t){if(1&n&&(s.O4$(),s.TgZ(0,"g"),s.YNc(1,Tbe,1,7,"g",3),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.barsForDataLabels)("ngForTrackBy",e.trackDataLabelBy)}}function Dbe(n,t){if(1&n){const e=s.EpF();s.O4$(),s.TgZ(0,"g",5),s.NdJ("dimensionsChanged",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.updateXAxisHeight(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("xScale",e.xScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)("xAxisOffset",e.dataLabelMaxHeight.negative)}}function Sbe(n,t){if(1&n){const e=s.EpF();s.O4$(),s.TgZ(0,"g",6),s.NdJ("dimensionsChanged",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.updateYAxisWidth(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("yScale",e.yScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)}}function e1e(n,t,e){e=e||{};let i,r,o,a=null,u=0;function f(){u=!1===e.leading?0:+new Date,a=null,o=n.apply(i,r)}return function(){const m=+new Date;!u&&!1===e.leading&&(u=m);const v=t-(m-u);return i=this,r=arguments,v<=0?(clearTimeout(a),a=null,u=m,o=n.apply(i,r)):!a&&!1!==e.trailing&&(a=setTimeout(f,v)),o}}function t1e(n,t){return function(i,r,o){return{configurable:!0,enumerable:o.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:o.enumerable,value:e1e(o.value,n,t)}),this[r]}}}}var Dn=(()=>{return(n=Dn||(Dn={})).Top="top",n.Bottom="bottom",n.Left="left",n.Right="right",n.Center="center",Dn;var n})();function sW(n,t,e){return e===Dn.Top?n.top-7:e===Dn.Bottom?n.top+n.height-t.height+7:e===Dn.Center?n.top+n.height/2-t.height/2:void 0}function oW(n,t,e){return e===Dn.Left?n.left-7:e===Dn.Right?n.left+n.width-t.width+7:e===Dn.Center?n.left+n.width/2-t.width/2:void 0}class Wl{static calculateVerticalAlignment(t,e,i){let r=sW(t,e,i);return r+e.height>window.innerHeight&&(r=window.innerHeight-e.height),r}static calculateVerticalCaret(t,e,i,r){let o;r===Dn.Top&&(o=t.height/2-i.height/2+7),r===Dn.Bottom&&(o=e.height-t.height/2-i.height/2-7),r===Dn.Center&&(o=e.height/2-i.height/2);const a=sW(t,e,r);return a+e.height>window.innerHeight&&(o+=a+e.height-window.innerHeight),o}static calculateHorizontalAlignment(t,e,i){let r=oW(t,e,i);return r+e.width>window.innerWidth&&(r=window.innerWidth-e.width),r}static calculateHorizontalCaret(t,e,i,r){let o;r===Dn.Left&&(o=t.width/2-i.width/2+7),r===Dn.Right&&(o=e.width-t.width/2-i.width/2-7),r===Dn.Center&&(o=e.width/2-i.width/2);const a=oW(t,e,r);return a+e.width>window.innerWidth&&(o+=a+e.width-window.innerWidth),o}static shouldFlip(t,e,i,r){let o=!1;return i===Dn.Right&&t.left+t.width+e.width+r>window.innerWidth&&(o=!0),i===Dn.Left&&t.left-e.width-r<0&&(o=!0),i===Dn.Top&&t.top-e.height-r<0&&(o=!0),i===Dn.Bottom&&t.top+t.height+e.height+r>window.innerHeight&&(o=!0),o}static positionCaret(t,e,i,r,o){let a=0,u=0;return t===Dn.Right?(u=-7,a=Wl.calculateVerticalCaret(i,e,r,o)):t===Dn.Left?(u=e.width,a=Wl.calculateVerticalCaret(i,e,r,o)):t===Dn.Top?(a=e.height,u=Wl.calculateHorizontalCaret(i,e,r,o)):t===Dn.Bottom&&(a=-7,u=Wl.calculateHorizontalCaret(i,e,r,o)),{top:a,left:u}}static positionContent(t,e,i,r,o){let a=0,u=0;return t===Dn.Right?(u=i.left+i.width+r,a=Wl.calculateVerticalAlignment(i,e,o)):t===Dn.Left?(u=i.left-e.width-r,a=Wl.calculateVerticalAlignment(i,e,o)):t===Dn.Top?(a=i.top-e.height-r,u=Wl.calculateHorizontalAlignment(i,e,o)):t===Dn.Bottom&&(a=i.top+i.height+r,u=Wl.calculateHorizontalAlignment(i,e,o)),{top:a,left:u}}static determinePlacement(t,e,i,r){if(Wl.shouldFlip(i,e,t,r)){if(t===Dn.Right)return Dn.Left;if(t===Dn.Left)return Dn.Right;if(t===Dn.Top)return Dn.Bottom;if(t===Dn.Bottom)return Dn.Top}return t}}let n1e=(()=>{class n{constructor(e,i,r){this.element=e,this.renderer=i,this.platformId=r}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!ia(this.platformId))return;const e=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const r=e.getBoundingClientRect();this.checkFlip(i,r),this.positionContent(e,i,r),this.showCaret&&this.positionCaret(i,r),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,i,r){const{top:o,left:a}=Wl.positionContent(this.placement,r,i,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${o}px`),this.renderer.setStyle(e,"left",`${a}px`)}positionCaret(e,i){const r=this.caretElm.nativeElement,o=r.getBoundingClientRect(),{top:a,left:u}=Wl.positionCaret(this.placement,i,e,o,this.alignment);this.renderer.setStyle(r,"top",`${a}px`),this.renderer.setStyle(r,"left",`${u}px`)}checkFlip(e,i){this.placement=Wl.determinePlacement(this.placement,i,e,this.spacing)}onWindowResize(){this.position()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.Lbi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,i){if(1&e&&s.Gf(Kye,5),2&e){let r;s.iGM(r=s.CRH())&&(i.caretElm=r.first)}},hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("resize",function(){return i.onWindowResize()},!1,s.Jf7),2&e&&s.Tol(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,i){1&e&&(s.TgZ(0,"div"),s._UZ(1,"span",0,1),s.TgZ(3,"div",2),s.YNc(4,Xye,2,4,"span",3),s.YNc(5,e0e,1,1,"span",4),s.qZA()()),2&e&&(s.xp6(1),s.Gre("tooltip-caret position-",i.placement,""),s.Q6J("hidden",!i.showCaret),s.xp6(3),s.Q6J("ngIf",!i.title),s.xp6(1),s.Q6J("ngIf",i.title))},dependencies:[kt,Pr],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),(0,SF.gn)([t1e(100)],n.prototype,"onWindowResize",null),n})(),aW=(()=>{class n{constructor(e,i,r){this.applicationRef=e,this.componentFactoryResolver=i,this.injector=r}static setGlobalRootViewContainer(e){n.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(n.globalRootViewContainer)return n.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function r1e(n){return n.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,i){if(i){if(void 0!==i.inputs){const r=Object.getOwnPropertyNames(i.inputs);for(const o of r)e.instance[o]=i.inputs[o]}if(void 0!==i.outputs){const r=Object.getOwnPropertyNames(i.outputs);for(const o of r)e.instance[o]=i.outputs[o]}}return e}appendComponent(e,i={},r){r||(r=this.getRootViewContainer());const o=this.getComponentRootNode(r),a=new Ape(o,this.componentFactoryResolver,this.applicationRef,this.injector),u=new l5(e),f=a.attach(u);return this.projectComponentBindings(f,i),f}}return n.globalRootViewContainer=null,n.\u0275fac=function(e){return new(e||n)(s.LFG(s.z2F),s.LFG(s._Vd),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),O3=(()=>{class n extends class i1e{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map}getByType(t=this.type){return this.components.get(t)}create(t){return this.createByType(this.type,t)}createByType(t,e){e=this.assignDefaults(e);const i=this.injectComponent(t,e);return this.register(t,i),i}destroy(t){const e=this.components.get(t.componentType);if(e&&e.length){const i=e.indexOf(t);i>-1&&(e[i].destroy(),e.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(t){const e=this.components.get(t);if(e&&e.length){let i=e.length-1;for(;i>=0;)this.destroy(e[i--])}}injectComponent(t,e){return this.injectionService.appendComponent(t,e)}assignDefaults(t){const e={...this.defaults.inputs},i={...this.defaults.outputs};return!t.inputs&&!t.outputs&&(t={inputs:t}),e&&(t.inputs={...e,...t.inputs}),i&&(t.outputs={...i,...t.outputs}),t}register(t,e){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(e)}}{constructor(e){super(e),this.type=n1e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(aW))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();var Zf=(()=>{return(n=Zf||(Zf={})).Right="right",n.Below="below",Zf;var n})(),j_=(()=>{return(n=j_||(j_={})).ScaleLegend="scaleLegend",n.Legend="legend",j_;var n})(),$t=(()=>{return(n=$t||($t={})).Time="time",n.Linear="linear",n.Ordinal="ordinal",n.Quantile="quantile",$t;var n})();let lW=(()=>{class n{constructor(){this.horizontal=!1}ngOnChanges(e){const i=this.gradientString(this.colors.range(),this.colors.domain());this.gradient=`linear-gradient(to ${this.horizontal?"right":"bottom"}, ${i})`}gradientString(e,i){i.push(1);const r=[];return e.reverse().forEach((o,a)=>{r.push(`${o} ${Math.round(100*i[a])}%`)}),r.join(", ")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[s.TTD],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"span"),s._uU(3),s.qZA()(),s._UZ(4,"div",2),s.TgZ(5,"div",1)(6,"span"),s._uU(7),s.qZA()()()),2&e&&(s.Udp("height",i.horizontal?void 0:i.height,"px")("width",i.width,"px"),s.ekj("horizontal-legend",i.horizontal),s.xp6(3),s.Oqu(i.valueRange[1].toLocaleString()),s.xp6(1),s.Udp("background",i.gradient),s.xp6(3),s.Oqu(i.valueRange[0].toLocaleString()))},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}\n"],encapsulation:2,changeDetection:0}),n})();function YT(n){return n instanceof Date?n.toLocaleDateString():n.toLocaleString()}let cW=(()=>{class n{constructor(){this.isActive=!1,this.select=new s.vpe,this.activate=new s.vpe,this.deactivate=new s.vpe,this.toggle=new s.vpe}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(e,i){1&e&&s.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"title","click"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0),s.NdJ("click",function(){return i.select.emit(i.formattedLabel)}),s.TgZ(1,"span",1),s.NdJ("click",function(){return i.toggle.emit(i.formattedLabel)}),s.qZA(),s.TgZ(2,"span",2),s._uU(3),s.qZA()()),2&e&&(s.ekj("active",i.isActive),s.Q6J("title",i.formattedLabel),s.xp6(1),s.Udp("background-color",i.color),s.xp6(2),s.hij(" ",i.trimmedLabel," "))},encapsulation:2,changeDetection:0}),n})(),uW=(()=>{class n{constructor(e){this.cd=e,this.horizontal=!1,this.labelClick=new s.vpe,this.labelActivate=new s.vpe,this.labelDeactivate=new s.vpe,this.legendEntries=[]}ngOnChanges(e){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){const e=[];for(const i of this.data){const r=YT(i);-1===e.findIndex(a=>a.label===r)&&e.push({label:i,formattedLabel:r,color:this.colors.getColor(i)})}return e}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(r=>e.label===r.name)}activate(e){this.labelActivate.emit(e)}deactivate(e){this.labelDeactivate.emit(e)}trackBy(e,i){return i.label}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[s.TTD],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(e,i){1&e&&(s.TgZ(0,"div"),s.YNc(1,t0e,3,1,"header",0),s.TgZ(2,"div",1)(3,"ul",2),s.YNc(4,n0e,2,4,"li",3),s.qZA()()()),2&e&&(s.Udp("width",i.width,"px"),s.xp6(1),s.Q6J("ngIf",(null==i.title?null:i.title.length)>0),s.xp6(2),s.Udp("max-height",i.height-45,"px"),s.ekj("horizontal-legend",i.horizontal),s.xp6(1),s.Q6J("ngForOf",i.legendEntries)("ngForTrackBy",i.trackBy))},dependencies:[cW,kt,Gt],styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})(),dW=(()=>{class n{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new s.vpe,this.legendLabelActivate=new s.vpe,this.legendLabelDeactivate=new s.vpe,this.LegendPosition=Zf,this.LegendType=j_}ngOnChanges(e){this.update()}update(){let e=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===Zf.Right)&&(e=this.legendType===j_.ScaleLegend?1:2)),this.chartWidth=Math.floor(this.view[0]*(12-e)/12),this.legendWidth=this.legendOptions&&this.legendOptions.position!==Zf.Right?this.chartWidth:Math.floor(this.view[0]*e/12)}getLegendType(){return this.legendOptions.scaleType===$t.Linear?j_.ScaleLegend:j_.Legend}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[s._Bn([O3]),s.TTD],ngContentSelectors:iW,decls:5,vars:6,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.O4$(),s.TgZ(1,"svg",1),s.Hsn(2),s.qZA(),s.YNc(3,i0e,1,5,"ngx-charts-scale-legend",2),s.YNc(4,r0e,1,7,"ngx-charts-legend",3),s.qZA()),2&e&&(s.Udp("width",i.view[0],"px"),s.xp6(1),s.uIk("width",i.chartWidth)("height",i.view[1]),s.xp6(2),s.Q6J("ngIf",i.showLegend&&i.legendType===i.LegendType.ScaleLegend),s.xp6(1),s.Q6J("ngIf",i.showLegend&&i.legendType===i.LegendType.Legend))},dependencies:[lW,uW,kt],encapsulation:2,changeDetection:0}),n})(),s1e=(()=>{class n{constructor(e,i){this.element=e,this.zone=i,this.visible=new s.vpe,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const e=()=>{if(!this.element)return;const{offsetHeight:i,offsetWidth:r}=this.element.nativeElement;i&&r?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e())})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),n})();function hW(n){return"[object Date]"===toString.call(n)}let fW=(()=>{class n{constructor(e,i,r,o){this.chartElement=e,this.zone=i,this.cd=r,this.platformId=o,this.scheme="cool",this.schemeType=$t.Ordinal,this.animations=!0,this.select=new s.vpe}ngOnInit(){fr(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new s1e(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(e){this.update()}update(){if(this.results=this.results?this.cloneData(this.results):[],this.view)this.width=this.view[0],this.height=this.view[1];else{const e=this.getContainerDims();e&&(this.width=e.width,this.height=e.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let e,i;const r=this.chartElement.nativeElement;if(ia(this.platformId)&&null!==r.parentNode){const o=r.parentNode.getBoundingClientRect();e=o.width,i=o.height}return e&&i?{width:e,height:i}:null}formatDates(){for(let e=0;e<this.results.length;e++){const i=this.results[e];if(i.label=i.name,hW(i.label)&&(i.label=i.label.toLocaleDateString()),i.series)for(let r=0;r<i.series.length;r++){const o=i.series[r];o.label=o.name,hW(o.label)&&(o.label=o.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!ia(this.platformId))return;const i=ui(window,"resize").pipe(Q$(200)).subscribe(r=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}cloneData(e){const i=[];for(const r of e){const o={name:r.name};if(void 0!==r.value&&(o.value=r.value),void 0!==r.series){o.series=[];for(const a of r.series){const u=Object.assign({},a);o.series.push(u)}}void 0!==r.extra&&(o.extra=JSON.parse(JSON.stringify(r.extra))),i.push(o)}return i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(s.Lbi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[s.TTD],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"div")},encapsulation:2}),n})();var gs=(()=>{return(n=gs||(gs={})).Top="top",n.Bottom="bottom",n.Left="left",n.Right="right",gs;var n})();let pW=(()=>{class n{constructor(e){this.textHeight=25,this.margin=5,this.element=e.nativeElement}ngOnChanges(e){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case gs.Top:case gs.Bottom:this.y=this.offset,this.x=this.width/2;break;case gs.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case gs.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)"}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[s.TTD],attrs:s0e,decls:2,vars:6,template:function(e,i){1&e&&(s.O4$(),s.TgZ(0,"text"),s._uU(1),s.qZA()),2&e&&(s.uIk("stroke-width",i.strokeWidth)("x",i.x)("y",i.y)("text-anchor",i.textAnchor)("transform",i.transform),s.xp6(1),s.hij(" ",i.label," "))},encapsulation:2,changeDetection:0}),n})();function P3(n,t=16){return"string"!=typeof n?"number"==typeof n?n+"":"":(n=n.trim()).length<=t?n:`${n.slice(0,t)}...`}function mW(n,t){if(n.length>t){const e=[],i=Math.floor(n.length/t);for(let r=0;r<n.length;r++)r%i==0&&e.push(n[r]);n=e}return n}var zu=(()=>{return(n=zu||(zu={})).Start="start",n.Middle="middle",n.End="end",zu;var n})();let gW=(()=>{class n{constructor(e){this.platformId=e,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.dimensionsChanged=new s.vpe,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=zu.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!ia(this.platformId))return void this.dimensionsChanged.emit({height:this.approxHeight});const e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);e!==this.height&&(this.height=e,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){const e=this.scale;this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:e.tickFormat?e.tickFormat.apply(e,this.tickArguments):function(r){return"Date"===r.constructor.name?r.toLocaleDateString():r.toLocaleString()};const i=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(r){return this.scale(r)+.5*this.scale.bandwidth()}:this.scale,this.textTransform="",i&&0!==i?(this.textTransform=`rotate(${i})`,this.textAnchor=zu.End,this.verticalSpacing=10):this.textAnchor=zu.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(e){let i=0;this.maxTicksLength=0;for(let m=0;m<e.length;m++){const v=this.tickFormat(e[m]).toString();let x=v.length;this.trimTicks&&(x=this.tickTrim(v).length),x>this.maxTicksLength&&(this.maxTicksLength=x)}const a=7*Math.min(this.maxTicksLength,this.maxAllowedLength);let u=a;const f=Math.floor(this.width/e.length);for(;u>f&&i>-90;)i-=30,u=Math.cos(i*(Math.PI/180))*a;return this.approxHeight=Math.max(Math.abs(Math.sin(i*(Math.PI/180))*a),10),i}getTicks(){let e;const i=this.getMaxTicks(20),r=this.getMaxTicks(100);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[r]):(e=this.scale.domain(),e=mW(e,i)),e}getMaxTicks(e){return Math.floor(this.width/e)}tickTransform(e){return"translate("+this.adjustedScale(e)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(e){return this.trimTicks?P3(e,this.maxTickLength):e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Lbi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(e,i){if(1&e&&s.Gf(rW,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ticksElement=r.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[s.TTD],attrs:o0e,decls:4,vars:2,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],["stroke-width","0.01"],[4,"ngIf"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(e,i){1&e&&(s.O4$(),s.TgZ(0,"g",null,0),s.YNc(2,a0e,5,7,"g",1),s.qZA(),s.YNc(3,c0e,2,2,"g",2)),2&e&&(s.xp6(2),s.Q6J("ngForOf",i.ticks),s.xp6(1),s.Q6J("ngForOf",i.ticks))},dependencies:[Gt,kt],encapsulation:2,changeDetection:0}),n})(),o1e=(()=>{class n{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=gs.Bottom,this.xAxisOffset=0,this.dimensionsChanged=new s.vpe,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=gs}ngOnChanges(e){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:e}){const i=e+25+5;i!==this.labelOffset&&(this.labelOffset=i,setTimeout(()=>{this.dimensionsChanged.emit({height:e})},0))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(e,i){if(1&e&&s.Gf(gW,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ticksComponent=r.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[s.TTD],attrs:u0e,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(e,i){1&e&&(s.O4$(),s.TgZ(0,"g"),s.YNc(1,d0e,1,12,"g",0),s.YNc(2,h0e,1,5,"g",1),s.qZA()),2&e&&(s.uIk("class",i.xAxisClassName)("transform",i.transform),s.xp6(1),s.Q6J("ngIf",i.xScale),s.xp6(1),s.Q6J("ngIf",i.showLabel))},dependencies:[gW,pW,kt],encapsulation:2,changeDetection:0}),n})();function xm(n,t,e,i,r,[o,a,u,f]){let m="";return m=`M${[n+r,t]}`,m+="h"+((e=0===(e=Math.floor(e))?1:e)-2*r),m+=a?`a${[r,r]} 0 0 1 ${[r,r]}`:`h${r}v${r}`,m+="v"+((i=0===(i=Math.floor(i))?1:i)-2*r),m+=f?`a${[r,r]} 0 0 1 ${[-r,r]}`:`v${r}h${-r}`,m+="h"+(2*r-e),m+=u?`a${[r,r]} 0 0 1 ${[-r,-r]}`:`h${-r}v${-r}`,m+="v"+(2*r-i),m+=o?`a${[r,r]} 0 0 1 ${[r,-r]}`:`v${-r}h${r}`,m+="z",m}let _W=(()=>{class n{constructor(e){this.platformId=e,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.dimensionsChanged=new s.vpe,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=zu.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=gs}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!ia(this.platformId))return this.width=this.getApproximateAxisWidth(),void this.dimensionsChanged.emit({width:this.width});const e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);e!==this.width&&(this.width=e,this.dimensionsChanged.emit({width:e}),setTimeout(()=>this.updateDims()))}update(){let e;const i=this.orient===gs.Top||this.orient===gs.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,e=this.scale,this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:e.tickFormat?e.tickFormat.apply(e,this.tickArguments):function(r){return"Date"===r.constructor.name?r.toLocaleDateString():r.toLocaleString()},this.adjustedScale=e.bandwidth?function(r){return e(r)+.5*e.bandwidth()}:e,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case gs.Top:case gs.Bottom:this.transform=function(r){return"translate("+this.adjustedScale(r)+",0)"},this.textAnchor=zu.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case gs.Left:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")"},this.textAnchor=zu.End,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;case gs.Right:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")"},this.textAnchor=zu.Start,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em"}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(e=>e.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(e=>e.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=xm(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let e;const i=this.getMaxTicks(20),r=this.getMaxTicks(50);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[r]):(e=this.scale.domain(),e=mW(e,i)),e}getMaxTicks(e){return Math.floor(this.height/e)}tickTransform(e){return`translate(${this.adjustedScale(e)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(e){return this.trimTicks?P3(e,this.maxTickLength):e}getApproximateAxisWidth(){return 7*Math.max(...this.ticks.map(r=>this.tickTrim(this.tickFormat(r)).length))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Lbi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(e,i){if(1&e&&s.Gf(rW,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ticksElement=r.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[s.TTD],attrs:f0e,decls:6,vars:4,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],["stroke-width","0.01"],[1,"reference-area"],[4,"ngIf"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(e,i){1&e&&(s.O4$(),s.TgZ(0,"g",null,0),s.YNc(2,p0e,5,9,"g",1),s.qZA(),s.YNc(3,m0e,1,2,"path",2),s.YNc(4,y0e,2,2,"g",3),s.YNc(5,C0e,2,1,"g",3)),2&e&&(s.xp6(2),s.Q6J("ngForOf",i.ticks),s.xp6(1),s.Q6J("ngIf",i.referenceLineLength>1&&i.refMax&&i.refMin&&i.showRefLines),s.xp6(1),s.Q6J("ngForOf",i.ticks),s.xp6(1),s.Q6J("ngForOf",i.referenceLines))},dependencies:[Gt,kt],encapsulation:2,changeDetection:0}),n})(),a1e=(()=>{class n{constructor(){this.showGridLines=!1,this.yOrient=gs.Left,this.yAxisOffset=0,this.dimensionsChanged=new s.vpe,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(e){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===gs.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):(this.offset=this.offset,this.transform=`translate(${this.offset} , 0)`),void 0!==this.yAxisTickCount&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:e}){e!==this.labelOffset&&this.yOrient===gs.Right?(this.labelOffset=e+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0)):e!==this.labelOffset&&(this.labelOffset=e,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(e,i){if(1&e&&s.Gf(_W,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ticksComponent=r.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[s.TTD],attrs:T0e,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(e,i){1&e&&(s.O4$(),s.TgZ(0,"g"),s.YNc(1,w0e,1,14,"g",0),s.YNc(2,D0e,1,5,"g",1),s.qZA()),2&e&&(s.uIk("class",i.yAxisClassName)("transform",i.transform),s.xp6(1),s.Q6J("ngIf",i.yScale),s.xp6(1),s.Q6J("ngIf",i.showLabel))},dependencies:[_W,pW,kt],encapsulation:2,changeDetection:0}),n})(),vW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Qn]]}),n})();var Z_=(()=>{return(n=Z_||(Z_={})).popover="popover",n.tooltip="tooltip",Z_;var n})(),Cm=(()=>{return(n=Cm||(Cm={}))[n.all="all"]="all",n[n.focus="focus"]="focus",n[n.mouseover="mouseover"]="mouseover",Cm;var n})();let F3=(()=>{class n{constructor(e,i,r){this.tooltipService=e,this.viewContainerRef=i,this.renderer=r,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=Dn.Top,this.tooltipAlignment=Dn.Center,this.tooltipType=Z_.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=Cm.all,this.tooltipImmediateExit=!1,this.show=new s.vpe,this.hide=new s.vpe}get listensForFocus(){return this.tooltipShowEvent===Cm.all||this.tooltipShowEvent===Cm.focus}get listensForHover(){return this.tooltipShowEvent===Cm.all||this.tooltipShowEvent===Cm.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(e){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(e))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(e){if(this.component||this.tooltipDisabled)return;const i=e?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?300:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const r=this.createBoundOptions();this.component=this.tooltipService.create(r),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},i)}addHideListeners(e){this.mouseEnterContentEvent=this.renderer.listen(e,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(e,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{e.contains(i.target)||this.hideTooltip()}))}hideTooltip(e=!1){if(!this.component)return;const i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),e?i():this.timeout=setTimeout(i,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(O3),s.Y36(s.s_b),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngx-tooltip",""]],hostBindings:function(e,i){1&e&&s.NdJ("focusin",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(o){return i.onMouseLeave(o.target)})("click",function(){return i.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),n})(),yW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[aW,O3],imports:[[Qn]]}),n})();const bW={};function jT(){let n=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return n=`a${n}`,bW[n]?jT():(bW[n]=!0,n)}var Gr=(()=>{return(n=Gr||(Gr={})).Vertical="vertical",n.Horizontal="horizontal",Gr;var n})();let V3,EM=(()=>{class n{constructor(){this.orientation=Gr.Vertical}ngOnChanges(e){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===Gr.Horizontal?this.x2="100%":this.orientation===Gr.Vertical&&(this.y1="100%")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[s.TTD],attrs:S0e,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(s.O4$(),s.TgZ(0,"linearGradient",0),s.YNc(1,A0e,1,5,"stop",1),s.qZA()),2&e&&(s.Q6J("id",i.name),s.uIk("x1",i.x1)("y1",i.y1)("x2",i.x2)("y2",i.y2),s.xp6(1),s.Q6J("ngForOf",i.stops))},dependencies:[Gt],encapsulation:2,changeDetection:0}),n})();typeof window<"u"?V3=window:typeof global<"u"&&(V3=global);let tu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Qn,vW,yW],Qn,vW,yW]}),n})(),SW=[{name:"vivid",selectable:!0,group:$t.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:$t.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:$t.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:$t.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:$t.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:$t.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:$t.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:$t.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:$t.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:$t.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:$t.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:$t.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:$t.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:$t.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:$t.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class m1e{constructor(t,e,i,r){"string"==typeof t&&(t=SW.find(o=>o.name===t)),this.colorDomain=t.domain,this.scaleType=e,this.domain=i,this.customColors=r,this.scale=this.generateColorScheme(t,e,this.domain)}generateColorScheme(t,e,i){let r;switch("string"==typeof t&&(t=SW.find(o=>o.name===t)),e){case $t.Quantile:r=nW().range(t.domain).domain(i);break;case $t.Ordinal:r=L3().range(t.domain).domain(i);break;case $t.Linear:{const o=[...t.domain];1===o.length&&(o.push(o[0]),this.colorDomain=o);const a=Xq(0,1,1/o.length);r=eb().range(o).domain(a)}}return r}getColor(t){if(null==t)throw new Error("Value can not be null");if(this.scaleType===$t.Linear){const e=eb().domain(this.domain).range([0,1]);return this.scale(e(t))}{if("function"==typeof this.customColors)return this.customColors(t);const e=t.toString();let i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(r=>r.name.toLowerCase()===e.toLowerCase())),i?i.value:this.scale(t)}}getLinearGradientStops(t,e){void 0===e&&(e=this.domain[0]);const i=eb().domain(this.domain).range([0,1]),r=AM().domain(this.colorDomain).range([0,1]),o=this.getColor(t),a=i(e),u=this.getColor(e),f=i(t);let m=1,v=a;const x=[];for(x.push({color:u,offset:a,originalOffset:a,opacity:1});v<f&&m<this.colorDomain.length;){const S=this.colorDomain[m],k=r(S);if(k<=a)m++;else{if(k.toFixed(4)>=(f-r.bandwidth()).toFixed(4))break;x.push({color:S,offset:k,opacity:1}),v=k,m++}}if(x[x.length-1].offset<100&&x.push({color:o,offset:f,opacity:1}),f===a)x[0].offset=0,x[1].offset=100;else if(100!==x[x.length-1].offset)for(const S of x)S.offset=(S.offset-a)/(f-a)*100;return x}}let _1e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[tu]]}),n})(),v1e=(()=>{class n{constructor(e){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new s.vpe,this.activate=new s.vpe,this.deactivate=new s.vpe,this.hasGradient=!1,this.hideBar=!1,this.element=e.nativeElement}ngOnChanges(e){e.roundEdges&&this.loadAnimation(),this.update()}update(){this.gradientId="grad"+jT().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}loadAnimation(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}updatePathEl(){const e=function Xc(n){return"string"==typeof n?new nl([[document.querySelector(n)]],[document.documentElement]):new nl([[n]],C5)}(this.element).select(".bar"),i=this.getPath();this.animations?e.transition().duration(500).attr("d",i):e.attr("d",i)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}getStartingPath(){if(!this.animations)return this.getPath();let i,e=this.getRadius();return this.roundEdges?this.orientation===Gr.Vertical?(e=Math.min(this.height,e),i=xm(this.x,this.y+this.height,this.width,1,0,this.edges)):this.orientation===Gr.Horizontal&&(e=Math.min(this.width,e),i=xm(this.x,this.y,1,this.height,0,this.edges)):this.orientation===Gr.Vertical?i=xm(this.x,this.y+this.height,this.width,1,0,this.edges):this.orientation===Gr.Horizontal&&(i=xm(this.x,this.y,1,this.height,0,this.edges)),i}getPath(){let i,e=this.getRadius();return this.roundEdges?this.orientation===Gr.Vertical?(e=Math.min(this.height,e),i=xm(this.x,this.y,this.width,this.height,e,this.edges)):this.orientation===Gr.Horizontal&&(e=Math.min(this.width,e),i=xm(this.x,this.y,this.width,this.height,e,this.edges)):i=xm(this.x,this.y,this.width,this.height,e,this.edges),i}getRadius(){let e=0;return this.roundEdges&&this.height>5&&this.width>5&&(e=Math.floor(Math.min(5,this.height/2,this.width/2))),e}getStartOpacity(){return this.roundEdges?.2:.5}get edges(){let e=[!1,!1,!1,!1];return this.roundEdges&&(this.orientation===Gr.Vertical?e=this.data.value>0?[!0,!0,!1,!1]:[!1,!1,!0,!0]:this.orientation===Gr.Horizontal&&(e=this.data.value>0?[!1,!0,!1,!0]:[!0,!1,!0,!1])),e}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}checkToHideBar(){this.hideBar=this.noBarWhenZero&&(this.orientation===Gr.Vertical&&0===this.height||this.orientation===Gr.Horizontal&&0===this.width)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(e,i){1&e&&s.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",stops:"stops",animations:"animations",ariaLabel:"ariaLabel",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[s.TTD],attrs:lbe,decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(e,i){1&e&&(s.YNc(0,cbe,2,3,"defs",0),s.O4$(),s.TgZ(1,"path",1),s.NdJ("click",function(){return i.select.emit(i.data)}),s.qZA()),2&e&&(s.Q6J("ngIf",i.hasGradient),s.xp6(1),s.ekj("active",i.isActive)("hidden",i.hideBar),s.uIk("d",i.path)("aria-label",i.ariaLabel)("fill",i.hasGradient?i.gradientFill:i.fill))},dependencies:[EM,kt],encapsulation:2,changeDetection:0}),n})();var hh=(()=>{return(n=hh||(hh={})).Standard="standard",n.Normalized="normalized",n.Stacked="stacked",hh;var n})(),Tm=(()=>{return(n=Tm||(Tm={})).positive="positive",n.negative="negative",Tm;var n})();let y1e=(()=>{class n{constructor(e){this.dimensionsChanged=new s.vpe,this.horizontalPadding=2,this.verticalPadding=5,this.element=e.nativeElement}ngOnChanges(e){this.update()}getSize(){return{height:this.element.getBoundingClientRect().height,width:this.element.getBoundingClientRect().width,negative:this.value<0}}ngAfterViewInit(){this.dimensionsChanged.emit(this.getSize())}update(){this.formatedValue=this.valueFormatting?this.valueFormatting(this.value):YT(this.value),"horizontal"===this.orientation?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform=`rotate(-45, ${this.x} , ${this.y})`)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[s.TTD],attrs:ube,decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(e,i){1&e&&(s.O4$(),s.TgZ(0,"text",0),s._uU(1),s.qZA()),2&e&&(s.uIk("text-anchor",i.textAnchor)("transform",i.transform)("x",i.x)("y",i.y),s.xp6(1),s.hij(" ",i.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0}),n})(),b1e=(()=>{class n{constructor(e){this.platformId=e,this.type=hh.Standard,this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new s.vpe,this.activate=new s.vpe,this.deactivate=new s.vpe,this.dataLabelHeightChanged=new s.vpe,this.barsForDataLabels=[],this.barOrientation=Gr,this.isSSR=!1}ngOnInit(){fr(this.platformId)&&(this.isSSR=!0)}ngOnChanges(e){this.update()}update(){let e;this.updateTooltipSettings(),this.series.length&&(e=this.xScale.bandwidth()),e=Math.round(e);const i=Math.max(this.yScale.domain()[0],0),r={[Tm.positive]:0,[Tm.negative]:0};let a,o=Tm.positive;this.type===hh.Normalized&&(a=this.series.map(u=>u.value).reduce((u,f)=>u+f,0)),this.bars=this.series.map((u,f)=>{let m=u.value;const v=this.getLabel(u),x=YT(v);o=m>0?Tm.positive:Tm.negative;const k={value:m,label:v,roundEdges:this.roundEdges,data:u,width:e,formattedLabel:x,height:0,x:0,y:0};if(this.type===hh.Standard)k.height=Math.abs(this.yScale(m)-this.yScale(i)),k.x=this.xScale(v),k.y=this.yScale(m<0?0:m);else if(this.type===hh.Stacked){const U=r[o],V=U+m;r[o]+=m,k.height=this.yScale(U)-this.yScale(V),k.x=0,k.y=this.yScale(V),k.offset0=U,k.offset1=V}else if(this.type===hh.Normalized){let U=r[o],V=U+m;r[o]+=m,a>0?(U=100*U/a,V=100*V/a):(U=0,V=0),k.height=this.yScale(U)-this.yScale(V),k.x=0,k.y=this.yScale(V),k.offset0=U,k.offset1=V,m=(V-U).toFixed(2)+"%"}this.colors.scaleType===$t.Ordinal?k.color=this.colors.getColor(v):this.type===hh.Standard?(k.color=this.colors.getColor(m),k.gradientStops=this.colors.getLinearGradientStops(m)):(k.color=this.colors.getColor(k.offset1),k.gradientStops=this.colors.getLinearGradientStops(k.offset1,k.offset0));let O=x;return k.ariaLabel=x+" "+m.toLocaleString(),null!=this.seriesName&&(O=`${this.seriesName} \u2022 ${x}`,k.data.series=this.seriesName,k.ariaLabel=this.seriesName+" "+k.ariaLabel),k.tooltipText=this.tooltipDisabled?void 0:`\n        <span class="tooltip-label">${function R3(n){return n.toLocaleString().replace(/[&'`"<>]/g,t=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[t]))}(O)}</span>\n        <span class="tooltip-val">${this.dataLabelFormatting?this.dataLabelFormatting(m):m.toLocaleString()}</span>\n      `,k}),this.updateDataLabels()}updateDataLabels(){if(this.type===hh.Stacked){this.barsForDataLabels=[];const e={};e.series=this.seriesName;const i=this.series.map(o=>o.value).reduce((o,a)=>a>0?o+a:o,0),r=this.series.map(o=>o.value).reduce((o,a)=>a<0?o+a:o,0);e.total=i+r,e.x=0,e.y=0,e.height=this.yScale(e.total>0?i:r),e.width=this.xScale.bandwidth(),this.barsForDataLabels.push(e)}else this.barsForDataLabels=this.series.map(e=>{const i={};return i.series=this.seriesName??e.label,i.total=e.value,i.x=this.xScale(e.label),i.y=this.yScale(0),i.height=this.yScale(i.total)-this.yScale(0),i.width=this.xScale.bandwidth(),i})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:Dn.Top,this.tooltipType=this.tooltipDisabled?void 0:Z_.tooltip}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(r=>e.name===r.name&&e.value===r.value)}onClick(e){this.select.emit(e)}getLabel(e){return e.label?e.label:e.name}trackBy(e,i){return i.label}trackDataLabelBy(e,i){return e+"#"+i.series+"#"+i.total}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Lbi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["g","ngx-charts-series-vertical",""]],inputs:{dims:"dims",type:"type",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",animations:"animations",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelHeightChanged:"dataLabelHeightChanged"},features:[s.TTD],attrs:vbe,decls:3,vars:3,consts:[[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged"]],template:function(e,i){1&e&&(s.YNc(0,bbe,2,2,"g",0),s.YNc(1,Cbe,2,2,"g",0),s.YNc(2,wbe,2,2,"g",0)),2&e&&(s.Q6J("ngIf",!i.isSSR),s.xp6(1),s.Q6J("ngIf",i.isSSR),s.xp6(1),s.Q6J("ngIf",i.showDataLabel))},dependencies:[v1e,y1e,kt,Gt,F3],encapsulation:2,data:{animation:[m_("animationState",[tl(":leave",[yr({opacity:1}),el(500,yr({opacity:0}))])])]},changeDetection:0}),n})(),x1e=(()=>{class n extends fW{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=Zf.Right,this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.activate=new s.vpe,this.deactivate=new s.vpe,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxHeight={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxHeight={negative:0,positive:0}),this.margin=[10+this.dataLabelMaxHeight.positive,20,10+this.dataLabelMaxHeight.negative,20],this.dims=function p1e({width:n,height:t,margins:e,showXAxis:i=!1,showYAxis:r=!1,xAxisHeight:o=0,yAxisWidth:a=0,showXLabel:u=!1,showYLabel:f=!1,showLegend:m=!1,legendType:v=$t.Ordinal,legendPosition:x=Zf.Right,columns:S=12}){let k=e[3],O=n,U=t-e[0]-e[2];return m&&x===Zf.Right&&(S-=v===$t.Ordinal?2:1),O=O*S/12,O=O-e[1]-e[3],i&&(U-=5,U-=o,u&&(U-=30)),r&&(O-=5,O-=a,k+=a,k+=10,f&&(O-=30,k+=30)),O=Math.max(0,O),U=Math.max(0,U),{width:Math.floor(O),height:Math.floor(U),xOffset:Math.floor(k)}}({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.showDataLabel&&(this.dims.height-=this.dataLabelMaxHeight.negative),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]+this.dataLabelMaxHeight.negative})`}getXScale(){this.xDomain=this.getXDomain();const e=this.xDomain.length/(this.dims.width/this.barPadding+1);return AM().range([0,this.dims.width]).paddingInner(e).domain(this.xDomain)}getYScale(){this.yDomain=this.getYDomain();const e=eb().range([this.dims.height,0]).domain(this.yDomain);return this.roundDomains?e.nice():e}getXDomain(){return this.results.map(e=>e.label)}getYDomain(){const e=this.results.map(o=>o.value);let i=this.yScaleMin?Math.min(this.yScaleMin,...e):Math.min(0,...e);this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(i=Math.min(i,...this.yAxisTicks));let r=this.yScaleMax?Math.max(this.yScaleMax,...e):Math.max(0,...e);return this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(r=Math.max(r,...this.yAxisTicks)),[i,r]}onClick(e){this.select.emit(e)}setColors(){let e;e=this.schemeType===$t.Ordinal?this.xDomain:this.yDomain,this.colors=new m1e(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return e.scaleType===$t.Ordinal?(e.domain=this.xDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.yDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onDataLabelMaxHeightChanged(e){e.size.negative?this.dataLabelMaxHeight.negative=Math.max(this.dataLabelMaxHeight.negative,e.size.height):this.dataLabelMaxHeight.positive=Math.max(this.dataLabelMaxHeight.positive,e.size.height),e.index===this.results.length-1&&setTimeout(()=>this.update())}onActivate(e,i=!1){e=this.results.find(o=>i?o.label===e.name:o.name===e.name),!(this.activeEntries.findIndex(o=>o.name===e.name&&o.value===e.value&&o.series===e.series)>-1)&&(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e,i=!1){e=this.results.find(o=>i?o.label===e.name:o.name===e.name);const r=this.activeEntries.findIndex(o=>o.name===e.name&&o.value===e.value&&o.series===e.series);this.activeEntries.splice(r,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["ngx-charts-bar-vertical"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,ebe,5),2&e){let o;s.iGM(o=s.CRH())&&(i.tooltipTemplate=o.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",tooltipDisabled:"tooltipDisabled",gradient:"gradient",showGridLines:"showGridLines",activeEntries:"activeEntries",schemeType:"schemeType",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",yScaleMax:"yScaleMax",yScaleMin:"yScaleMin",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero"},outputs:{activate:"activate",deactivate:"deactivate"},features:[s.qOj],decls:5,vars:25,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-series-vertical","",3,"xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","activeEntries","roundEdges","animations","noBarWhenZero","activate","deactivate","select","dataLabelHeightChanged"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"]],template:function(e,i){1&e&&(s.TgZ(0,"ngx-charts-chart",0),s.NdJ("legendLabelClick",function(o){return i.onClick(o)})("legendLabelActivate",function(o){return i.onActivate(o,!0)})("legendLabelDeactivate",function(o){return i.onDeactivate(o,!0)}),s.O4$(),s.TgZ(1,"g",1),s.YNc(2,Dbe,1,11,"g",2),s.YNc(3,Sbe,1,9,"g",3),s.TgZ(4,"g",4),s.NdJ("activate",function(o){return i.onActivate(o)})("deactivate",function(o){return i.onDeactivate(o)})("select",function(o){return i.onClick(o)})("dataLabelHeightChanged",function(o){return i.onDataLabelMaxHeightChanged(o)}),s.qZA()()()),2&e&&(s.Q6J("view",s.WLB(22,HT,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),s.xp6(1),s.uIk("transform",i.transform),s.xp6(1),s.Q6J("ngIf",i.xAxis),s.xp6(1),s.Q6J("ngIf",i.yAxis),s.xp6(1),s.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("series",i.results)("dims",i.dims)("gradient",i.gradient)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)("showDataLabel",i.showDataLabel)("dataLabelFormatting",i.dataLabelFormatting)("activeEntries",i.activeEntries)("roundEdges",i.roundEdges)("animations",i.animations)("noBarWhenZero",i.noBarWhenZero))},dependencies:[dW,o1e,a1e,b1e,kt],styles:[".ngx-charts-outer{-webkit-animation:chartFadeIn linear .6s;animation:chartFadeIn linear .6s}@-webkit-keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}\n"],encapsulation:2,changeDetection:0}),n})(),AW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[tu]]}),n})(),C1e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[tu]]}),n})(),T1e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[tu]]}),n})(),w1e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[tu]]}),n})(),EW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[tu]]}),n})();Math;let U3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[tu]]}),n})(),A1e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[tu,U3,EW]]}),n})(),k1e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[tu]]}),n})(),M1e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[tu]]}),n})(),I1e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[tu,U3,AW]]}),n})(),L1e=(()=>{class n{constructor(){!function N1e(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[tu,_1e,AW,C1e,T1e,w1e,EW,A1e,k1e,U3,M1e,I1e]}),n})();function O1e(n,t){if(1&n&&(s.TgZ(0,"li"),s._UZ(1,"img",27),s.TgZ(2,"a",28),s._uU(3),s.qZA(),s.TgZ(4,"span",29),s._uU(5),s.qZA()()),2&n){const e=t.$implicit;s.xp6(1),s.s9C("src",e.photoURL,s.LSH),s.s9C("alt",e.studentName),s.xp6(1),s.MGl("routerLink","/student/",e.$key,""),s.xp6(1),s.Oqu(e.studentName),s.xp6(2),s.Oqu(e.schoolName)}}function R1e(n,t){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.TgZ(2,"span",31)(3,"b"),s._uU(4),s.qZA(),s._uU(5),s.qZA(),s.TgZ(6,"div",32),s._UZ(7,"div",33),s.qZA()()),2&n){const e=t.$implicit,i=s.oxw();s.xp6(1),s.hij(" ",e.districtName," "),s.xp6(3),s.Oqu(e.count),s.xp6(1),s.hij("/",i.resCountTotal,""),s.xp6(2),s.Jzz("width:",e.percentage,"%")}}let P1e=(()=>{class n{constructor(e,i,r){this.authService=e,this.dashboardService=i,this.playerService=r,this.resCountTotal=0}ngOnInit(){this.dashboardService.getNewApprovedPlayer(8).snapshotChanges().subscribe(e=>{this.PlayersList=[],e.forEach(i=>{let r={$key:i.key,...i.payload.toJSON()};this.PlayersList.push(r)})}),this.getCountPlayerDist()}getCountPlayerDist(){this.playerService.getApprovedList().snapshotChanges().subscribe(e=>{this.countList=[],e.forEach(S=>{var k=0;let O={$key:S.key,position:S.payload.child("position").val(),districtName:S.payload.child("districtName").val()};O.districtName==O.districtName&&k++,this.countList.push({districtName:O.districtName,position:O.position,count:k}),this.resCountTotal++});var i=function(S,k){for(var O=[],U=0,V=S.length;U<V;U++)-1==O.indexOf(S[U][k])&&O.push(S[U][k]);return O},r=(S,k,O)=>{for(var U=0,V=0,te=S.length;V<te;V++)S[V][k]==O&&U++;return U},o=i(this.countList,"districtName");this.resCountList=[];for(var a=0,u=o.length;a<u;a++)this.resCountList.push({districtName:o[a],count:r(this.countList,"districtName",o[a]),percentage:r(this.countList,"districtName",o[a])/this.resCountTotal*100});var f=i(this.countList,"position");for(this.posCountArray=[],a=0,u=f.length;a<u;a++)for(var m=0,v=f[a].length;m<v;m++)this.posCountArray.push({position:f[a][m]});var x=i(this.posCountArray,"position");for(this.posCountList=[],a=0,u=x.length;a<u;a++)this.posCountList.push({name:x[a],value:r(this.posCountArray,"position",x[a])})})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wi),s.Y36(Tpe),s.Y36(ba))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-dashboard"]],decls:56,vars:7,consts:[[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"m-0"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"content"],[1,"container-fluid","row"],[1,"col-md-8"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["type","button","data-card-widget","collapse",1,"btn","btn-tool"],[1,"fa","fa-minus"],["type","button","data-card-widget","remove",1,"btn","btn-tool"],[1,"fa","fa-times"],[1,"card-body","p-3"],[1,"users-list","clearfix"],[4,"ngFor","ngForOf"],[3,"results","xAxisLabel","showXAxisLabel","xAxis","gradient"],[1,"col-md-4"],["class","progerss-group",4,"ngFor","ngForOf"],[2,"width","90px","height","90px",3,"src","alt"],["routerLinkActive","Active",1,"users-list-name",3,"routerLink"],[1,"users-list-date"],[1,"progerss-group"],[1,"float-right"],[1,"progress","progress-sm"],[1,"progress-bar","bg-primary"]],template:function(e,i){1&e&&(s._UZ(0,"app-header")(1,"app-sidebar"),s.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h1",5),s._uU(8,"Dashboard"),s.qZA()(),s.TgZ(9,"div",4)(10,"ol",6)(11,"li",7)(12,"a",8),s._uU(13,"Home"),s.qZA()(),s.TgZ(14,"li",9),s._uU(15,"Dashboard"),s.qZA()()()()()(),s.TgZ(16,"section",10)(17,"div",11)(18,"div",12)(19,"div")(20,"div",13)(21,"div",14)(22,"h3",15),s._uU(23,"Latest Approved Student"),s.qZA(),s.TgZ(24,"div",16)(25,"button",17),s._UZ(26,"i",18),s.qZA(),s.TgZ(27,"button",19),s._UZ(28,"i",20),s.qZA()()(),s.TgZ(29,"div",21)(30,"ul",22),s.YNc(31,O1e,6,5,"li",23),s.qZA()()(),s.TgZ(32,"div",13)(33,"div",14)(34,"h3",15),s._uU(35,"Player position"),s.qZA(),s.TgZ(36,"div",16)(37,"button",17),s._UZ(38,"i",18),s.qZA(),s.TgZ(39,"button",19),s._UZ(40,"i",20),s.qZA()()(),s.TgZ(41,"div",21),s._UZ(42,"ngx-charts-bar-vertical",24),s.qZA()()()(),s.TgZ(43,"div",25)(44,"div",13)(45,"div",14)(46,"h3",15),s._uU(47,"Player list (District)"),s.qZA(),s.TgZ(48,"div",16)(49,"button",17),s._UZ(50,"i",18),s.qZA(),s.TgZ(51,"button",19),s._UZ(52,"i",20),s.qZA()()(),s.TgZ(53,"div",21),s.YNc(54,R1e,8,6,"div",26),s.qZA()()()()()(),s._UZ(55,"app-footer")),2&e&&(s.xp6(31),s.Q6J("ngForOf",i.PlayersList),s.xp6(11),s.Q6J("results",i.posCountList)("xAxisLabel","Position")("showXAxisLabel",!0)("xAxis",!0)("gradient",!0),s.xp6(12),s.Q6J("ngForOf",i.resCountList))},dependencies:[Gt,b0,pk,x1e,lo,co,uo]}),n})();function F1e(n,t){1&n&&(s.TgZ(0,"p",24)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please enter School "),s.qZA())}function V1e(n,t){1&n&&(s.TgZ(0,"p",24)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please enter Location "),s.qZA())}function B1e(n,t){1&n&&(s.TgZ(0,"p",24)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please enter Boys "),s.qZA())}function U1e(n,t){1&n&&(s.TgZ(0,"p",24)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please enter Girls "),s.qZA())}function H1e(n,t){1&n&&(s.TgZ(0,"p",24)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please enter Total "),s.qZA())}let kW=(()=>{class n{constructor(e,i,r,o,a,u,f){this.activeModal=e,this.distService=i,this.schoolService=r,this.authService=o,this.fb=a,this.toastr=u,this.SpinnerService=f,this.boys=0,this.girls=0,this.total=0}ngOnInit(){this.newForm(),this.schoolService.getSchool(this.school_id).valueChanges().subscribe(i=>{this.schoolForm.controls.schoolName.setValue(i.schoolName),this.schoolForm.controls.schoolAddress.setValue(i.schoolAddress),this.schoolForm.controls.location.setValue(i.location),this.schoolForm.controls.boys.setValue(i.boys),this.schoolForm.controls.girls.setValue(i.girls),this.schoolForm.controls.total.setValue(i.total),this.schoolForm.controls.hasTrainer.setValue(i.hasTrainer)})}newForm(){this.schoolForm=this.fb.group({schoolDistrict:[this.district_name],schoolName:["",[bt.required]],schoolAddress:[""],enteredBy:this.authService.getUserEmail(),location:["",[bt.required]],boys:["",bt.required],girls:["",[bt.required]],total:["",[bt.required]],hasTrainer:[""]})}submitSchool(){this.schoolForm.valid&&(this.SpinnerService.show(),this.schoolService.updateSchool(this.schoolForm.value),this.toastr.success(this.schoolForm.controls.schoolName.value+" successfully updated!"),this.ResetForm(),this.SpinnerService.hide(),this.activeModal.close())}get schoolName(){return this.schoolForm.get("schoolName")}get location(){return this.schoolForm.get("location")}addTotal(){this.total=parseInt(this.boys)+parseInt(this.girls)}ResetForm(){this.schoolForm.reset()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(no),s.Y36(Hu),s.Y36(jc),s.Y36(wi),s.Y36(to),s.Y36(Zo),s.Y36(Mf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-edit-school"]],inputs:{modal_title:"modal_title",school_id:"school_id",district_name:"district_name"},decls:52,vars:11,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"form-group","row"],[1,"label","col-sm-4","col-for-label"],["type","text","formControlName","schoolDistrict","readonly","",1,"form-control","col-sm-7",3,"value"],["type","text","formControlName","schoolName","required","",1,"form-control","col-sm-7"],["class","error",4,"ngIf"],["formControlName","schoolAddress",1,"form-control","col-sm-7"],["type","text","formControlName","location","required","",1,"form-control","col-sm-7"],["type","number","formControlName","boys","required","",1,"form-control","col-sm-7",3,"ngModel","change","ngModelChange"],["type","number","formControlName","girls","required","",1,"form-control","col-sm-7",3,"ngModel","change","ngModelChange"],["type","number","formControlName","total","required","",1,"form-control","col-sm-7",3,"ngModel","ngModelChange"],["type","hidden","formControlName","hasTrainer"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"error"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h4",1),s._uU(2),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){return i.activeModal.dismiss("Cross click")}),s.TgZ(4,"span",3),s._uU(5,"\xd7"),s.qZA()()(),s.TgZ(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),s._uU(12,"District name"),s.qZA(),s._UZ(13,"input",10),s.qZA(),s.TgZ(14,"div",8)(15,"label",9),s._uU(16,"School name"),s.qZA(),s._UZ(17,"input",11),s.YNc(18,F1e,4,0,"p",12),s.qZA(),s.TgZ(19,"div",8)(20,"label",9),s._uU(21,"School Address"),s.qZA(),s._UZ(22,"textarea",13),s.qZA(),s.TgZ(23,"div",8)(24,"label",9),s._uU(25,"Location"),s.qZA(),s._UZ(26,"input",14),s.YNc(27,V1e,4,0,"p",12),s.qZA(),s.TgZ(28,"div",8)(29,"label",9),s._uU(30,"Boys"),s.qZA(),s.TgZ(31,"input",15),s.NdJ("change",function(){return i.addTotal()})("ngModelChange",function(o){return i.boys=o}),s.qZA(),s.YNc(32,B1e,4,0,"p",12),s.qZA(),s.TgZ(33,"div",8)(34,"label",9),s._uU(35,"Girls"),s.qZA(),s.TgZ(36,"input",16),s.NdJ("change",function(){return i.addTotal()})("ngModelChange",function(o){return i.girls=o}),s.qZA(),s.YNc(37,U1e,4,0,"p",12),s.qZA(),s.TgZ(38,"div",8)(39,"label",9),s._uU(40,"Total"),s.qZA(),s.TgZ(41,"input",17),s.NdJ("ngModelChange",function(o){return i.total=o}),s.qZA(),s.YNc(42,H1e,4,0,"p",12),s.qZA(),s._UZ(43,"input",18),s.qZA()()()(),s.TgZ(44,"div",19)(45,"button",20),s.NdJ("click",function(){return i.submitSchool()}),s._uU(46,"Submit"),s.qZA(),s.TgZ(47,"button",21),s.NdJ("click",function(){return i.activeModal.close("Close click")}),s._uU(48,"Close"),s.qZA()(),s.TgZ(49,"ngx-spinner",22)(50,"p",23),s._uU(51,"Saving..."),s.qZA()()),2&e&&(s.xp6(2),s.Oqu(i.modal_title),s.xp6(5),s.Q6J("formGroup",i.schoolForm),s.xp6(6),s.s9C("value",i.district_name),s.xp6(5),s.Q6J("ngIf",(null==i.schoolName?null:i.schoolName.touched)&&(null==i.schoolName?null:i.schoolName.invalid)),s.xp6(9),s.Q6J("ngIf",(null==i.location?null:i.location.touched)&&(null==i.location?null:i.location.invalid)),s.xp6(4),s.Q6J("ngModel",i.boys),s.xp6(1),s.Q6J("ngIf",(null==i.boys?null:i.boys.touched)&&(null==i.boys?null:i.boys.invalid)),s.xp6(4),s.Q6J("ngModel",i.girls),s.xp6(1),s.Q6J("ngIf",(null==i.girls?null:i.girls.touched)&&(null==i.girls?null:i.girls.invalid)),s.xp6(4),s.Q6J("ngModel",i.total),s.xp6(1),s.Q6J("ngIf",(null==i.total?null:i.total.touched)&&(null==i.total?null:i.total.invalid)))},dependencies:[kt,eo,N,rg,hs,Hr,da,Jr,Fo,fm]}),n})();function Y1e(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.openAdd())}),s._uU(1,"Add School"),s.qZA()}}function j1e(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",23)(1,"p",24),s._uU(2),s.qZA(),s.TgZ(3,"button",22),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.openAdd())}),s._uU(4,"Add School"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(2),s.hij("No School added yet for ",e.district_name," District")}}function Z1e(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td",29)(6,"span",30),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.openEdit(o))}),s._UZ(7,"i",31),s.qZA(),s.TgZ(8,"span",32),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.deleteSchool(o))}),s._UZ(9,"i",33),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.schoolName),s.xp6(2),s.Oqu(e.schoolAddress)}}const G1e=function(n){return{itemsPerPage:10,currentPage:n}};function $1e(n,t){if(1&n&&(s.TgZ(0,"div",25)(1,"table",26)(2,"thead")(3,"tr")(4,"th"),s._uU(5,"School Name"),s.qZA(),s.TgZ(6,"th"),s._uU(7,"Address"),s.qZA(),s.TgZ(8,"th",27),s._uU(9,"Edit"),s.qZA()()(),s.TgZ(10,"tbody"),s.YNc(11,Z1e,10,2,"tr",28),s.ALo(12,"paginate"),s.qZA()()()),2&n){const e=s.oxw();s.xp6(11),s.Q6J("ngForOf",s.xi3(12,1,e.School,s.VKq(4,G1e,e.p)))}}let q1e=(()=>{class n{constructor(e,i,r,o,a,u){this.schoolService=e,this.toastr=i,this.modalService=r,this.route=o,this.router=a,this.confirmationDialogService=u,this.p=1,this.District=[],this.School=[],this.hideWhenNoSchool=!1,this.noData=!1,this.preLoader=!0,this.district_name=""}ngOnInit(){this.route.paramMap.subscribe(e=>{this.loadData(e)})}loadData(e){this.district_name=e.get("district"),this.dataStatus(),this.schoolService.getSchoolList(this.district_name).snapshotChanges().subscribe(r=>{this.School=[],r.forEach(o=>{let a={$key:o.key,...o.payload.toJSON()};this.School.push(a)})})}dataStatus(){this.schoolService.getSchoolList(this.district_name).valueChanges().subscribe(e=>{this.preLoader=!1,e.length<=0?(this.hideWhenNoSchool=!1,this.noData=!0):(this.hideWhenNoSchool=!0,this.noData=!1)})}openAdd(){const e=this.modalService.open(BF,{backdrop:!1,keyboard:!1});e.componentInstance.modal_title="Add School",e.componentInstance.district_name=this.district_name}deleteSchool(e){this.schoolService.getSchool(e.$key).valueChanges().subscribe(i=>{this.SchoolInd=i}),this.confirmationDialogService.confirm("Please confirm..","Do you really want to delete "+e.schoolName+"?").then(i=>{i&&(this.schoolService.AddSchoolHistory(this.SchoolInd),this.schoolService.deleteSchool(e.$key))}).catch(()=>console.log("dismissed"))}openEdit(e){const i=this.modalService.open(kW,{backdrop:!1,keyboard:!1});i.componentInstance.modal_title="Edit School",i.componentInstance.district_name=this.district_name,i.componentInstance.school_id=e.$key}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(jc),s.Y36(Zo),s.Y36(pa),s.Y36(Df),s.Y36(Bi),s.Y36(YF))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-school-district"]],decls:31,vars:4,consts:[[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"m-0"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"content"],[1,"row"],[1,"col-lg-3","col-md-12","col-sm-12"],[1,"col-lg-7","col-md-12","col-sm-12"],["type","text","readonly","",1,"form-control",3,"value"],[1,"col-lg-2","col-md-12","col-sm-12"],["class","btn btn-success",3,"click",4,"ngIf"],[1,"d-flex","justify-content-between","flex-wrap","flex-md-nowrap","align-items-center","pt-3","pb-2","mb-3","border-bottom"],[1,"pricing-header","mx-auto"],["class","no-data text-center",4,"ngIf"],["class","table-responsive",4,"ngIf"],[3,"pageChange"],[1,"btn","btn-success",3,"click"],[1,"no-data","text-center"],[1,"nodata-mgs"],[1,"table-responsive"],[1,"table","table-bordered","table-responsive-sm","table-responsive-md","table-responsive-lg"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"text-center","action-block"],[1,"mr-2","btn","btn-outline-primary","btn-sm",3,"click"],[1,"fa","fa-edit"],[1,"mr-2","btn","btn-outline-danger","btn-sm",3,"click"],[1,"fa","fa-trash"]],template:function(e,i){1&e&&(s._UZ(0,"app-header")(1,"app-sidebar"),s.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h1",5),s._uU(8,"School"),s.qZA()(),s.TgZ(9,"div",4)(10,"ol",6)(11,"li",7)(12,"a",8),s._uU(13,"Home"),s.qZA()(),s.TgZ(14,"li",9),s._uU(15,"School"),s.qZA()()()()()(),s.TgZ(16,"section",10)(17,"div",2)(18,"div",11)(19,"div",12),s._uU(20," School : "),s.qZA(),s.TgZ(21,"div",13),s._UZ(22,"input",14),s.qZA(),s.TgZ(23,"div",15),s.YNc(24,Y1e,2,0,"button",16),s.qZA()(),s._UZ(25,"div",17),s.TgZ(26,"div",18),s.YNc(27,j1e,5,1,"div",19),s.YNc(28,$1e,13,6,"div",20),s.TgZ(29,"pagination-controls",21),s.NdJ("pageChange",function(o){return i.p=o}),s.qZA()()()()(),s._UZ(30,"app-footer")),2&e&&(s.xp6(22),s.s9C("value",i.district_name),s.xp6(2),s.Q6J("ngIf",i.hideWhenNoSchool),s.xp6(3),s.Q6J("ngIf",i.noData),s.xp6(1),s.Q6J("ngIf",i.hideWhenNoSchool))},dependencies:[Gt,kt,Yu,lo,co,uo,Xa]}),n})();function W1e(n,t){if(1&n&&(s.TgZ(0,"option",24),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.districtName)}}function z1e(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",25),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.openAdd())}),s._uU(1,"Add"),s.qZA()}}function K1e(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",26)(1,"p",27),s._uU(2,"No School added yet!"),s.qZA(),s.TgZ(3,"button",25),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.openAdd())}),s._uU(4,"Add School"),s.qZA()()}}function J1e(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td",32)(6,"span",33),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.openEdit(o))}),s._UZ(7,"i",34),s.qZA(),s.TgZ(8,"span",35),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.deleteSchool(o))}),s._UZ(9,"i",36),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.schoolName),s.xp6(2),s.Oqu(e.schoolAddress)}}const Q1e=function(n){return{itemsPerPage:10,currentPage:n}};function X1e(n,t){if(1&n&&(s.TgZ(0,"div",28)(1,"table",29)(2,"thead")(3,"tr")(4,"th"),s._uU(5,"School Name"),s.qZA(),s.TgZ(6,"th"),s._uU(7,"Address"),s.qZA(),s.TgZ(8,"th",30),s._uU(9,"#"),s.qZA()()(),s.TgZ(10,"tbody"),s.YNc(11,J1e,10,2,"tr",31),s.ALo(12,"paginate"),s.qZA()()()),2&n){const e=s.oxw();s.xp6(11),s.Q6J("ngForOf",s.xi3(12,1,e.School,s.VKq(4,Q1e,e.p)))}}let exe=(()=>{class n{constructor(e,i,r,o,a,u,f){this.authService=e,this.distService=i,this.schoolService=r,this.toastr=o,this.modalService=a,this.router=u,this.confirmationDialogService=f,this.p=1,this.School=[],this.District=[],this.hideWhenNoSchool=!1,this.noData=!1,this.preLoad=!0,this.district_name="",this.buttonDisabled=!1}ngOnInit(){"Administrator"==this.authService.getRole()||"Moderator"==this.authService.getRole()?this.distService.getDistrictAll().snapshotChanges().subscribe(i=>{this.District=[],i.forEach(r=>{let o=r.payload.toJSON();this.District.push(o)})}):this.router.navigateByUrl("/")}changeDistrict(e){""==e.target.value?this.buttonDisabled=!1:(this.buttonDisabled=!0,this.district_name=e.target.value,this.getSchool())}getSchool(){this.dataStatus(),this.schoolService.getSchoolList(this.district_name).snapshotChanges().subscribe(i=>{this.School=[],i.forEach(r=>{let o={$key:r.key,...r.payload.toJSON()};this.School.push(o)})})}dataStatus(){this.schoolService.getSchoolList(this.district_name).valueChanges().subscribe(e=>{e.length<=0?(this.hideWhenNoSchool=!1,this.noData=!0):(this.hideWhenNoSchool=!0,this.noData=!1)})}openAdd(){const e=this.modalService.open(BF,{backdrop:!1,keyboard:!1});e.componentInstance.modal_title="Add School",e.componentInstance.district_name=this.district_name}openEdit(e){const i=this.modalService.open(kW,{backdrop:!1,keyboard:!1});i.componentInstance.modal_title="Edit School",i.componentInstance.district_name=this.district_name,i.componentInstance.school_id=e.$key}deleteSchool(e){this.schoolService.getSchool(e.$key).valueChanges().subscribe(i=>{this.SchoolInd=i}),this.confirmationDialogService.confirm("Please confirm..","Do you really want to delete "+e.schoolName+"?").then(i=>{i&&(this.schoolService.AddSchoolHistory(this.SchoolInd),this.schoolService.deleteSchool(e.$key))}).catch(()=>console.log("dismissed"))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wi),s.Y36(Hu),s.Y36(jc),s.Y36(Zo),s.Y36(pa),s.Y36(Bi),s.Y36(YF))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-list-school"]],decls:33,vars:4,consts:[[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"m-0"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"content"],[1,"row"],[1,"col-lg-3","col-md-12","col-sm-12"],[1,"col-lg-7","col-md-12","col-sm-12"],["name","dcmbDistrict",1,"form-control",3,"change"],["value",""],["ngValue","c.districtName",4,"ngFor","ngForOf"],[1,"col-lg-2","col-md-12","col-sm-12"],["class","btn btn-success",3,"click",4,"ngIf"],[1,"d-flex","justify-content-between","flex-wrap","flex-md-nowrap","align-items-center","pt-3","pb-2","mb-3","border-bottom"],[1,"pricing-header","mx-auto"],["class","no-data text-center",4,"ngIf"],["class","table-responsive",4,"ngIf"],[3,"pageChange"],["ngValue","c.districtName"],[1,"btn","btn-success",3,"click"],[1,"no-data","text-center"],[1,"nodata-mgs"],[1,"table-responsive"],[1,"table","table-bordered"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"text-center","action-block"],[1,"mr-2","btn","btn-outline-primary","btn-sm",3,"click"],[1,"fa","fa-edit"],[1,"mr-2","btn","btn-outline-danger","btn-sm",3,"click"],[1,"fa","fa-trash"]],template:function(e,i){1&e&&(s._UZ(0,"app-header")(1,"app-sidebar"),s.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h1",5),s._uU(8,"School"),s.qZA()(),s.TgZ(9,"div",4)(10,"ol",6)(11,"li",7)(12,"a",8),s._uU(13,"Home"),s.qZA()(),s.TgZ(14,"li",9),s._uU(15,"School"),s.qZA()()()()()(),s.TgZ(16,"section",10)(17,"div",2)(18,"div",11)(19,"div",12),s._uU(20," Select District : "),s.qZA(),s.TgZ(21,"div",13)(22,"select",14),s.NdJ("change",function(o){return i.changeDistrict(o)}),s._UZ(23,"option",15),s.YNc(24,W1e,2,1,"option",16),s.qZA()(),s.TgZ(25,"div",17),s.YNc(26,z1e,2,0,"button",18),s.qZA()(),s._UZ(27,"div",19),s.TgZ(28,"div",20),s.YNc(29,K1e,5,0,"div",21),s.YNc(30,X1e,13,6,"div",22),s.TgZ(31,"pagination-controls",23),s.NdJ("pageChange",function(o){return i.p=o}),s.qZA()()()()(),s._UZ(32,"app-footer")),2&e&&(s.xp6(24),s.Q6J("ngForOf",i.District),s.xp6(2),s.Q6J("ngIf",i.hideWhenNoSchool),s.xp6(3),s.Q6J("ngIf",i.noData),s.xp6(1),s.Q6J("ngIf",i.hideWhenNoSchool))},dependencies:[Gt,kt,Nd,Kh,Yu,lo,co,uo,Xa]}),n})();function txe(n,t){1&n&&(s.TgZ(0,"p",16)(1,"sup"),s._uU(2,"*"),s.qZA(),s._uU(3,"Please enter District"),s.qZA())}let nxe=(()=>{class n{constructor(e,i,r,o,a,u){this.distService=e,this.authService=i,this.activeModal=r,this.fb=o,this.toastr=a,this.SpinnerService=u}ngOnInit(){this.distService.getDistrictAll(),this.districtFormNew()}districtFormNew(){const e=JSON.parse(localStorage.getItem("user"));this.districtForm=this.fb.group({districtName:["",[bt.required]],enteredBy:e.email})}get districtName(){return this.districtForm.get("districtName")}submitDistrict(){this.SpinnerService.show(),this.distService.AddDistrict(this.districtForm.value),this.toastr.success(this.districtForm.controls.districtName.value+" successfully added."),this.ResetForm(),this.SpinnerService.hide(),this.activeModal.close()}ResetForm(){this.districtForm.reset()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hu),s.Y36(wi),s.Y36(no),s.Y36(to),s.Y36(Zo),s.Y36(Mf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-district"]],inputs:{modal_title:"modal_title"},decls:24,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"col-md-12","mb-3"],["type","text","formControlName","districtName","required","",1,"form-control"],["class","error",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"error"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h4",1),s._uU(2),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){return i.activeModal.dismiss("Cross click")}),s.TgZ(4,"span",3),s._uU(5,"\xd7"),s.qZA()()(),s.TgZ(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"div",6)(11,"div",8)(12,"label"),s._uU(13,"District Name"),s.qZA(),s._UZ(14,"input",9),s.YNc(15,txe,4,0,"p",10),s.qZA()()()()()(),s.TgZ(16,"div",11)(17,"button",12),s.NdJ("click",function(){return i.submitDistrict()}),s._uU(18,"Submit"),s.qZA(),s.TgZ(19,"button",13),s.NdJ("click",function(){return i.activeModal.close("Close click")}),s._uU(20,"Close"),s.qZA()(),s.TgZ(21,"ngx-spinner",14)(22,"p",15),s._uU(23,"Saving..."),s.qZA()()),2&e&&(s.xp6(2),s.Oqu(i.modal_title),s.xp6(5),s.Q6J("formGroup",i.districtForm),s.xp6(8),s.Q6J("ngIf",(null==i.districtName?null:i.districtName.touched)&&(null==i.districtName?null:i.districtName.invalid)))},dependencies:[kt,eo,N,hs,Hr,da,Jr,Fo,fm]}),n})();function ixe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",15)(1,"p",16),s._uU(2,"No District added yet!"),s.qZA(),s.TgZ(3,"button",17),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.openAdd())}),s._uU(4,"Add District"),s.qZA()()}}function rxe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"th",23),s._uU(2),s.qZA(),s.TgZ(3,"th")(4,"span",24),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.openSchool(o))}),s._UZ(5,"i",25),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.districtName)}}const sxe=function(n){return{itemsPerPage:10,currentPage:n}};function oxe(n,t){if(1&n&&(s.TgZ(0,"div",18)(1,"table",19)(2,"thead")(3,"tr")(4,"th",20),s._uU(5,"District Name"),s.qZA(),s.TgZ(6,"th",21),s._uU(7,"#"),s.qZA()()(),s.TgZ(8,"tbody"),s.YNc(9,rxe,6,1,"tr",22),s.ALo(10,"paginate"),s.qZA()()()),2&n){const e=s.oxw();s.xp6(9),s.Q6J("ngForOf",s.xi3(10,1,e.District,s.VKq(4,sxe,e.p)))}}let axe=(()=>{class n{constructor(e,i,r,o,a){this.authService=e,this.distService=i,this.toastr=r,this.modalService=o,this.router=a,this.p=1,this.preLoader=!0,this.hideWhenNoDistrict=!1,this.noData=!1,this.District=[]}ngOnInit(){"Administrator"==this.authService.getRole()?(this.dataStatus(),this.distService.getDistrictAll().snapshotChanges().subscribe(i=>{this.District=[],i.forEach(r=>{let o={$key:r.key,...r.payload.toJSON()};this.District.push(o)})})):this.router.navigateByUrl("/")}dataStatus(){this.distService.getDistrictAll().valueChanges().subscribe(e=>{this.preLoader=!1,e.length<=0?(this.hideWhenNoDistrict=!1,this.noData=!0):(this.hideWhenNoDistrict=!0,this.noData=!1)})}openAdd(){this.modalService.open(nxe,{backdrop:!1,keyboard:!1}).componentInstance.modal_title="Add District"}openSchool(e){this.router.navigate(["/school/list",e.districtName])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wi),s.Y36(Hu),s.Y36(Zo),s.Y36(pa),s.Y36(Bi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-list-district"]],decls:25,vars:2,consts:[[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"m-0"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"btn","btn-primary",3,"click"],[1,"content"],["class","no-data text-center",4,"ngIf"],["class","table-responsive",4,"ngIf"],[3,"pageChange"],[1,"no-data","text-center"],[1,"nodata-msg"],[1,"btn","btn-success",3,"click"],[1,"table-responsive"],[1,"table","table-bordered"],["width","90%"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],["scope","row"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"fa","fa-eye"]],template:function(e,i){1&e&&(s._UZ(0,"app-header")(1,"app-sidebar"),s.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h1",5),s._uU(8,"District"),s.qZA()(),s.TgZ(9,"div",4)(10,"ol",6)(11,"li",7)(12,"a",8),s._uU(13,"Home"),s.qZA()(),s.TgZ(14,"li",9),s._uU(15,"District"),s.qZA(),s.TgZ(16,"li",7)(17,"button",10),s.NdJ("click",function(){return i.openAdd()}),s._uU(18,"Add"),s.qZA()()()()()()(),s.TgZ(19,"section",11)(20,"div",2),s.YNc(21,ixe,5,0,"div",12),s.YNc(22,oxe,11,6,"div",13),s.TgZ(23,"pagination-controls",14),s.NdJ("pageChange",function(o){return i.p=o}),s.qZA()()()(),s._UZ(24,"app-footer")),2&e&&(s.xp6(21),s.Q6J("ngIf",i.noData),s.xp6(1),s.Q6J("ngIf",i.hideWhenNoDistrict))},dependencies:[Gt,kt,Yu,lo,co,uo,Xa]}),n})();function lxe(n,t){if(1&n&&(s.TgZ(0,"div")(1,"h1"),s._uU(2),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Oqu(e.errorMessage)}}let cxe=(()=>{class n{constructor(e,i,r){this.authService=e,this.fireAuth=i,this.router=r,this.showErrorMessage=!1,this.user=new Qt({email:new Tt(""),password:new Tt("")})}ngOnInit(){this.authService.isLoggedIn&&this.router.navigate(["/dashboard"])}SignIn(){this.authService.SignIn(this.email,this.password)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wi),s.Y36(l_),s.Y36(Bi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:26,vars:3,consts:[[1,"login-page"],[1,"login-box"],[1,"card","card-outline","card-primary"],[1,"card-header","text-center"],["href","../../index2.html",1,"h1"],[1,"card-body"],[1,"login-box-msg"],[1,"input-group","mb-3"],["type","email","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text"],[1,"fas","fa-envelope"],["type","password","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],[1,"fas","fa-lock"],[1,"row"],[1,"col-12"],["type","submit",1,"btn","btn-primary","btn-block",3,"click"],[4,"ngIf"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"b"),s._uU(6,"VTR"),s.qZA(),s._uU(7," Computer"),s.qZA()(),s.TgZ(8,"div",5)(9,"p",6),s._uU(10,"Sign in to start your session"),s.qZA(),s.TgZ(11,"div",7)(12,"input",8),s.NdJ("ngModelChange",function(o){return i.email=o}),s.qZA(),s.TgZ(13,"div",9)(14,"div",10),s._UZ(15,"span",11),s.qZA()()(),s.TgZ(16,"div",7)(17,"input",12),s.NdJ("ngModelChange",function(o){return i.password=o}),s.qZA(),s.TgZ(18,"div",9)(19,"div",10),s._UZ(20,"span",13),s.qZA()()(),s.TgZ(21,"div",14)(22,"div",15)(23,"button",16),s.NdJ("click",function(){return i.SignIn()}),s._uU(24,"Sign In"),s.qZA()()(),s.YNc(25,lxe,3,1,"div",17),s.qZA()()()()),2&e&&(s.xp6(12),s.Q6J("ngModel",i.email),s.xp6(5),s.Q6J("ngModel",i.password),s.xp6(8),s.Q6J("ngIf",i.showErrorMessage))},dependencies:[kt,N,hs,zh],styles:["login-box[_ngcontent-%COMP%]{align-items:center;width:100%}"]}),n})();function uxe(n,t){if(1&n&&(s.TgZ(0,"option",29),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.s9C("ngValue",e.districtName),s.xp6(1),s.Oqu(e.districtName)}}function dxe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11)(1,"label",26),s._uU(2,"District"),s.qZA(),s.TgZ(3,"select",27),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.district=r)}),s._UZ(4,"option",20),s.YNc(5,uxe,2,2,"option",28),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(3),s.Q6J("ngModel",e.district),s.xp6(2),s.Q6J("ngForOf",e.District)}}const hxe=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"dashboard",component:P1e},{path:"login",component:cxe},{path:"register",component:(()=>{class n{constructor(e,i,r){this.authenticationService=e,this.distService=i,this.router=r,this.District=[],this.showControl=!1}ngOnInit(){"Administrator"==this.authenticationService.getRole()?this.distService.getDistrictAll().snapshotChanges().subscribe(i=>{this.District=[],i.forEach(r=>{let o=r.payload.toJSON();this.District.push(o)})}):this.router.navigateByUrl("/")}signUp(){"Administrator"==this.role&&(this.district="All"),this.authenticationService.SignUp(this.email,this.password,this.role,this.name,this.district),this.email="",this.password="",this.role="",this.name="",this.district=""}changeRole(e){this.showControl="Administrator"!=e.target.value}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wi),s.Y36(Hu),s.Y36(Bi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-register"]],decls:45,vars:5,consts:[[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"m-0"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"content"],[1,"form-group"],["for","name"],["type","text","id","name","placeholder","Name",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","text","id","email","placeholder","email",1,"form-control",3,"ngModel","ngModelChange"],["for","pwd"],["type","password","id","pwd","placeholder","password",1,"form-control",3,"ngModel","ngModelChange"],["for","role"],["id","role",1,"form-control",3,"ngModel","change","ngModelChange"],["value",""],["value","Administrator"],["value","Moderator"],["value","data"],["class","form-group",4,"ngIf"],[1,"btn","btn-default",3,"click"],["for","district"],["name","district",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(e,i){1&e&&(s._UZ(0,"app-header")(1,"app-sidebar"),s.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h1",5),s._uU(8,"Register"),s.qZA()(),s.TgZ(9,"div",4)(10,"ol",6)(11,"li",7)(12,"a",8),s._uU(13,"Home"),s.qZA()(),s.TgZ(14,"li",9),s._uU(15,"Register"),s.qZA()()()()()(),s.TgZ(16,"section",10)(17,"div",2)(18,"div",11)(19,"label",12),s._uU(20,"Name:"),s.qZA(),s.TgZ(21,"input",13),s.NdJ("ngModelChange",function(o){return i.name=o}),s.qZA()(),s.TgZ(22,"div",11)(23,"label",14),s._uU(24,"Email address:"),s.qZA(),s.TgZ(25,"input",15),s.NdJ("ngModelChange",function(o){return i.email=o}),s.qZA()(),s.TgZ(26,"div",11)(27,"label",16),s._uU(28,"Password:"),s.qZA(),s.TgZ(29,"input",17),s.NdJ("ngModelChange",function(o){return i.password=o}),s.qZA()(),s.TgZ(30,"div",11)(31,"label",18),s._uU(32,"Role"),s.qZA(),s.TgZ(33,"select",19),s.NdJ("change",function(o){return i.changeRole(o)})("ngModelChange",function(o){return i.role=o}),s._UZ(34,"option",20),s.TgZ(35,"option",21),s._uU(36,"Administrator"),s.qZA(),s.TgZ(37,"option",22),s._uU(38,"Moderator"),s.qZA(),s.TgZ(39,"option",23),s._uU(40,"Data Entry"),s.qZA()()(),s.YNc(41,dxe,6,2,"div",24),s.TgZ(42,"div",25),s.NdJ("click",function(){return i.signUp()}),s._uU(43,"Sign Up"),s.qZA()()()(),s._UZ(44,"app-footer")),2&e&&(s.xp6(21),s.Q6J("ngModel",i.name),s.xp6(4),s.Q6J("ngModel",i.email),s.xp6(4),s.Q6J("ngModel",i.password),s.xp6(4),s.Q6J("ngModel",i.role),s.xp6(8),s.Q6J("ngIf",i.showControl))},dependencies:[Gt,kt,Nd,Kh,N,Su,hs,zh,lo,co,uo]}),n})()},{path:"district",component:axe},{path:"school",component:exe},{path:"school/list/:district",component:q1e},{path:"schooldist",component:Cpe},{path:"player",component:ype},{path:"position",component:Yfe},{path:"student/:id",component:Ofe},{path:"approval",component:Mfe},{path:"schoolmod",component:The},{path:"repApproved",component:fhe},{path:"repPlayers",component:_se},{path:"trainer",component:che},{path:"userprofile",component:ehe},{path:"playertransfer",component:Gde},{path:"trainertransfer",component:Pde},{path:"playerrelease",component:Rde}];let fxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Jj.forRoot(hxe),Jj]}),n})(),pxe=(()=>{class n{constructor(e){this.authService=e,this.title="VTR-Player"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[n2]}),n})();function MW(...n){return function mxe(){return aA(1)}()((0,Mc.of)(...n))}function H3(...n){const t=n[n.length-1];return(0,Yp.K)(t)?(n.pop(),e=>MW(n,e,t)):e=>MW(n,e)}function Y3(){return n=>n.lift(new gxe)}class gxe{call(t,e){return e.subscribe(new _xe(t))}}class _xe extends ks.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var wt,vxe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gf={},j3=j3||{},ln=vxe||self;function kM(){}function Z3(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function ZT(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var G3="closure_uid_"+(1e9*Math.random()>>>0),bxe=0;function xxe(n,t,e){return n.call.apply(n.bind,arguments)}function Cxe(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function ho(n,t,e){return(ho=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xxe:Cxe).apply(null,arguments)}function MM(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function fo(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return t.prototype[r].apply(i,a)}}function wm(){this.s=this.s,this.o=this.o}var wxe={};wm.prototype.s=!1,wm.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function yxe(n){return Object.prototype.hasOwnProperty.call(n,G3)&&n[G3]||(n[G3]=++bxe)}(this);delete wxe[n]}},wm.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const IW=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},NW=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in r&&t.call(e,r[o],o,n)};function LW(n){return Array.prototype.concat.apply([],arguments)}function $3(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function IM(n){return/^[\s\xa0]*$/.test(n)}var Ta,OW=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ca(n,t){return-1!=n.indexOf(t)}function q3(n,t){return n<t?-1:n>t?1:0}e:{var RW=ln.navigator;if(RW){var PW=RW.userAgent;if(PW){Ta=PW;break e}}Ta=""}function W3(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function FW(n){const t={};for(const e in n)t[e]=n[e];return t}var VW="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BW(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<VW.length;o++)e=VW[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function z3(n){return z3[" "](n),n}z3[" "]=kM;var NM,n,Axe=Ca(Ta,"Opera"),ib=Ca(Ta,"Trident")||Ca(Ta,"MSIE"),UW=Ca(Ta,"Edge"),K3=UW||ib,HW=Ca(Ta,"Gecko")&&!(Ca(Ta.toLowerCase(),"webkit")&&!Ca(Ta,"Edge"))&&!(Ca(Ta,"Trident")||Ca(Ta,"MSIE"))&&!Ca(Ta,"Edge"),Exe=Ca(Ta.toLowerCase(),"webkit")&&!Ca(Ta,"Edge");function YW(){var n=ln.document;return n?n.documentMode:void 0}e:{var J3="",Q3=(n=Ta,HW?/rv:([^\);]+)(\)|;)/.exec(n):UW?/Edge\/([\d\.]+)/.exec(n):ib?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Exe?/WebKit\/(\S+)/.exec(n):Axe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Q3&&(J3=Q3?Q3[1]:""),ib){var X3=YW();if(null!=X3&&X3>parseFloat(J3)){NM=String(X3);break e}}NM=J3}var kxe={};var Ixe=ln.document&&ib&&(YW()||parseInt(NM,10))||void 0,Nxe=function(){if(!ln.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ln.addEventListener("test",kM,t),ln.removeEventListener("test",kM,t)}catch{}return n}();function Ko(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function GT(n,t){if(Ko.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(HW){e:{try{z3(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Lxe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&GT.Z.h.call(this)}}Ko.prototype.h=function(){this.defaultPrevented=!0},fo(GT,Ko);var Lxe={2:"touch",3:"pen",4:"mouse"};GT.prototype.h=function(){GT.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var $T="closure_listenable_"+(1e6*Math.random()|0),Oxe=0;function Rxe(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++Oxe,this.ca=this.fa=!1}function LM(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function OM(n){this.src=n,this.g={},this.h=0}function tV(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=IW(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(LM(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function nV(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==i)return r}return-1}OM.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var a=nV(n,t,i,r);return-1<a?(t=n[a],e||(t.fa=!1)):((t=new Rxe(t,this.src,o,!!i,r)).fa=e,n.push(t)),t};var iV="closure_lm_"+(1e6*Math.random()|0),rV={};function ZW(n,t,e,i,r){if(i&&i.once)return $W(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ZW(n,t[o],e,i,r);return null}return e=lV(e),n&&n[$T]?n.N(t,e,ZT(i)?!!i.capture:!!i,r):GW(n,t,e,!1,i,r)}function GW(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var a=ZT(r)?!!r.capture:!!r,u=oV(n);if(u||(n[iV]=u=new OM(n)),(e=u.add(t,e,i,a,o)).proxy)return e;if(i=function Pxe(){var t=Fxe;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Nxe||(r=a),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(WW(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function $W(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)$W(n,t[o],e,i,r);return null}return e=lV(e),n&&n[$T]?n.O(t,e,ZT(i)?!!i.capture:!!i,r):GW(n,t,e,!0,i,r)}function qW(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)qW(n,t[o],e,i,r);else i=ZT(i)?!!i.capture:!!i,e=lV(e),n&&n[$T]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=nV(o=n.g[t],e,i,r))&&(LM(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=oV(n))&&(t=n.g[t.toString()],n=-1,t&&(n=nV(t,e,i,r)),(e=-1<n?t[n]:null)&&sV(e))}function sV(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[$T])tV(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(WW(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=oV(t))?(tV(e,n),0==e.h&&(e.src=null,t[iV]=null)):LM(n)}}}function WW(n){return n in rV?rV[n]:rV[n]="on"+n}function Fxe(n,t){if(n.ca)n=!0;else{t=new GT(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&sV(n),n=e.call(i,t)}return n}function oV(n){return(n=n[iV])instanceof OM?n:null}var aV="__closure_events_fn_"+(1e9*Math.random()>>>0);function lV(n){return"function"==typeof n?n:(n[aV]||(n[aV]=function(t){return n.handleEvent(t)}),n[aV])}function Rs(){wm.call(this),this.i=new OM(this),this.P=this,this.I=null}function po(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Ko(t,n);else if(t instanceof Ko)t.target=t.target||n;else{var r=t;BW(t=new Ko(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.g=e[o];r=RM(a,i,!0,t)&&r}if(r=RM(a=t.g=n,i,!0,t)&&r,r=RM(a,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=RM(a=t.g=e[o],i,!1,t)&&r}function RM(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==e){var u=a.listener,f=a.ia||a.src;a.fa&&tV(n.i,a),r=!1!==u.call(f,i)&&r}}return r&&!i.defaultPrevented}fo(Rs,wm),Rs.prototype[$T]=!0,Rs.prototype.removeEventListener=function(n,t,e,i){qW(this,n,t,e,i)},Rs.prototype.M=function(){if(Rs.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)LM(e[i]);delete n.g[t],n.h--}}this.I=null},Rs.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Rs.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var cV=ln.JSON.stringify;function Vxe(){var n=KW;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var dV,zW=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Uxe,n=>n.reset());class Uxe{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Hxe(n){ln.setTimeout(()=>{throw n},0)}function uV(n,t){dV||function Yxe(){var n=ln.Promise.resolve(void 0);dV=function(){n.then(jxe)}}(),hV||(dV(),hV=!0),KW.add(n,t)}var hV=!1,KW=new class Bxe{constructor(){this.h=this.g=null}add(t,e){const i=zW.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function jxe(){for(var n;n=Vxe();){try{n.h.call(n.g)}catch(e){Hxe(e)}var t=zW;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}hV=!1}function PM(n,t){Rs.call(this),this.h=n||1,this.g=t||ln,this.j=ho(this.kb,this),this.l=Date.now()}function fV(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function pV(n,t,e){if("function"==typeof n)e&&(n=ho(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ho(n.handleEvent,n)}return 2147483647<Number(t)?-1:ln.setTimeout(n,t||0)}function JW(n){n.g=pV(()=>{n.g=null,n.i&&(n.i=!1,JW(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}fo(PM,Rs),(wt=PM.prototype).da=!1,wt.S=null,wt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),po(this,"tick"),this.da&&(fV(this),this.start()))}},wt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wt.M=function(){PM.Z.M.call(this),fV(this),delete this.g};class Zxe extends wm{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:JW(this)}M(){super.M(),this.g&&(ln.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qT(n){wm.call(this),this.h=n,this.g={}}fo(qT,wm);var QW=[];function XW(n,t,e,i){Array.isArray(e)||(e&&(QW[0]=e.toString()),e=QW);for(var r=0;r<e.length;r++){var o=ZW(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function e8(n){W3(n.g,function(t,e){this.g.hasOwnProperty(e)&&sV(t)},n),n.g={}}function FM(){this.g=!0}function rb(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Wxe(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<r.length;a++)r[a]=""}}}return cV(e)}catch{return t}}(n,e)+(i?" "+i:"")})}qT.prototype.M=function(){qT.Z.M.call(this),e8(this)},qT.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},FM.prototype.Aa=function(){this.g=!1},FM.prototype.info=function(){};var G_={},t8=null;function VM(){return t8=t8||new Rs}function n8(n){Ko.call(this,G_.Ma,n)}function WT(n){const t=VM();po(t,new n8(t,n))}function i8(n,t){Ko.call(this,G_.STAT_EVENT,n),this.stat=t}function wa(n){const t=VM();po(t,new i8(t,n))}function r8(n,t){Ko.call(this,G_.Na,n),this.size=t}function zT(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ln.setTimeout(function(){n()},t)}G_.Ma="serverreachability",fo(n8,Ko),G_.STAT_EVENT="statevent",fo(i8,Ko),G_.Na="timingevent",fo(r8,Ko);var BM={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},s8={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function mV(){}function a8(){}mV.prototype.h=null;var vV,KT={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function gV(){Ko.call(this,"d")}function _V(){Ko.call(this,"c")}function UM(){}function JT(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new qT(this),this.P=zxe,this.W=new PM(n=K3?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new l8}function l8(){this.i=null,this.g="",this.h=!1}fo(gV,Ko),fo(_V,Ko),fo(UM,mV),UM.prototype.g=function(){return new XMLHttpRequest},UM.prototype.i=function(){return{}},vV=new UM;var zxe=45e3,yV={},HM={};function bV(n,t,e){n.K=1,n.v=$M($f(t)),n.s=e,n.U=!0,c8(n,null)}function c8(n,t){n.F=Date.now(),QT(n),n.A=$f(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),v8(e.h,"t",i),n.C=0,e=n.l.H,n.h=new l8,n.g=H8(n.l,e?t:null,!n.s),0<n.O&&(n.L=new Zxe(ho(n.Ia,n,n.g),n.O)),XW(n.V,n.g,"readystatechange",n.gb),t=n.H?FW(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),WT(1),function Gxe(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var a="",u=o.split("&"),f=0;f<u.length;f++){var m=u[f].split("=");if(1<m.length){var v=m[0];m=m[1];var x=v.split("_");a=2<=x.length&&"type"==x[1]?a+(v+"=")+m+"&":a+(v+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+a})}(n.j,n.u,n.A,n.m,n.X,n.s)}function u8(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function d8(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=Kxe(n,e),r==HM){4==t&&(n.o=4,wa(14),i=!1),rb(n.j,n.m,null,"[Incomplete Response]");break}if(r==yV){n.o=4,wa(15),rb(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}rb(n.j,n.m,r,null),xV(n,r)}u8(n)&&r!=HM&&r!=yV&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,wa(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),NV(t),t.L=!0,wa(11))):(rb(n.j,n.m,e,"[Invalid Chunked Response]"),$_(n),XT(n))}function Kxe(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?HM:(e=Number(t.substring(e,i)),isNaN(e)?yV:(i+=1)+e>t.length?HM:(t=t.substr(i,e),n.C=i+e,t))}function QT(n){n.Y=Date.now()+n.P,h8(n,n.P)}function h8(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=zT(ho(n.eb,n),t)}function YM(n){n.B&&(ln.clearTimeout(n.B),n.B=null)}function XT(n){0==n.l.G||n.I||F8(n.l,n)}function $_(n){YM(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,fV(n.W),e8(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function xV(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||wV(e.i,n)))if(e.I=n.N,!n.J&&wV(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;QM(e),KM(e)}IV(e),wa(18)}}else e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=zT(ho(e.ab,e),6e3));if(1>=x8(e.i)&&e.ka){try{e.ka()}catch{}e.ka=void 0}}else z_(e,11)}else if((n.J||e.g==n)&&QM(e),!IM(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let m=r[t];if(e.U=m[0],m=m[1],2==e.G)if("c"==m[0]){e.J=m[1],e.la=m[2];const v=m[3];null!=v&&(e.ma=v,e.h.info("VER="+e.ma));const x=m[4];null!=x&&(e.za=x,e.h.info("SVER="+e.za));const S=m[5];null!=S&&"number"==typeof S&&0<S&&(e.K=i=1.5*S,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const k=n.g;if(k){const O=k.g?k.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(O){var o=i.i;!o.g&&(Ca(O,"spdy")||Ca(O,"quic")||Ca(O,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(DV(o,o.h),o.h=null))}if(i.D){const U=k.g?k.g.getResponseHeader("X-HTTP-Session-Id"):null;U&&(i.sa=U,ar(i.F,i.D,U))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var a=n;if((i=e).oa=U8(i,i.H?i.la:null,i.W),a.J){C8(i.i,a);var u=a,f=i.K;f&&u.setTimeout(f),u.B&&(YM(u),QT(u)),i.g=a}else R8(i);0<e.l.length&&JM(e)}else"stop"!=m[0]&&"close"!=m[0]||z_(e,7);else 3==e.G&&("stop"==m[0]||"close"==m[0]?"stop"==m[0]?z_(e,7):kV(e):"noop"!=m[0]&&e.j&&e.j.wa(m),e.A=0)}WT(4)}catch{}}function CV(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Z3(n)||"string"==typeof n)NW(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(Z3(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function Jxe(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Z3(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}}function sb(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof sb)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function TV(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];q_(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)q_(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function q_(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(wt=JT.prototype).setTimeout=function(n){this.P=n},wt.gb=function(n){n=n.target;const t=this.L;t&&3==qf(n)?t.l():this.Ia(n)},wt.Ia=function(n){try{if(n==this.g)e:{const v=qf(this.g);var t=this.g.Da();const x=this.g.ba();if(!(3>v)&&(3!=v||K3||this.g&&(this.h.h||this.g.ga()||M8(this.g)))){this.I||4!=v||7==t||WT(8==t||0>=x?3:2),YM(this);var e=this.g.ba();this.N=e;t:if(u8(this)){var i=M8(this.g);n="";var r=i.length,o=4==qf(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){$_(this),XT(this);var a="";break t}this.h.i=new ln.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=200==e,function $xe(n,t,e,i,r,o,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+a})}(this.j,this.u,this.A,this.m,this.X,v,e),this.i){if(this.$&&!this.J){t:{if(this.g){var u,f=this.g;if((u=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!IM(u)){var m=u;break t}}m=null}if(!(e=m)){this.i=!1,this.o=3,wa(12),$_(this),XT(this);break e}rb(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xV(this,e)}this.U?(d8(this,v,a),K3&&this.i&&3==v&&(XW(this.V,this.W,"tick",this.fb),this.W.start())):(rb(this.j,this.m,a,null),xV(this,a)),4==v&&$_(this),this.i&&!this.I&&(4==v?F8(this.l,this):(this.i=!1,QT(this)))}else 400==e&&0<a.indexOf("Unknown SID")?(this.o=3,wa(12)):(this.o=0,wa(13)),$_(this),XT(this)}}}catch{}},wt.fb=function(){if(this.g){var n=qf(this.g),t=this.g.ga();this.C<t.length&&(YM(this),d8(this,n,t),this.i&&4!=n&&QT(this))}},wt.cancel=function(){this.I=!0,$_(this)},wt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function qxe(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(WT(3),wa(17)),$_(this),this.o=2,XT(this)):h8(this,this.Y-n)},(wt=sb.prototype).R=function(){TV(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},wt.T=function(){return TV(this),this.g.concat()},wt.get=function(n,t){return q_(this.h,n)?this.h[n]:t},wt.set=function(n,t){q_(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},wt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],o=this.get(r);n.call(t,o,r,this)}};var f8=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function W_(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof W_){this.g=void 0!==t?t:n.g,jM(this,n.j),this.s=n.s,ZM(this,n.i),GM(this,n.m),this.l=n.l,t=n.h;var e=new nw;e.i=t.i,t.g&&(e.g=new sb(t.g),e.h=t.h),p8(this,e),this.o=n.o}else n&&(e=String(n).match(f8))?(this.g=!!t,jM(this,e[1]||"",!0),this.s=ew(e[2]||""),ZM(this,e[3]||"",!0),GM(this,e[4]),this.l=ew(e[5]||"",!0),p8(this,e[6]||"",!0),this.o=ew(e[7]||"")):(this.g=!!t,this.h=new nw(null,this.g))}function $f(n){return new W_(n)}function jM(n,t,e){n.j=e?ew(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function ZM(n,t,e){n.i=e?ew(t,!0):t}function GM(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function p8(n,t,e){t instanceof nw?(n.h=t,function oCe(n,t){t&&!n.j&&(Dm(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(g8(this,i),v8(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=tw(t,rCe)),n.h=new nw(t,n.g))}function ar(n,t,e){n.h.set(t,e)}function $M(n){return ar(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ew(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function tw(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,tCe),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function tCe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}W_.prototype.toString=function(){var n=[],t=this.j;t&&n.push(tw(t,m8,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(tw(t,m8,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(tw(e,"/"==e.charAt(0)?iCe:nCe,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",tw(e,sCe)),n.join("")};var m8=/[#\/\?@]/g,nCe=/[#\?:]/g,iCe=/[#\?]/g,rCe=/[#\?@]/g,sCe=/#/g;function nw(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Dm(n){n.g||(n.g=new sb,n.h=0,n.i&&function Qxe(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function g8(n,t){Dm(n),t=ob(n,t),q_(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,q_((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&TV(n)))}function _8(n,t){return Dm(n),t=ob(n,t),q_(n.g.h,t)}function v8(n,t,e){g8(n,t),0<e.length&&(n.i=null,n.g.set(ob(n,t),$3(e)),n.h+=e.length)}function ob(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function y8(n){this.l=n||lCe,n=ln.PerformanceNavigationTiming?0<(n=ln.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ln.g&&ln.g.Ea&&ln.g.Ea()&&ln.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(wt=nw.prototype).add=function(n,t){Dm(this),this.i=null,n=ob(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},wt.forEach=function(n,t){Dm(this),this.g.forEach(function(e,i){NW(e,function(r){n.call(t,r,i,this)},this)},this)},wt.T=function(){Dm(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],o=0;o<r.length;o++)e.push(t[i]);return e},wt.R=function(n){Dm(this);var t=[];if("string"==typeof n)_8(this,n)&&(t=LW(t,this.g.get(ob(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=LW(t,n[e])}return t},wt.set=function(n,t){return Dm(this),this.i=null,_8(this,n=ob(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},wt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},wt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),n.push(a)}}return this.i=n.join("&")};var lCe=10;function b8(n){return!!n.h||!!n.g&&n.g.size>=n.j}function x8(n){return n.h?1:n.g?n.g.size:0}function wV(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function DV(n,t){n.g?n.g.add(t):n.h=t}function C8(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function T8(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return $3(n.i)}function SV(){}function cCe(){this.g=new SV}function uCe(n,t,e){const i=e||"";try{CV(n,function(r,o){let a=r;ZT(r)&&(a=cV(r)),t.push(i+o+"="+encodeURIComponent(a))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function qM(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function iw(n){this.l=n.$b||null,this.j=n.ib||!1}function WM(n,t){Rs.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=AV,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}y8.prototype.cancel=function(){if(this.i=T8(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},SV.prototype.stringify=function(n){return ln.JSON.stringify(n,void 0)},SV.prototype.parse=function(n){return ln.JSON.parse(n,void 0)},fo(iw,mV),iw.prototype.g=function(){return new WM(this.l,this.j)},iw.prototype.i=function(n){return function(){return n}}({}),fo(WM,Rs);var AV=0;function w8(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function rw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,sw(n)}function sw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(wt=WM.prototype).open=function(n,t){if(this.readyState!=AV)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,sw(this)},wt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||ln).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},wt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rw(this)),this.readyState=AV},wt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,sw(this)),this.g&&(this.readyState=3,sw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ln.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;w8(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},wt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?rw(this):sw(this),3==this.readyState&&w8(this)}},wt.Ua=function(n){this.g&&(this.response=this.responseText=n,rw(this))},wt.Ta=function(n){this.g&&(this.response=n,rw(this))},wt.ha=function(){this.g&&rw(this)},wt.setRequestHeader=function(n,t){this.v.append(n,t)},wt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},wt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(WM.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var hCe=ln.JSON.parse;function ts(n){Rs.call(this),this.headers=new sb,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=D8,this.K=this.L=!1}fo(ts,Rs);var D8="",fCe=/^https?$/i,pCe=["POST","PUT"];function gCe(n){return"content-type"==n.toLowerCase()}function S8(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,A8(n),zM(n)}function A8(n){n.D||(n.D=!0,po(n,"complete"),po(n,"error"))}function E8(n){if(n.h&&typeof j3<"u"&&(!n.C[1]||4!=qf(n)||2!=n.ba()))if(n.v&&4==qf(n))pV(n.Fa,0,n);else if(po(n,"readystatechange"),4==qf(n)){n.h=!1;try{const u=n.ba();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===u){var r=String(n.H).match(f8)[1]||null;if(!r&&ln.self&&ln.self.location){var o=ln.self.location.protocol;r=o.substr(0,o.length-1)}i=!fCe.test(r?r.toLowerCase():"")}e=i}if(e)po(n,"complete"),po(n,"success");else{n.m=6;try{var a=2<qf(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.ba()+"]",A8(n)}}finally{zM(n)}}}function zM(n,t){if(n.g){k8(n);const e=n.g,i=n.C[0]?kM:null;n.g=null,n.C=null,t||po(n,"ready");try{e.onreadystatechange=i}catch{}}}function k8(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(ln.clearTimeout(n.A),n.A=null)}function qf(n){return n.g?n.g.readyState:0}function M8(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case D8:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function EV(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function _Ce(n){let t="";return W3(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):ar(n,t,e))}function ow(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function I8(n){this.za=0,this.l=[],this.h=new FM,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ow("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ow("baseRetryDelayMs",5e3,n),this.$a=ow("retryDelaySeedMs",1e4,n),this.Ya=ow("forwardChannelMaxRetries",2,n),this.ra=ow("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new y8(n&&n.concurrentRequestLimit),this.Ca=new cCe,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function kV(n){if(N8(n),3==n.G){var t=n.V++,e=$f(n.F);ar(e,"SID",n.J),ar(e,"RID",t),ar(e,"TYPE","terminate"),aw(n,e),(t=new JT(n,n.h,t,void 0)).K=2,t.v=$M($f(e)),e=!1,ln.navigator&&ln.navigator.sendBeacon&&(e=ln.navigator.sendBeacon(t.v.toString(),"")),!e&&ln.Image&&((new Image).src=t.v,e=!0),e||(t.g=H8(t.l,null),t.g.ea(t.v)),t.F=Date.now(),QT(t)}B8(n)}function KM(n){n.g&&(NV(n),n.g.cancel(),n.g=null)}function N8(n){KM(n),n.u&&(ln.clearTimeout(n.u),n.u=null),QM(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ln.clearTimeout(n.m),n.m=null)}function MV(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&JM(n)}function JM(n){b8(n.i)||n.m||(n.m=!0,uV(n.Ha,n),n.C=0)}function L8(n,t){var e;e=t?t.m:n.V++;const i=$f(n.F);ar(i,"SID",n.J),ar(i,"RID",e),ar(i,"AID",n.U),aw(n,i),n.o&&n.s&&EV(i,n.o,n.s),e=new JT(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=O8(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),DV(n.i,e),bV(e,i,t)}function aw(n,t){n.j&&CV({},function(e,i){ar(t,i,e)})}function O8(n,t,e){e=Math.min(n.l.length,e);var i=n.j?ho(n.j.Oa,n.j,n):null;e:{var r=n.l;let o=-1;for(;;){const a=["count="+e];-1==o?0<e?(o=r[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);let u=!0;for(let f=0;f<e;f++){let m=r[f].h;const v=r[f].g;if(m-=o,0>m)o=Math.max(0,r[f].h-100),u=!1;else try{uCe(v,a,"req"+m+"_")}catch{i&&i(v)}}if(u){i=a.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function R8(n){n.g||n.u||(n.Y=1,uV(n.Ga,n),n.A=0)}function IV(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=zT(ho(n.Ga,n),V8(n,n.A)),n.A++,0))}function NV(n){null!=n.B&&(ln.clearTimeout(n.B),n.B=null)}function P8(n){n.g=new JT(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=$f(n.oa);ar(t,"RID","rpc"),ar(t,"SID",n.J),ar(t,"CI",n.N?"0":"1"),ar(t,"AID",n.U),aw(n,t),ar(t,"TYPE","xmlhttp"),n.o&&n.s&&EV(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=$M($f(t)),e.s=null,e.U=!0,c8(e,n)}function QM(n){null!=n.v&&(ln.clearTimeout(n.v),n.v=null)}function F8(n,t){var e=null;if(n.g==t){QM(n),NV(n),n.g=null;var i=2}else{if(!wV(n.i,t))return;e=t.D,C8(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;po(i=VM(),new r8(i,e,t,r)),JM(n)}else R8(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function vCe(n,t){return!(x8(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=zT(ho(n.Ha,n,t),V8(n,n.C)),n.C++,0)))}(n,t)||2==i&&IV(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:z_(n,5);break;case 4:z_(n,10);break;case 3:z_(n,6);break;default:z_(n,2)}}function V8(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function z_(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=ho(n.jb,n);e||(e=new W_("//www.google.com/images/cleardot.gif"),ln.location&&"http"==ln.location.protocol||jM(e,"https"),$M(e)),function dCe(n,t){const e=new FM;if(ln.Image){const i=new Image;i.onload=MM(qM,e,i,"TestLoadImage: loaded",!0,t),i.onerror=MM(qM,e,i,"TestLoadImage: error",!1,t),i.onabort=MM(qM,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=MM(qM,e,i,"TestLoadImage: timeout",!1,t),ln.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else wa(2);n.G=0,n.j&&n.j.va(t),B8(n),N8(n)}function B8(n){n.G=0,n.I=-1,n.j&&((0!=T8(n.i).length||0!=n.l.length)&&(n.i.i.length=0,$3(n.l),n.l.length=0),n.j.ua())}function U8(n,t,e){let i=function Xxe(n){return n instanceof W_?$f(n):new W_(n,void 0)}(e);if(""!=i.i)t&&ZM(i,t+"."+i.i),GM(i,i.m);else{const r=ln.location;i=function eCe(n,t,e,i){var r=new W_(null,void 0);return n&&jM(r,n),t&&ZM(r,t),e&&GM(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&W3(n.aa,function(r,o){ar(i,o,r)}),e=n.sa,(t=n.D)&&e&&ar(i,t,e),ar(i,"VER",n.ma),aw(n,i),i}function H8(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ts(e&&n.Ba&&!n.qa?new iw({ib:!0}):n.qa)).L=n.H,t}function Y8(){}function XM(){if(ib&&!(10<=Number(Ixe)))throw Error("Environmental error: no available transport.")}function zl(n,t){Rs.call(this),this.g=new I8(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!IM(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!IM(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new ab(this)}function j8(n){gV.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Z8(){_V.call(this),this.status=1}function ab(n){this.g=n}(wt=ts.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vV.g(),this.C=function o8(n){return n.h||(n.h=n.i())}(this.u?this.u:vV),this.g.onreadystatechange=ho(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void S8(this,o)}n=e||"";const r=new sb(this.headers);i&&CV(i,function(o,a){r.set(a,o)}),i=function Dxe(n){e:{var t=gCe;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=ln.FormData&&n instanceof ln.FormData,!(0<=IW(pCe,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,a){this.g.setRequestHeader(a,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{k8(this),0<this.B&&((this.K=function mCe(n){return ib&&function Mxe(){return function Sxe(n){var t=kxe;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=OW(String(NM)).split("."),e=OW("9").split("."),i=Math.max(t.length,e.length);for(let a=0;0==n&&a<i;a++){var r=t[a]||"",o=e[a]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=q3(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||q3(0==r[2].length,0==o[2].length)||q3(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ho(this.pa,this)):this.A=pV(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){S8(this,o)}},wt.pa=function(){typeof j3<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,po(this,"timeout"),this.abort(8))},wt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,po(this,"complete"),po(this,"abort"),zM(this))},wt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zM(this,!0)),ts.Z.M.call(this)},wt.Fa=function(){this.s||(this.F||this.v||this.l?E8(this):this.cb())},wt.cb=function(){E8(this)},wt.ba=function(){try{return 2<qf(this)?this.g.status:-1}catch{return-1}},wt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},wt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),hCe(t)}},wt.Da=function(){return this.m},wt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(wt=I8.prototype).ma=8,wt.G=1,wt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},wt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new JT(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=FW(o),BW(o,this.P)):o=this.P),null===this.o&&(r.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=O8(this,r,t),ar(e=$f(this.F),"RID",n),ar(e,"CVER",22),this.D&&ar(e,"X-HTTP-Session-Id",this.D),aw(this,e),this.o&&o&&EV(e,this.o,o),DV(this.i,r),this.Ra&&ar(e,"TYPE","init"),this.ja?(ar(e,"$req",t),ar(e,"SID","null"),r.$=!0,bV(r,e,null)):bV(r,e,t),this.G=2}}else 3==this.G&&(n?L8(this,n):0==this.l.length||b8(this.i)||L8(this))},wt.Ga=function(){if(this.u=null,P8(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=zT(ho(this.bb,this),n)}},wt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,wa(10),KM(this),P8(this))},wt.ab=function(){null!=this.v&&(this.v=null,KM(this),IV(this),wa(19))},wt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),wa(2)):(this.h.info("Failed to ping google.com"),wa(1))},(wt=Y8.prototype).xa=function(){},wt.wa=function(){},wt.va=function(){},wt.ua=function(){},wt.Oa=function(){},XM.prototype.g=function(n,t){return new zl(n,t)},fo(zl,Rs),zl.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),uV(ho(n.hb,n,t))),wa(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=U8(n,null,n.W),JM(n)},zl.prototype.close=function(){kV(this.g)},zl.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,MV(this.g,t)}else this.v?((t={}).__data__=cV(n),MV(this.g,t)):MV(this.g,n)},zl.prototype.M=function(){this.g.j=null,delete this.j,kV(this.g),delete this.g,zl.Z.M.call(this)},fo(j8,gV),fo(Z8,_V),fo(ab,Y8),ab.prototype.xa=function(){po(this.g,"a")},ab.prototype.wa=function(n){po(this.g,new j8(n))},ab.prototype.va=function(n){po(this.g,new Z8(n))},ab.prototype.ua=function(){po(this.g,"b")},XM.prototype.createWebChannel=XM.prototype.g,zl.prototype.send=zl.prototype.u,zl.prototype.open=zl.prototype.m,zl.prototype.close=zl.prototype.close,BM.NO_ERROR=0,BM.TIMEOUT=8,BM.HTTP_ERROR=6,s8.COMPLETE="complete",a8.EventType=KT,KT.OPEN="a",KT.CLOSE="b",KT.ERROR="c",KT.MESSAGE="d",Rs.prototype.listen=Rs.prototype.N,ts.prototype.listenOnce=ts.prototype.O,ts.prototype.getLastError=ts.prototype.La,ts.prototype.getLastErrorCode=ts.prototype.Da,ts.prototype.getStatus=ts.prototype.ba,ts.prototype.getResponseJson=ts.prototype.Qa,ts.prototype.getResponseText=ts.prototype.ga,ts.prototype.send=ts.prototype.ea;var yCe=Gf.createWebChannelTransport=function(){return new XM},bCe=Gf.getStatEventTarget=function(){return VM()},LV=Gf.ErrorCode=BM,xCe=Gf.EventType=s8,CCe=Gf.Event=G_,G8=Gf.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},TCe=Gf.FetchXmlHttpFactory=iw,eI=Gf.WebChannel=a8,wCe=Gf.XhrIo=ts;const $8="@firebase/firestore";class mo{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}mo.UNAUTHENTICATED=new mo(null),mo.GOOGLE_CREDENTIALS=new mo("google-credentials-uid"),mo.FIRST_PARTY=new mo("first-party-uid"),mo.MOCK_USER=new mo("mock-user");let lb="9.6.5";const Sm=new Bl.Yd("@firebase/firestore");function OV(){return Sm.logLevel}function nt(n,...t){if(Sm.logLevel<=Bl.in.DEBUG){const e=t.map(RV);Sm.debug(`Firestore (${lb}): ${n}`,...e)}}function ns(n,...t){if(Sm.logLevel<=Bl.in.ERROR){const e=t.map(RV);Sm.error(`Firestore (${lb}): ${n}`,...e)}}function lw(n,...t){if(Sm.logLevel<=Bl.in.WARN){const e=t.map(RV);Sm.warn(`Firestore (${lb}): ${n}`,...e)}}function RV(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ot(n="Unexpected state"){const t=`FIRESTORE (${lb}) INTERNAL ASSERTION FAILED: `+n;throw ns(t),new Error(t)}function Xt(n,t){n||Ot()}function ft(n,t){return n}const Me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends B.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ps{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class q8{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ACe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(mo.UNAUTHENTICATED))}shutdown(){}}class ECe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class kCe{constructor(t){this.t=t,this.currentUser=mo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=m=>this.i!==r?(r=this.i,e(m)):Promise.resolve();let a=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ps,t.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const m=a;t.enqueueRetryable((0,ke.Z)(function*(){yield m.promise,yield o(i.currentUser)}))},f=m=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ps)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xt("string"==typeof i.accessToken),new q8(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Xt(null===t||"string"==typeof t),new mo(t)}}class MCe{constructor(t,e,i){this.type="FirstParty",this.user=mo.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class ICe{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new MCe(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(mo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W8{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NCe{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null}start(t,e){this.o=r=>{t.enqueueRetryable(()=>{return null!=(o=r).error&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`),e(o.token);var o})};const i=r=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.g.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.g.getImmediate({optional:!0});r?i(r):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Xt("string"==typeof e.token),new W8(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Kl{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.p(i),this.T=i=>e.writeSequenceNumber(i))}p(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function LCe(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}Kl.I=-1;class z8{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=LCe(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Bn(n,t){return n<t?-1:n>t?1:0}function cb(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function K8(n){return n+"\0"}class Fs{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ze(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ze(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ze(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ze(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Fs.fromMillis(Date.now())}static fromDate(t){return Fs.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Fs(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Bn(this.nanoseconds,t.nanoseconds):Bn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class un{constructor(t){this.timestamp=t}static fromTimestamp(t){return new un(t)}static min(){return new un(new Fs(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function J8(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function K_(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Q8(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class cw{constructor(t,e,i){void 0===e?e=0:e>t.length&&Ot(),void 0===i?i=t.length-e:i>t.length-e&&Ot(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===cw.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof cw?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),a=e.get(r);if(o<a)return-1;if(o>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class si extends cw{construct(t,e,i){return new si(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ze(Me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new si(e)}static emptyPath(){return new si([])}}const OCe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class go extends cw{construct(t,e,i){return new go(t,e,i)}static isValidIdentifier(t){return OCe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),go.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new go(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Ze(Me.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let a=!1;for(;r<t.length;){const u=t[r];if("\\"===u){if(r+1===t.length)throw new Ze(Me.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new Ze(Me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else"`"===u?(a=!a,r++):"."!==u||a?(i+=u,r++):(o(),r++)}if(o(),a)throw new Ze(Me.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new go(e)}static emptyPath(){return new go([])}}class ub{constructor(t){this.fields=t,t.sort(go.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return cb(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class _s{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new _s(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new _s(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}_s.EMPTY_BYTE_STRING=new _s("");const PCe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Am(n){if(Xt(!!n),"string"==typeof n){let t=0;const e=PCe.exec(n);if(Xt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:is(n.seconds),nanos:is(n.nanos)}}function is(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function db(n){return"string"==typeof n?_s.fromBase64String(n):_s.fromUint8Array(n)}function PV(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function X8(n){const t=n.mapValue.fields.__previous_value__;return PV(t)?X8(t):t}function uw(n){const t=Am(n.mapValue.fields.__local_write_time__.timestampValue);return new Fs(t.seconds,t.nanos)}function J_(n){return null==n}function tI(n){return 0===n&&1/n==-1/0}function ez(n){return"number"==typeof n&&Number.isInteger(n)&&!tI(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Mt{constructor(t){this.path=t}static fromPath(t){return new Mt(si.fromString(t))}static fromName(t){return new Mt(si.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===si.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return si.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Mt(new si(t.slice()))}}function Q_(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?PV(n)?4:10:Ot()}function fh(n,t){if(n===t)return!0;const e=Q_(n);if(e!==Q_(t))return!1;switch(e){case 0:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return uw(n).isEqual(uw(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Am(i.timestampValue),a=Am(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,db(n.bytesValue).isEqual(db(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return is(i.geoPointValue.latitude)===is(r.geoPointValue.latitude)&&is(i.geoPointValue.longitude)===is(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return is(i.integerValue)===is(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=is(i.doubleValue),a=is(r.doubleValue);return o===a?tI(o)===tI(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return cb(n.arrayValue.values||[],t.arrayValue.values||[],fh);case 10:return function(i,r){const o=i.mapValue.fields||{},a=r.mapValue.fields||{};if(J8(o)!==J8(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!fh(o[u],a[u])))return!1;return!0}(n,t);default:return Ot()}var r}function dw(n,t){return void 0!==(n.values||[]).find(e=>fh(e,t))}function hb(n,t){if(n===t)return 0;const e=Q_(n),i=Q_(t);if(e!==i)return Bn(e,i);switch(e){case 0:return 0;case 1:return Bn(n.booleanValue,t.booleanValue);case 2:return function(r,o){const a=is(r.integerValue||r.doubleValue),u=is(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,t);case 3:return tz(n.timestampValue,t.timestampValue);case 4:return tz(uw(n),uw(t));case 5:return Bn(n.stringValue,t.stringValue);case 6:return function(r,o){const a=db(r),u=db(o);return a.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const a=r.split("/"),u=o.split("/");for(let f=0;f<a.length&&f<u.length;f++){const m=Bn(a[f],u[f]);if(0!==m)return m}return Bn(a.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const a=Bn(is(r.latitude),is(o.latitude));return 0!==a?a:Bn(is(r.longitude),is(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const a=r.values||[],u=o.values||[];for(let f=0;f<a.length&&f<u.length;++f){const m=hb(a[f],u[f]);if(m)return m}return Bn(a.length,u.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){const a=r.fields||{},u=Object.keys(a),f=o.fields||{},m=Object.keys(f);u.sort(),m.sort();for(let v=0;v<u.length&&v<m.length;++v){const x=Bn(u[v],m[v]);if(0!==x)return x;const S=hb(a[u[v]],f[m[v]]);if(0!==S)return S}return Bn(u.length,m.length)}(n.mapValue,t.mapValue);default:throw Ot()}}function tz(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Bn(n,t);const e=Am(n),i=Am(t),r=Bn(e.seconds,i.seconds);return 0!==r?r:Bn(e.nanos,i.nanos)}function FV(n){return VV(n)}function VV(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Am(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?db(n.bytesValue).toBase64():"referenceValue"in n?Mt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const a of i.values||[])o?o=!1:r+=",",r+=VV(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${VV(i.fields[u])}`;return o+"}"}(n.mapValue):Ot();var t}function nI(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function BV(n){return!!n&&"integerValue"in n}function UV(n){return!!n&&"arrayValue"in n}function nz(n){return!!n&&"nullValue"in n}function iz(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function iI(n){return!!n&&"mapValue"in n}function hw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return K_(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=hw(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=hw(n.arrayValue.values[e]);return t}return Object.assign({},n)}class Jo{constructor(t){this.value=t}static empty(){return new Jo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!iI(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=hw(e)}setAll(t){let e=go.emptyPath(),i={},r=[];t.forEach((a,u)=>{if(!e.isImmediateParentOf(u)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=u.popLast()}a?i[u.lastSegment()]=hw(a):r.push(u.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());iI(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return fh(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];iI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){K_(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Jo(hw(this.value))}}function rz(n){const t=[];return K_(n.fields,(e,i)=>{const r=new go([e]);if(iI(i)){const o=rz(i.mapValue).fields;if(0===o.length)t.push(r);else for(const a of o)t.push(r.child(a))}else t.push(r)}),new ub(t)}class lr{constructor(t,e,i,r,o){this.key=t,this.documentType=e,this.version=i,this.data=r,this.documentState=o}static newInvalidDocument(t){return new lr(t,0,un.min(),Jo.empty(),0)}static newFoundDocument(t,e,i){return new lr(t,1,e,i,0)}static newNoDocument(t,e){return new lr(t,2,e,Jo.empty(),0)}static newUnknownDocument(t,e){return new lr(t,3,e,Jo.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Jo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Jo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof lr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new lr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class FCe{constructor(t,e=null,i=[],r=[],o=null,a=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=u,this.R=null}}function sz(n,t=null,e=[],i=[],r=null,o=null,a=null){return new FCe(n,t,e,i,r,o,a)}function fw(n){const t=ft(n);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>function BCe(n){return n.field.canonicalString()+n.op.toString()+FV(n.value)}(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),J_(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=oI(t.startAt)),t.endAt&&(e+="|ub:",e+=oI(t.endAt)),t.R=e}return t.R}function rI(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!qCe(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!fh(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!lz(n.startAt,t.startAt)&&lz(n.endAt,t.endAt)}function sI(n){return Mt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Da extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.P(t,e,i):new UCe(t,e,i):"array-contains"===e?new jCe(t,i):"in"===e?new ZCe(t,i):"not-in"===e?new GCe(t,i):"array-contains-any"===e?new $Ce(t,i):new Da(t,e,i)}static P(t,e,i){return"in"===e?new HCe(t,i):new YCe(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(hb(e,this.value)):null!==e&&Q_(this.value)===Q_(e)&&this.v(hb(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ot()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class UCe extends Da{constructor(t,e,i){super(t,e,i),this.key=Mt.fromName(i.referenceValue)}matches(t){const e=Mt.comparator(t.key,this.key);return this.v(e)}}class HCe extends Da{constructor(t,e){super(t,"in",e),this.keys=oz(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class YCe extends Da{constructor(t,e){super(t,"not-in",e),this.keys=oz(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function oz(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Mt.fromName(i.referenceValue))}class jCe extends Da{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return UV(e)&&dw(e.arrayValue,this.value)}}class ZCe extends Da{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&dw(this.value.arrayValue,e)}}class GCe extends Da{constructor(t,e){super(t,"not-in",e)}matches(t){if(dw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!dw(this.value.arrayValue,e)}}class $Ce extends Da{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!UV(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>dw(this.value.arrayValue,i))}}class pw{constructor(t,e){this.position=t,this.before=e}}function oI(n){return`${n.before?"b":"a"}:${n.position.map(t=>FV(t)).join(",")}`}class fb{constructor(t,e="asc"){this.field=t,this.dir=e}}function qCe(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function az(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],a=n.position[r];if(i=o.field.isKeyField()?Mt.comparator(Mt.fromName(a.referenceValue),e.key):hb(a,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return n.before?i<=0:i<0}function lz(n,t){if(null===n)return null===t;if(null===t||n.before!==t.before||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!fh(n.position[e],t.position[e]))return!1;return!0}class Wf{constructor(t,e=null,i=[],r=[],o=null,a="F",u=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=f,this.S=null,this.D=null}}function cz(n,t,e,i,r,o,a,u){return new Wf(n,t,e,i,r,o,a,u)}function pb(n){return new Wf(n)}function aI(n){return!J_(n.limit)&&"F"===n.limitType}function lI(n){return!J_(n.limit)&&"L"===n.limitType}function HV(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function YV(n){for(const t of n.filters)if(t.V())return t.field;return null}function jV(n){return null!==n.collectionGroup}function mb(n){const t=ft(n);if(null===t.S){t.S=[];const e=YV(t),i=HV(t);if(null!==e&&null===i)e.isKeyField()||t.S.push(new fb(e)),t.S.push(new fb(go.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.S.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new fb(go.keyField(),o))}}}return t.S}function nu(n){const t=ft(n);if(!t.D)if("F"===t.limitType)t.D=sz(t.path,t.collectionGroup,mb(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of mb(t))e.push(new fb(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new pw(t.endAt.position,!t.endAt.before):null,r=t.startAt?new pw(t.startAt.position,!t.startAt.before):null;t.D=sz(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.D}function uz(n,t,e){return new Wf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function mw(n,t){return rI(nu(n),nu(t))&&n.limitType===t.limitType}function dz(n){return`${fw(nu(n))}|lt:${n.limitType}`}function ZV(n){return`Query(target=${function VCe(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${FV(i.value)}`;var i}).join(", ")}]`),J_(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: "+oI(n.startAt)),n.endAt&&(t+=", endAt: "+oI(n.endAt)),`Target(${t})`}(nu(n))}; limitType=${n.limitType})`}function gw(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Mt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!az(e.startAt,mb(e),i)||e.endAt&&az(e.endAt,mb(e),i)));var e,i}function hz(n){return(t,e)=>{let i=!1;for(const r of mb(n)){const o=WCe(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function WCe(n,t,e){const i=n.field.isKeyField()?Mt.comparator(t.key,e.key):function(r,o,a){const u=o.data.field(r),f=a.data.field(r);return null!==u&&null!==f?hb(u,f):Ot()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ot()}}function fz(n,t){if(n.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tI(t)?"-0":t}}function pz(n){return{integerValue:""+n}}function mz(n,t){return ez(t)?pz(t):fz(n,t)}class cI{constructor(){this._=void 0}}function zCe(n,t,e){return n instanceof gb?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof X_?_z(n,t):n instanceof ev?vz(n,t):function(i,r){const o=gz(i,r),a=yz(o)+yz(i.N);return BV(o)&&BV(i.N)?pz(a):fz(i.k,a)}(n,t)}function KCe(n,t,e){return n instanceof X_?_z(n,t):n instanceof ev?vz(n,t):e}function gz(n,t){return n instanceof _b?BV(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class gb extends cI{}class X_ extends cI{constructor(t){super(),this.elements=t}}function _z(n,t){const e=bz(t);for(const i of n.elements)e.some(r=>fh(r,i))||e.push(i);return{arrayValue:{values:e}}}class ev extends cI{constructor(t){super(),this.elements=t}}function vz(n,t){let e=bz(t);for(const i of n.elements)e=e.filter(r=>!fh(r,i));return{arrayValue:{values:e}}}class _b extends cI{constructor(t,e){super(),this.k=t,this.N=e}}function yz(n){return is(n.integerValue||n.doubleValue)}function bz(n){return UV(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class _w{constructor(t,e){this.field=t,this.transform=e}}class QCe{constructor(t,e){this.version=t,this.transformResults=e}}class rs{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new rs}static exists(t){return new rs(void 0,t)}static updateTime(t){return new rs(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function uI(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class dI{}function XCe(n,t,e){n instanceof vw?function(i,r,o){const a=i.value.clone(),u=wz(i.fieldTransforms,r,o.transformResults);a.setAll(u),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Em?function(i,r,o){if(!uI(i.precondition,r))return void r.convertToUnknownDocument(o.version);const a=wz(i.fieldTransforms,r,o.transformResults),u=r.data;u.setAll(Tz(i)),u.setAll(a),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function GV(n,t,e){var r;n instanceof vw?function(i,r,o){if(!uI(i.precondition,r))return;const a=i.value.clone(),u=Dz(i.fieldTransforms,o,r);a.setAll(u),r.convertToFoundDocument(Cz(r),a).setHasLocalMutations()}(n,t,e):n instanceof Em?function(i,r,o){if(!uI(i.precondition,r))return;const a=Dz(i.fieldTransforms,o,r),u=r.data;u.setAll(Tz(i)),u.setAll(a),r.convertToFoundDocument(Cz(r),u).setHasLocalMutations()}(n,t,e):uI(n.precondition,r=t)&&r.convertToNoDocument(un.min())}function eTe(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=gz(i.transform,r||null);null!=o&&(null==e&&(e=Jo.empty()),e.set(i.field,o))}return e||null}function xz(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&cb(e,i,(r,o)=>function JCe(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof X_&&i instanceof X_||e instanceof ev&&i instanceof ev?cb(e.elements,i.elements,fh):e instanceof _b&&i instanceof _b?fh(e.N,i.N):e instanceof gb&&i instanceof gb);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function Cz(n){return n.isFoundDocument()?n.version:un.min()}class vw extends dI{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Em extends dI{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}}function Tz(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function wz(n,t,e){const i=new Map;Xt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],a=o.transform,u=t.data.field(o.field);i.set(o.field,KCe(a,u,e[r]))}return i}function Dz(n,t,e){const i=new Map;for(const r of n){const o=r.transform,a=e.data.field(r.field);i.set(r.field,zCe(o,a,t))}return i}class yw extends dI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class $V extends dI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class tTe{constructor(t){this.count=t}}var ss,Kn;function Sz(n){switch(n){default:return Ot();case Me.CANCELLED:case Me.UNKNOWN:case Me.DEADLINE_EXCEEDED:case Me.RESOURCE_EXHAUSTED:case Me.INTERNAL:case Me.UNAVAILABLE:case Me.UNAUTHENTICATED:return!1;case Me.INVALID_ARGUMENT:case Me.NOT_FOUND:case Me.ALREADY_EXISTS:case Me.PERMISSION_DENIED:case Me.FAILED_PRECONDITION:case Me.ABORTED:case Me.OUT_OF_RANGE:case Me.UNIMPLEMENTED:case Me.DATA_LOSS:return!0}}function Az(n){if(void 0===n)return ns("GRPC error has no .code"),Me.UNKNOWN;switch(n){case ss.OK:return Me.OK;case ss.CANCELLED:return Me.CANCELLED;case ss.UNKNOWN:return Me.UNKNOWN;case ss.DEADLINE_EXCEEDED:return Me.DEADLINE_EXCEEDED;case ss.RESOURCE_EXHAUSTED:return Me.RESOURCE_EXHAUSTED;case ss.INTERNAL:return Me.INTERNAL;case ss.UNAVAILABLE:return Me.UNAVAILABLE;case ss.UNAUTHENTICATED:return Me.UNAUTHENTICATED;case ss.INVALID_ARGUMENT:return Me.INVALID_ARGUMENT;case ss.NOT_FOUND:return Me.NOT_FOUND;case ss.ALREADY_EXISTS:return Me.ALREADY_EXISTS;case ss.PERMISSION_DENIED:return Me.PERMISSION_DENIED;case ss.FAILED_PRECONDITION:return Me.FAILED_PRECONDITION;case ss.ABORTED:return Me.ABORTED;case ss.OUT_OF_RANGE:return Me.OUT_OF_RANGE;case ss.UNIMPLEMENTED:return Me.UNIMPLEMENTED;case ss.DATA_LOSS:return Me.DATA_LOSS;default:return Ot()}}(Kn=ss||(ss={}))[Kn.OK=0]="OK",Kn[Kn.CANCELLED=1]="CANCELLED",Kn[Kn.UNKNOWN=2]="UNKNOWN",Kn[Kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kn[Kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kn[Kn.NOT_FOUND=5]="NOT_FOUND",Kn[Kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kn[Kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kn[Kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kn[Kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kn[Kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kn[Kn.ABORTED=10]="ABORTED",Kn[Kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kn[Kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kn[Kn.INTERNAL=13]="INTERNAL",Kn[Kn.UNAVAILABLE=14]="UNAVAILABLE",Kn[Kn.DATA_LOSS=15]="DATA_LOSS";class vs{constructor(t,e){this.comparator=t,this.root=e||_o.EMPTY}insert(t,e){return new vs(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,_o.BLACK,null,null))}remove(t){return new vs(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_o.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hI(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hI(this.root,t,this.comparator,!1)}getReverseIterator(){return new hI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hI(this.root,t,this.comparator,!0)}}class hI{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class _o{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??_o.RED,this.left=r??_o.EMPTY,this.right=o??_o.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new _o(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _o.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return _o.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,_o.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,_o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ot();const t=this.left.check();if(t!==this.right.check())throw Ot();return t+(this.isRed()?0:1)}}_o.EMPTY=null,_o.RED=!0,_o.BLACK=!1,_o.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot()}get value(){throw Ot()}get color(){throw Ot()}get left(){throw Ot()}get right(){throw Ot()}copy(n,t,e,i,r){return this}insert(n,t,e){return new _o(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Er{constructor(t){this.comparator=t,this.data=new vs(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Ez(this.data.getIterator())}getIteratorFrom(t){return new Ez(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Er)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Er(this.comparator);return e.data=t,e}}class Ez{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const nTe=new vs(Mt.comparator);function iu(){return nTe}const iTe=new vs(Mt.comparator);function qV(){return iTe}const rTe=new vs(Mt.comparator);function kz(){return rTe}const sTe=new Er(Mt.comparator);function yi(...n){let t=sTe;for(const e of n)t=t.add(e);return t}const oTe=new Er(Bn);function fI(){return oTe}class bw{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,xw.createSynthesizedTargetChangeForCurrentChange(t,e)),new bw(un.min(),i,fI(),iu(),yi())}}class xw{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new xw(_s.EMPTY_BYTE_STRING,e,yi(),yi(),yi())}}class pI{constructor(t,e,i,r){this.$=t,this.removedTargetIds=e,this.key=i,this.O=r}}class Mz{constructor(t,e){this.targetId=t,this.M=e}}class Iz{constructor(t,e,i=_s.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Nz{constructor(){this.F=0,this.L=Oz(),this.B=_s.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(t){t.approximateByteSize()>0&&(this.q=!0,this.B=t)}G(){let t=yi(),e=yi(),i=yi();return this.L.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Ot()}}),new xw(this.B,this.U,t,e,i)}H(){this.q=!1,this.L=Oz()}J(t,e){this.q=!0,this.L=this.L.insert(t,e)}Y(t){this.q=!0,this.L=this.L.remove(t)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class aTe{constructor(t){this.et=t,this.nt=new Map,this.st=iu(),this.it=Lz(),this.rt=new Er(Bn)}ot(t){for(const e of t.$)t.O&&t.O.isFoundDocument()?this.ct(e,t.O):this.at(e,t.key,t.O);for(const e of t.removedTargetIds)this.at(e,t.key,t.O)}ut(t){this.forEachTarget(t,e=>{const i=this.ht(e);switch(t.state){case 0:this.lt(e)&&i.W(t.resumeToken);break;case 1:i.Z(),i.K||i.H(),i.W(t.resumeToken);break;case 2:i.Z(),i.K||this.removeTarget(e);break;case 3:this.lt(e)&&(i.tt(),i.W(t.resumeToken));break;case 4:this.lt(e)&&(this.ft(e),i.W(t.resumeToken));break;default:Ot()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.nt.forEach((i,r)=>{this.lt(r)&&e(r)})}dt(t){const e=t.targetId,i=t.M.count,r=this.wt(e);if(r){const o=r.target;if(sI(o))if(0===i){const a=new Mt(o.path);this.at(e,a,lr.newNoDocument(a,un.min()))}else Xt(1===i);else this._t(e)!==i&&(this.ft(e),this.rt=this.rt.add(e))}}gt(t){const e=new Map;this.nt.forEach((o,a)=>{const u=this.wt(a);if(u){if(o.current&&sI(u.target)){const f=new Mt(u.target.path);null!==this.st.get(f)||this.yt(a,f)||this.at(a,f,lr.newNoDocument(f,t))}o.j&&(e.set(a,o.G()),o.H())}});let i=yi();this.it.forEach((o,a)=>{let u=!0;a.forEachWhile(f=>{const m=this.wt(f);return!m||2===m.purpose||(u=!1,!1)}),u&&(i=i.add(o))});const r=new bw(t,e,this.rt,this.st,i);return this.st=iu(),this.it=Lz(),this.rt=new Er(Bn),r}ct(t,e){if(!this.lt(t))return;const i=this.yt(t,e.key)?2:0;this.ht(t).J(e.key,i),this.st=this.st.insert(e.key,e),this.it=this.it.insert(e.key,this.Tt(e.key).add(t))}at(t,e,i){if(!this.lt(t))return;const r=this.ht(t);this.yt(t,e)?r.J(e,1):r.Y(e),this.it=this.it.insert(e,this.Tt(e).delete(t)),i&&(this.st=this.st.insert(e,i))}removeTarget(t){this.nt.delete(t)}_t(t){const e=this.ht(t).G();return this.et.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}X(t){this.ht(t).X()}ht(t){let e=this.nt.get(t);return e||(e=new Nz,this.nt.set(t,e)),e}Tt(t){let e=this.it.get(t);return e||(e=new Er(Bn),this.it=this.it.insert(t,e)),e}lt(t){const e=null!==this.wt(t);return e||nt("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.nt.get(t);return e&&e.K?null:this.et.Et(t)}ft(t){this.nt.set(t,new Nz),this.et.getRemoteKeysForTarget(t).forEach(e=>{this.at(t,e,null)})}yt(t,e){return this.et.getRemoteKeysForTarget(t).has(e)}}function Lz(){return new vs(Mt.comparator)}function Oz(){return new vs(Mt.comparator)}const lTe={asc:"ASCENDING",desc:"DESCENDING"},cTe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class uTe{constructor(t,e){this.databaseId=t,this.C=e}}function Cw(n,t){return n.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Rz(n,t){return n.C?t.toBase64():t.toUint8Array()}function dTe(n,t){return Cw(n,t.toTimestamp())}function Vs(n){return Xt(!!n),un.fromTimestamp(function(t){const e=Am(t);return new Fs(e.seconds,e.nanos)}(n))}function WV(n,t){return(e=n,new si(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function Pz(n){const t=si.fromString(n);return Xt(Wz(t)),t}function Tw(n,t){return WV(n.databaseId,t.path)}function ph(n,t){const e=Pz(t);if(e.get(1)!==n.databaseId.projectId)throw new Ze(Me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ze(Me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Mt(Vz(e))}function zV(n,t){return WV(n.databaseId,t)}function Fz(n){const t=Pz(n);return 4===t.length?si.emptyPath():Vz(t)}function ww(n){return new si(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Vz(n){return Xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Bz(n,t,e){return{name:Tw(n,t),fields:e.value.mapValue.fields}}function Uz(n,t,e){const i=ph(n,t.name),r=Vs(t.updateTime),o=new Jo({mapValue:{fields:t.fields}}),a=lr.newFoundDocument(i,r,o);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function mI(n,t){let e;if(t instanceof vw)e={update:Bz(n,t.key,t.value)};else if(t instanceof yw)e={delete:Tw(n,t.key)};else if(t instanceof Em)e={update:Bz(n,t.key,t.data),updateMask:bTe(t.fieldMask)};else{if(!(t instanceof $V))return Ot();e={verify:Tw(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const a=o.transform;if(a instanceof gb)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof X_)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ev)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _b)return{fieldPath:o.field.canonicalString(),increment:a.N};throw Ot()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:dTe(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Ot()),e;var r}function Hz(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?rs.updateTime(Vs(r.updateTime)):void 0!==r.exists?rs.exists(r.exists):rs.none():rs.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,a){let u=null;"setToServerValue"in a?(Xt("REQUEST_TIME"===a.setToServerValue),u=new gb):"appendMissingElements"in a?u=new X_(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new ev(a.removeAllFromArray.values||[]):"increment"in a?u=new _b(o,a.increment):Ot();const f=go.fromServerFormat(a.fieldPath);return new _w(f,u)}(n,r)):[];var r;if(t.update){const r=ph(n,t.update.name),o=new Jo({mapValue:{fields:t.update.fields}});if(t.updateMask){const a=new ub((t.updateMask.fieldPaths||[]).map(m=>go.fromServerFormat(m)));return new Em(r,o,a,e,i)}return new vw(r,o,e,i)}if(t.delete){const r=ph(n,t.delete);return new yw(r,e)}if(t.verify){const r=ph(n,t.verify);return new $V(r,e)}return Ot()}function Yz(n,t){return{documents:[zV(n,t.path)]}}function jz(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=zV(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=zV(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(u){if(0===u.length)return;const f=u.map(m=>function(v){if("=="===v.op){if(iz(v.value))return{unaryFilter:{field:vb(v.field),op:"IS_NAN"}};if(nz(v.value))return{unaryFilter:{field:vb(v.field),op:"IS_NULL"}}}else if("!="===v.op){if(iz(v.value))return{unaryFilter:{field:vb(v.field),op:"IS_NOT_NAN"}};if(nz(v.value))return{unaryFilter:{field:vb(v.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vb(v.field),op:_Te(v.op),value:v.value}}}(m));return 1===f.length?f[0]:{compositeFilter:{op:"AND",filters:f}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(u){if(0!==u.length)return u.map(f=>{return{field:vb((m=f).field),direction:gTe(m.dir)};var m})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const a=(f=t.limit,n.C||J_(f)?f:{value:f});var f;return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt=$z(t.startAt)),t.endAt&&(e.structuredQuery.endAt=$z(t.endAt)),e}function Zz(n){let t=Fz(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Xt(1===i);const v=e.from[0];v.allDescendants?r=v.collectionId:t=t.child(v.collectionId)}let o=[];e.where&&(o=Gz(e.where));let a=[];e.orderBy&&(a=e.orderBy.map(v=>{return new fb(yb((x=v).field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let u=null;e.limit&&(u=function(v){let x;return x="object"==typeof v?v.value:v,J_(x)?null:x}(e.limit));let f=null;e.startAt&&(f=qz(e.startAt));let m=null;return e.endAt&&(m=qz(e.endAt)),cz(t,r,a,o,u,"F",f,m)}function Gz(n){return n?void 0!==n.unaryFilter?[yTe(n)]:void 0!==n.fieldFilter?[vTe(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>Gz(t)).reduce((t,e)=>t.concat(e)):Ot():[]}function $z(n){return{before:n.before,values:n.position}}function qz(n){return new pw(n.values||[],!!n.before)}function gTe(n){return lTe[n]}function _Te(n){return cTe[n]}function vb(n){return{fieldPath:n.canonicalString()}}function yb(n){return go.fromServerFormat(n.fieldPath)}function vTe(n){return Da.create(yb(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ot()}}(n.fieldFilter.op),n.fieldFilter.value)}function yTe(n){switch(n.unaryFilter.op){case"IS_NAN":const t=yb(n.unaryFilter.field);return Da.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=yb(n.unaryFilter.field);return Da.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=yb(n.unaryFilter.field);return Da.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=yb(n.unaryFilter.field);return Da.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Ot()}}function bTe(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Wz(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ku(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=zz(t)),t=xTe(n.get(e),t);return zz(t)}function xTe(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function zz(n){return n+"\x01\x01"}function zf(n){const t=n.length;if(Xt(t>=2),2===t)return Xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),si.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const a=n.indexOf("\x01",o);switch((a<0||a>e)&&Ot(),n.charAt(a+1)){case"\x01":const u=n.substring(o,a);let f;0===r.length?f=u:(r+=u,f=r,r=""),i.push(f);break;case"\x10":r+=n.substring(o,a),r+="\0";break;case"\x11":r+=n.substring(o,a+1);break;default:Ot()}o=a+2}return new si(i)}class CTe{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class Jl{constructor(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i}}Jl.store="owner",Jl.key="owner";class km{constructor(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i}}km.store="mutationQueues",km.keyPath="userId";class Wi{constructor(t,e,i,r,o){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=r,this.mutations=o}}Wi.store="mutations",Wi.keyPath="batchId",Wi.userMutationsIndex="userMutationsIndex",Wi.userMutationsKeyPath=["userId","batchId"];class Qo{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,Ku(e)]}static key(t,e,i){return[t,Ku(e),i]}}Qo.store="documentMutations",Qo.PLACEHOLDER=new Qo;class TTe{constructor(t,e){this.path=t,this.readTime=e}}class wTe{constructor(t,e){this.path=t,this.version=e}}class kr{constructor(t,e,i,r,o,a){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=a}}kr.store="remoteDocuments",kr.readTimeIndex="readTimeIndex",kr.readTimeIndexPath="readTime",kr.collectionReadTimeIndex="collectionReadTimeIndex",kr.collectionReadTimeIndexPath=["parentPath","readTime"];class mh{constructor(t){this.byteSize=t}}mh.store="remoteDocumentGlobal",mh.key="remoteDocumentGlobalKey";class il{constructor(t,e,i,r,o,a,u){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=a,this.query=u}}il.store="targets",il.keyPath="targetId",il.queryTargetsIndexName="queryTargetsIndex",il.queryTargetsKeyPath=["canonicalId","targetId"];class vo{constructor(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i}}vo.store="targetDocuments",vo.keyPath=["targetId","path"],vo.documentTargetsIndex="documentTargetsIndex",vo.documentTargetsKeyPath=["path","targetId"];class Ql{constructor(t,e,i,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=r}}Ql.key="targetGlobalKey",Ql.store="targetGlobal";class tv{constructor(t,e){this.collectionId=t,this.parent=e}}tv.store="collectionParents",tv.keyPath=["collectionId","parent"];class Kf{constructor(t,e,i,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=r}}Kf.store="clientMetadata",Kf.keyPath="clientId";class bb{constructor(t,e,i){this.bundleId=t,this.createTime=e,this.version=i}}bb.store="bundles",bb.keyPath="bundleId";class xb{constructor(t,e,i){this.name=t,this.readTime=e,this.bundledQuery=i}}xb.store="namedQueries",xb.keyPath="name";const DTe=[km.store,Wi.store,Qo.store,kr.store,il.store,Jl.store,Ql.store,vo.store,Kf.store,mh.store,tv.store,bb.store,xb.store],Kz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class je{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new je((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof je?e:je.resolve(e)}catch(e){return je.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):je.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):je.reject(e)}static resolve(t){return new je((e,i)=>{e(t)})}static reject(t){return new je((e,i)=>{i(t)})}static waitFor(t){return new je((e,i)=>{let r=0,o=0,a=!1;t.forEach(u=>{++r,u.next(()=>{++o,a&&o===r&&e()},f=>i(f))}),a=!0,o===r&&e()})}static or(t){let e=je.resolve(!1);for(const i of t)e=e.next(r=>r?je.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}}class gI{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.It=new Ps,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{e.error?this.It.reject(new Dw(t,e.error)):this.It.resolve()},this.transaction.onerror=i=>{const r=KV(i.target.error);this.It.reject(new Dw(t,r))}}static open(t,e,i,r){try{return new gI(e,t.transaction(r,i))}catch(o){throw new Dw(e,o)}}get At(){return this.It.promise}abort(t){t&&this.It.reject(t),this.aborted||(nt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new ATe(e)}}class Ju{constructor(t,e,i){this.name=t,this.version=e,this.Rt=i,12.2===Ju.bt((0,B.z$)())&&ns("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return nt("SimpleDb","Removing database:",t),iv(window.indexedDB.deleteDatabase(t)).toPromise()}static Pt(){if(!(0,B.hl)())return!1;if(Ju.vt())return!0;const t=(0,B.z$)(),e=Ju.bt(t),i=0<e&&e<10,r=Ju.Vt(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static vt(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.St)}static Dt(t,e){return t.store(e)}static bt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Vt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Ct(t){var e=this;return(0,ke.Z)(function*(){return e.db||(nt("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=a=>{i(a.target.result)},o.onblocked=()=>{r(new Dw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=a=>{const u=a.target.error;r("VersionError"===u.name?new Ze(Me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===u.name?new Ze(Me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u):new Dw(t,u))},o.onupgradeneeded=a=>{nt("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',a.oldVersion),e.Rt.Nt(a.target.result,o.transaction,a.oldVersion,e.version).next(()=>{nt("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.kt&&(e.db.onversionchange=i=>e.kt(i)),e.db})()}xt(t){this.kt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,ke.Z)(function*(){const a="readonly"===e;let u=0;for(;;){++u;try{o.db=yield o.Ct(t);const f=gI.open(o.db,t,a?"readonly":"readwrite",i),m=r(f).catch(v=>(f.abort(v),je.reject(v))).toPromise();return m.catch(()=>{}),yield f.At,m}catch(f){const m="FirebaseError"!==f.name&&u<3;if(nt("SimpleDb","Transaction failed with error:",f.message,"Retrying:",m),o.close(),!m)return Promise.reject(f)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class STe{constructor(t){this.$t=t,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(t){this.$t=t}done(){this.Ot=!0}Lt(t){this.Mt=t}delete(){return iv(this.$t.delete())}}class Dw extends Ze{constructor(t,e){super(Me.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function nv(n){return"IndexedDbTransactionError"===n.name}class ATe{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(nt("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(nt("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),iv(i)}add(t){return nt("SimpleDb","ADD",this.store.name,t,t),iv(this.store.add(t))}get(t){return iv(this.store.get(t)).next(e=>(void 0===e&&(e=null),nt("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return nt("SimpleDb","DELETE",this.store.name,t),iv(this.store.delete(t))}count(){return nt("SimpleDb","COUNT",this.store.name),iv(this.store.count())}Bt(t,e){const i=this.cursor(this.options(t,e)),r=[];return this.Ut(i,(o,a)=>{r.push(a)}).next(()=>r)}qt(t,e){nt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Kt=!1;const r=this.cursor(i);return this.Ut(r,(o,a,u)=>u.delete())}jt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Ut(r,e)}Qt(t){const e=this.cursor({});return new je((i,r)=>{e.onerror=o=>{const a=KV(o.target.error);r(a)},e.onsuccess=o=>{const a=o.target.result;a?t(a.primaryKey,a.value).next(u=>{u?a.continue():i()}):i()}})}Ut(t,e){const i=[];return new je((r,o)=>{t.onerror=a=>{o(a.target.error)},t.onsuccess=a=>{const u=a.target.result;if(!u)return void r();const f=new STe(u),m=e(u.primaryKey,u.value,f);if(m instanceof je){const v=m.catch(x=>(f.done(),je.reject(x)));i.push(v)}f.isDone?r():null===f.Ft?u.continue():u.continue(f.Ft)}}).next(()=>je.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Kt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function iv(n){return new je((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=KV(i.target.error);e(r)}})}let Qz=!1;function KV(n){const t=Ju.bt((0,B.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Qz||(Qz=!0,setTimeout(()=>{throw i},0)),i}}return n}class Xz extends Jz{constructor(t,e){super(),this.Wt=t,this.currentSequenceNumber=e}}function rl(n,t){const e=ft(n);return Ju.Dt(e.Wt,t)}class JV{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&XCe(o,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&GV(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&GV(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(un.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),yi())}isEqual(t){return this.batchId===t.batchId&&cb(this.mutations,t.mutations,(e,i)=>xz(e,i))&&cb(this.baseMutations,t.baseMutations,(e,i)=>xz(e,i))}}class QV{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Xt(t.mutations.length===i.length);let r=kz();const o=t.mutations;for(let a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new QV(t,e,i,r)}}class Mm{constructor(t,e,i,r,o=un.min(),a=un.min(),u=_s.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u}withSequenceNumber(t){return new Mm(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Mm(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Mm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class e7{constructor(t){this.Gt=t}}function XV(n,t){if(t.document)return Uz(n.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Mt.fromSegments(t.noDocument.path),i=Tb(t.noDocument.readTime),r=lr.newNoDocument(e,i);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=Mt.fromSegments(t.unknownDocument.path),i=Tb(t.unknownDocument.version);return lr.newUnknownDocument(e,i)}return Ot()}function t7(n,t,e){const i=eB(e),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){const o={name:Tw(u=n.Gt,(f=t).key),fields:f.data.value.mapValue.fields,updateTime:Cw(u,f.version.toTimestamp())};return new kr(null,null,o,t.hasCommittedMutations,i,r)}var u,f;if(t.isNoDocument()){const o=t.key.path.toArray(),a=Cb(t.version),u=t.hasCommittedMutations;return new kr(null,new TTe(o,a),null,u,i,r)}if(t.isUnknownDocument()){const o=t.key.path.toArray(),a=Cb(t.version);return new kr(new wTe(o,a),null,null,!0,i,r)}return Ot()}function eB(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function n7(n){const t=new Fs(n[0],n[1]);return un.fromTimestamp(t)}function Cb(n){const t=n.toTimestamp();return new CTe(t.seconds,t.nanoseconds)}function Tb(n){const t=new Fs(n.seconds,n.nanoseconds);return un.fromTimestamp(t)}function wb(n,t){const e=(t.baseMutations||[]).map(o=>Hz(n.Gt,o));for(let o=0;o<t.mutations.length-1;++o){const a=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(a.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>Hz(n.Gt,o)),r=Fs.fromMillis(t.localWriteTimeMs);return new JV(t.batchId,r,e,i)}function Sw(n){const t=Tb(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Tb(n.lastLimboFreeSnapshotVersion):un.min();let i;var r;return void 0!==n.query.documents?(Xt(1===(r=n.query).documents.length),i=nu(pb(Fz(r.documents[0])))):i=nu(Zz(n.query)),new Mm(i,n.targetId,0,n.lastListenSequenceNumber,t,e,_s.fromBase64String(n.resumeToken))}function r7(n,t){const e=Cb(t.snapshotVersion),i=Cb(t.lastLimboFreeSnapshotVersion);let r;r=sI(t.target)?Yz(n.Gt,t.target):jz(n.Gt,t.target);const o=t.resumeToken.toBase64();return new il(t.targetId,fw(t.target),e,o,t.sequenceNumber,i,r)}function tB(n){const t=Zz({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?uz(t,t.limit,"L"):t}class ETe{getBundleMetadata(t,e){return s7(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Tb(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return s7(t).put({bundleId:(i=e).id,createTime:Cb(Vs(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return o7(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:tB(r.bundledQuery),readTime:Tb(r.readTime)};var r})}saveNamedQuery(t,e){return o7(t).put({name:(i=e).name,readTime:Cb(Vs(i.readTime)),bundledQuery:i.bundledQuery});var i}}function s7(n){return rl(n,bb.store)}function o7(n){return rl(n,xb.store)}class kTe{constructor(){this.zt=new nB}addToCollectionParentIndex(t,e){return this.zt.add(e),je.resolve()}getCollectionParents(t,e){return je.resolve(this.zt.getEntries(e))}}class nB{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Er(si.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Er(si.comparator)).toArray()}}class MTe{constructor(){this.Ht=new nB}addToCollectionParentIndex(t,e){if(!this.Ht.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ht.add(e)});const o={collectionId:i,parent:Ku(r)};return a7(t).put(o)}return je.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[K8(e),""],!1,!0);return a7(t).Bt(r).next(o=>{for(const a of o){if(a.collectionId!==e)break;i.push(zf(a.parent))}return i})}}function a7(n){return rl(n,tv.store)}const l7={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class sl{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new sl(t,sl.DEFAULT_COLLECTION_PERCENTILE,sl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function c7(n,t,e){const i=n.store(Wi.store),r=n.store(Qo.store),o=[],a=IDBKeyRange.only(e.batchId);let u=0;const f=i.jt({range:a},(v,x,S)=>(u++,S.delete()));o.push(f.next(()=>{Xt(1===u)}));const m=[];for(const v of e.mutations){const x=Qo.key(t,v.key.path,e.batchId);o.push(r.delete(x)),m.push(v.key)}return je.waitFor(o).next(()=>m)}function _I(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Ot();t=n.noDocument}return JSON.stringify(t).length}sl.DEFAULT_COLLECTION_PERCENTILE=10,sl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sl.DEFAULT=new sl(41943040,sl.DEFAULT_COLLECTION_PERCENTILE,sl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sl.DISABLED=new sl(-1,0,0);class iB{constructor(t,e,i,r){this.userId=t,this.k=e,this.Jt=i,this.referenceDelegate=r,this.Yt={}}static Xt(t,e,i,r){Xt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new iB(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Im(t).jt({index:Wi.userMutationsIndex,range:i},(r,o,a)=>{e=!1,a.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=Db(t),a=Im(t);return a.add({}).next(u=>{Xt("number"==typeof u);const f=new JV(u,e,i,r),m=function(S,k,O){const U=O.baseMutations.map(te=>mI(S.Gt,te)),V=O.mutations.map(te=>mI(S.Gt,te));return new Wi(k,O.batchId,O.localWriteTime.toMillis(),U,V)}(this.k,this.userId,f),v=[];let x=new Er((S,k)=>Bn(S.canonicalString(),k.canonicalString()));for(const S of r){const k=Qo.key(this.userId,S.key.path,u);x=x.add(S.key.path.popLast()),v.push(a.put(m)),v.push(o.put(k,Qo.PLACEHOLDER))}return x.forEach(S=>{v.push(this.Jt.addToCollectionParentIndex(t,S))}),t.addOnCommittedListener(()=>{this.Yt[u]=f.keys()}),je.waitFor(v).next(()=>f)})}lookupMutationBatch(t,e){return Im(t).get(e).next(i=>i?(Xt(i.userId===this.userId),wb(this.k,i)):null)}Zt(t,e){return this.Yt[e]?je.resolve(this.Yt[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Yt[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Im(t).jt({index:Wi.userMutationsIndex,range:r},(a,u,f)=>{u.userId===this.userId&&(Xt(u.batchId>=i),o=wb(this.k,u)),f.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Im(t).jt({index:Wi.userMutationsIndex,range:e,reverse:!0},(r,o,a)=>{i=o.batchId,a.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Im(t).Bt(Wi.userMutationsIndex,e).next(i=>i.map(r=>wb(this.k,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Qo.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return Db(t).jt({range:r},(a,u,f)=>{const[m,v,x]=a,S=zf(v);if(m===this.userId&&e.path.isEqual(S))return Im(t).get(x).next(k=>{if(!k)throw Ot();Xt(k.userId===this.userId),o.push(wb(this.k,k))});f.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Er(Bn);const r=[];return e.forEach(o=>{const a=Qo.prefixForPath(this.userId,o.path),u=IDBKeyRange.lowerBound(a),f=Db(t).jt({range:u},(m,v,x)=>{const[S,k,O]=m,U=zf(k);S===this.userId&&o.path.isEqual(U)?i=i.add(O):x.done()});r.push(f)}),je.waitFor(r).next(()=>this.te(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=Qo.prefixForPath(this.userId,i),a=IDBKeyRange.lowerBound(o);let u=new Er(Bn);return Db(t).jt({range:a},(f,m,v)=>{const[x,S,k]=f,O=zf(S);x===this.userId&&i.isPrefixOf(O)?O.length===r&&(u=u.add(k)):v.done()}).next(()=>this.te(t,u))}te(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Im(t).get(o).next(a=>{if(null===a)throw Ot();Xt(a.userId===this.userId),i.push(wb(this.k,a))}))}),je.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return c7(t.Wt,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.ee(e.batchId)}),je.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}ee(t){delete this.Yt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return je.resolve();const i=IDBKeyRange.lowerBound(Qo.prefixForUser(this.userId)),r=[];return Db(t).jt({range:i},(o,a,u)=>{if(o[0]===this.userId){const f=zf(o[1]);r.push(f)}else u.done()}).next(()=>{Xt(0===r.length)})})}containsKey(t,e){return u7(t,this.userId,e)}ne(t){return d7(t).get(this.userId).next(e=>e||new km(this.userId,-1,""))}}function u7(n,t,e){const i=Qo.prefixForPath(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let a=!1;return Db(n).jt({range:o,Kt:!0},(u,f,m)=>{const[v,x,S]=u;v===t&&x===r&&(a=!0),m.done()}).next(()=>a)}function Im(n){return rl(n,Wi.store)}function Db(n){return rl(n,Qo.store)}function d7(n){return rl(n,km.store)}class rv{constructor(t){this.se=t}next(){return this.se+=2,this.se}static ie(){return new rv(0)}static re(){return new rv(-1)}}class ITe{constructor(t,e){this.referenceDelegate=t,this.k=e}allocateTargetId(t){return this.oe(t).next(e=>{const i=new rv(e.highestTargetId);return e.highestTargetId=i.next(),this.ce(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.oe(t).next(e=>un.fromTimestamp(new Fs(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.oe(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.oe(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.ce(t,r)))}addTargetData(t,e){return this.ae(t,e).next(()=>this.oe(t).next(i=>(i.targetCount+=1,this.ue(e,i),this.ce(t,i))))}updateTargetData(t,e){return this.ae(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Sb(t).delete(e.targetId)).next(()=>this.oe(t)).next(i=>(Xt(i.targetCount>0),i.targetCount-=1,this.ce(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return Sb(t).jt((a,u)=>{const f=Sw(u);f.sequenceNumber<=e&&null===i.get(f.targetId)&&(r++,o.push(this.removeTargetData(t,f)))}).next(()=>je.waitFor(o)).next(()=>r)}forEachTarget(t,e){return Sb(t).jt((i,r)=>{const o=Sw(r);e(o)})}oe(t){return h7(t).get(Ql.key).next(e=>(Xt(null!==e),e))}ce(t,e){return h7(t).put(Ql.key,e)}ae(t,e){return Sb(t).put(r7(this.k,e))}ue(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.oe(t).next(e=>e.targetCount)}getTargetData(t,e){const i=fw(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Sb(t).jt({range:r,index:il.queryTargetsIndexName},(a,u,f)=>{const m=Sw(u);rI(e,m.target)&&(o=m,f.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Nm(t);return e.forEach(a=>{const u=Ku(a.path);r.push(o.put(new vo(i,u))),r.push(this.referenceDelegate.addReference(t,i,a))}),je.waitFor(r)}removeMatchingKeys(t,e,i){const r=Nm(t);return je.forEach(e,o=>{const a=Ku(o.path);return je.waitFor([r.delete([i,a]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Nm(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Nm(t);let o=yi();return r.jt({range:i,Kt:!0},(a,u,f)=>{const m=zf(a[1]),v=new Mt(m);o=o.add(v)}).next(()=>o)}containsKey(t,e){const i=Ku(e.path),r=IDBKeyRange.bound([i],[K8(i)],!1,!0);let o=0;return Nm(t).jt({index:vo.documentTargetsIndex,Kt:!0,range:r},([a,u],f,m)=>{0!==a&&(o++,m.done())}).next(()=>o>0)}Et(t,e){return Sb(t).get(e).next(i=>i?Sw(i):null)}}function Sb(n){return rl(n,il.store)}function h7(n){return rl(n,Ql.store)}function Nm(n){return rl(n,vo.store)}function sv(n){return rB.apply(this,arguments)}function rB(){return rB=(0,ke.Z)(function*(n){if(n.code!==Me.FAILED_PRECONDITION||n.message!==Kz)throw n;nt("LocalStore","Unexpectedly lost primary lease")}),rB.apply(this,arguments)}function f7([n,t],[e,i]){const r=Bn(n,e);return 0===r?Bn(t,i):r}class NTe{constructor(t){this.he=t,this.buffer=new Er(f7),this.le=0}fe(){return++this.le}de(t){const e=[t,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();f7(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class LTe{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.we=!1,this._e=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(t)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(t){var e=this;const i=this.we?3e5:6e4;nt("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,ke.Z)(function*(){e._e=null,e.we=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){nv(r)?nt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield sv(r)}yield e.me(t)}))}}class OTe{constructor(t,e){this.ge=t,this.params=e}calculateTargetCount(t,e){return this.ge.ye(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return je.resolve(Kl.I);const i=new NTe(e);return this.ge.forEachTarget(t,r=>i.de(r.sequenceNumber)).next(()=>this.ge.pe(t,r=>i.de(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.ge.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.ge.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(l7)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l7):this.Te(t,e))}getCacheSize(t){return this.ge.getCacheSize(t)}Te(t,e){let i,r,o,a,u,f,m;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),r=this.params.maximumSequenceNumbersToCollect):r=x,a=Date.now(),this.nthSequenceNumber(t,r))).next(x=>(i=x,u=Date.now(),this.removeTargets(t,i,e))).next(x=>(o=x,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(x=>(m=Date.now(),OV()<=Bl.in.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-v}ms\n\tDetermined least recently used ${r} in `+(u-a)+`ms\n\tRemoved ${o} targets in `+(f-u)+`ms\n\tRemoved ${x} documents in `+(m-f)+`ms\nTotal Duration: ${m-v}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:x})))}}class RTe{constructor(t,e){this.db=t,this.garbageCollector=new OTe(this,e)}ye(t){const e=this.Ee(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Ee(t){let e=0;return this.pe(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pe(t,e){return this.Ie(t,(i,r)=>e(r))}addReference(t,e,i){return vI(t,i)}removeReference(t,e,i){return vI(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return vI(t,e)}Ae(t,e){return function(i,r){let o=!1;return d7(i).Qt(a=>u7(i,a,r).next(u=>(u&&(o=!0),je.resolve(!u)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Ie(t,(a,u)=>{if(u<=e){const f=this.Ae(t,a).next(m=>{if(!m)return o++,i.getEntry(t,a).next(()=>(i.removeEntry(a),Nm(t).delete([0,Ku(a.path)])))});r.push(f)}}).next(()=>je.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return vI(t,e)}Ie(t,e){const i=Nm(t);let r,o=Kl.I;return i.jt({index:vo.documentTargetsIndex},([a,u],{path:f,sequenceNumber:m})=>{0===a?(o!==Kl.I&&e(new Mt(zf(r)),o),o=m,r=f):o=Kl.I}).next(()=>{o!==Kl.I&&e(new Mt(zf(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function vI(n,t){return Nm(n).put((i=n.currentSequenceNumber,new vo(0,Ku(t.path),i)));var i}class Ab{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0!==r){for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e])}else this.inner[i]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),!0;return!1}forEach(t){K_(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return Q8(this.inner)}}class p7{constructor(){this.changes=new Ab(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:un.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:lr.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?je.resolve(i.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class PTe{constructor(t,e){this.k=t,this.Jt=e}addEntry(t,e,i){return Lm(t).put(yI(e),i)}removeEntry(t,e){const i=Lm(t),r=yI(e);return i.delete(r)}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Re(t,i)))}getEntry(t,e){return Lm(t).get(yI(e)).next(i=>this.be(e,i))}Pe(t,e){return Lm(t).get(yI(e)).next(i=>({document:this.be(e,i),size:_I(i)}))}getEntries(t,e){let i=iu();return this.ve(t,e,(r,o)=>{const a=this.be(r,o);i=i.insert(r,a)}).next(()=>i)}Ve(t,e){let i=iu(),r=new vs(Mt.comparator);return this.ve(t,e,(o,a)=>{const u=this.be(o,a);i=i.insert(o,u),r=r.insert(o,_I(a))}).next(()=>({documents:i,Se:r}))}ve(t,e,i){if(e.isEmpty())return je.resolve();const r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),o=e.getIterator();let a=o.getNext();return Lm(t).jt({range:r},(u,f,m)=>{const v=Mt.fromSegments(u);for(;a&&Mt.comparator(a,v)<0;)i(a,null),a=o.getNext();a&&a.isEqual(v)&&(i(a,f),a=o.hasNext()?o.getNext():null),a?m.Lt(a.path.toArray()):m.done()}).next(()=>{for(;a;)i(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(t,e,i){let r=iu();const o=e.path.length+1,a={};if(i.isEqual(un.min())){const u=e.path.toArray();a.range=IDBKeyRange.lowerBound(u)}else{const u=e.path.toArray(),f=eB(i);a.range=IDBKeyRange.lowerBound([u,f],!0),a.index=kr.collectionReadTimeIndex}return Lm(t).jt(a,(u,f,m)=>{if(u.length!==o)return;const v=XV(this.k,f);e.path.isPrefixOf(v.key.path)?gw(e,v)&&(r=r.insert(v.key,v)):m.done()}).next(()=>r)}newChangeBuffer(t){return new FTe(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return m7(t).get(mh.key).next(e=>(Xt(!!e),e))}Re(t,e){return m7(t).put(mh.key,e)}be(t,e){if(e){const i=XV(this.k,e);if(!i.isNoDocument()||!i.version.isEqual(un.min()))return i}return lr.newInvalidDocument(t)}}class FTe extends p7{constructor(t,e){super(),this.De=t,this.trackRemovals=e,this.Ce=new Ab(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Er((o,a)=>Bn(o.canonicalString(),a.canonicalString()));return this.changes.forEach((o,a)=>{const u=this.Ce.get(o);if(a.document.isValidDocument()){const f=t7(this.De.k,a.document,this.getReadTime(o));r=r.add(o.path.popLast()),i+=_I(f)-u,e.push(this.De.addEntry(t,o,f))}else if(i-=u,this.trackRemovals){const f=t7(this.De.k,lr.newNoDocument(o,un.min()),this.getReadTime(o));e.push(this.De.addEntry(t,o,f))}else e.push(this.De.removeEntry(t,o))}),r.forEach(o=>{e.push(this.De.Jt.addToCollectionParentIndex(t,o))}),e.push(this.De.updateMetadata(t,i)),je.waitFor(e)}getFromCache(t,e){return this.De.Pe(t,e).next(i=>(this.Ce.set(e,i.size),i.document))}getAllFromCache(t,e){return this.De.Ve(t,e).next(({documents:i,Se:r})=>(r.forEach((o,a)=>{this.Ce.set(o,a)}),i))}}function m7(n){return rl(n,mh.store)}function Lm(n){return rl(n,kr.store)}function yI(n){return n.path.toArray()}class VTe{constructor(t){this.k=t}Nt(t,e,i,r){Xt(i<r&&i>=0&&r<=11);const o=new gI("createOrUpgrade",e);var u;i<1&&r>=1&&(t.createObjectStore(Jl.store),(u=t).createObjectStore(km.store,{keyPath:km.keyPath}),u.createObjectStore(Wi.store,{keyPath:Wi.keyPath,autoIncrement:!0}).createIndex(Wi.userMutationsIndex,Wi.userMutationsKeyPath,{unique:!0}),u.createObjectStore(Qo.store),g7(t),function(u){u.createObjectStore(kr.store)}(t));let a=je.resolve();return i<3&&r>=3&&(0!==i&&(function(u){u.deleteObjectStore(vo.store),u.deleteObjectStore(il.store),u.deleteObjectStore(Ql.store)}(t),g7(t)),a=a.next(()=>function(u){const f=u.store(Ql.store),m=new Ql(0,0,un.min().toTimestamp(),0);return f.put(Ql.key,m)}(o))),i<4&&r>=4&&(0!==i&&(a=a.next(()=>function(u,f){return f.store(Wi.store).Bt().next(m=>{u.deleteObjectStore(Wi.store),u.createObjectStore(Wi.store,{keyPath:Wi.keyPath,autoIncrement:!0}).createIndex(Wi.userMutationsIndex,Wi.userMutationsKeyPath,{unique:!0});const v=f.store(Wi.store),x=m.map(S=>v.put(S));return je.waitFor(x)})}(t,o))),a=a.next(()=>{!function(u){u.createObjectStore(Kf.store,{keyPath:Kf.keyPath})}(t)})),i<5&&r>=5&&(a=a.next(()=>this.Ne(o))),i<6&&r>=6&&(a=a.next(()=>(function(u){u.createObjectStore(mh.store)}(t),this.ke(o)))),i<7&&r>=7&&(a=a.next(()=>this.xe(o))),i<8&&r>=8&&(a=a.next(()=>this.$e(t,o))),i<9&&r>=9&&(a=a.next(()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(t),function(u){const f=u.objectStore(kr.store);f.createIndex(kr.readTimeIndex,kr.readTimeIndexPath,{unique:!1}),f.createIndex(kr.collectionReadTimeIndex,kr.collectionReadTimeIndexPath,{unique:!1})}(e)})),i<10&&r>=10&&(a=a.next(()=>this.Oe(o))),i<11&&r>=11&&(a=a.next(()=>{(function(u){u.createObjectStore(bb.store,{keyPath:bb.keyPath})})(t),function(u){u.createObjectStore(xb.store,{keyPath:xb.keyPath})}(t)})),a}ke(t){let e=0;return t.store(kr.store).jt((i,r)=>{e+=_I(r)}).next(()=>{const i=new mh(e);return t.store(mh.store).put(mh.key,i)})}Ne(t){const e=t.store(km.store),i=t.store(Wi.store);return e.Bt().next(r=>je.forEach(r,o=>{const a=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.Bt(Wi.userMutationsIndex,a).next(u=>je.forEach(u,f=>{Xt(f.userId===o.userId);const m=wb(this.k,f);return c7(t,o.userId,m).next(()=>{})}))}))}xe(t){const e=t.store(vo.store),i=t.store(kr.store);return t.store(Ql.store).get(Ql.key).next(r=>{const o=[];return i.jt((a,u)=>{const f=new si(a),m=[0,Ku(f)];o.push(e.get(m).next(v=>v?je.resolve():e.put(new vo(0,Ku(f),r.highestListenSequenceNumber))))}).next(()=>je.waitFor(o))})}$e(t,e){t.createObjectStore(tv.store,{keyPath:tv.keyPath});const i=e.store(tv.store),r=new nB,o=a=>{if(r.add(a)){const u=a.lastSegment(),f=a.popLast();return i.put({collectionId:u,parent:Ku(f)})}};return e.store(kr.store).jt({Kt:!0},(a,u)=>{const f=new si(a);return o(f.popLast())}).next(()=>e.store(Qo.store).jt({Kt:!0},([a,u,f],m)=>{const v=zf(u);return o(v.popLast())}))}Oe(t){const e=t.store(il.store);return e.jt((i,r)=>{const o=Sw(r),a=r7(this.k,o);return e.put(a)})}}function g7(n){n.createObjectStore(vo.store,{keyPath:vo.keyPath}).createIndex(vo.documentTargetsIndex,vo.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(il.store,{keyPath:il.keyPath}).createIndex(il.queryTargetsIndexName,il.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Ql.store)}const sB="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class oB{constructor(t,e,i,r,o,a,u,f,m,v){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Me=o,this.window=a,this.document=u,this.Fe=m,this.Le=v,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=x=>Promise.resolve(),!oB.Pt())throw new Ze(Me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new RTe(this,r),this.Ge=e+"main",this.k=new e7(f),this.ze=new Ju(this.Ge,11,new VTe(this.k)),this.He=new ITe(this.referenceDelegate,this.k),this.Jt=new MTe,this.Je=new PTe(this.k,this.Jt),this.Ye=new ETe,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===v&&ns("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ze(Me.FAILED_PRECONDITION,sB);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.He.getHighestSequenceNumber(t))}).then(t=>{this.Be=new Kl(t,this.Fe)}).then(()=>{this.Ue=!0}).catch(t=>(this.ze&&this.ze.close(),Promise.reject(t)))}sn(t){var e=this;return this.We=function(){var i=(0,ke.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ze.xt(function(){var e=(0,ke.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Me.enqueueAndForget((0,ke.Z)(function*(){e.started&&(yield e.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>bI(t).put(new Kf(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(t).next(e=>{e||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(t)).next(e=>this.isPrimary&&!e?this.cn(t).next(()=>!1):!!e&&this.an(t).next(()=>!0))).catch(t=>{if(nv(t))return nt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return nt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Me.enqueueRetryable(()=>this.We(t)),this.isPrimary=t})}rn(t){return Aw(t).get(Jl.key).next(e=>je.resolve(this.un(e)))}hn(t){return bI(t).delete(this.clientId)}ln(){var t=this;return(0,ke.Z)(function*(){if(t.isPrimary&&!t.fn(t.Qe,18e5)){t.Qe=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=rl(i,Kf.store);return r.Bt().next(o=>{const a=t.dn(o,18e5),u=o.filter(f=>-1===a.indexOf(f));return je.forEach(u,f=>r.delete(f.clientId)).next(()=>u)})}).catch(()=>[]);if(t.Xe)for(const i of e)t.Xe.removeItem(t.wn(i.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(t){return!!t&&t.ownerId===this.clientId}on(t){return this.Le?je.resolve(!0):Aw(t).get(Jl.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)){if(this.un(e)&&this.networkEnabled)return!0;if(!this.un(e)){if(!e.allowTabSynchronization)throw new Ze(Me.FAILED_PRECONDITION,sB);return!1}}return!(!this.networkEnabled||!this.inForeground)||bI(t).Bt().next(i=>void 0===this.dn(i,5e3).find(r=>{if(this.clientId!==r.clientId){const a=!this.inForeground&&r.inForeground,u=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||a&&u)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&nt("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ke.Z)(function*(){t.Ue=!1,t.mn(),t.je&&(t.je.cancel(),t.je=null),t.gn(),t.yn(),yield t.ze.runTransaction("shutdown","readwrite",[Jl.store,Kf.store],e=>{const i=new Xz(e,Kl.I);return t.cn(i).next(()=>t.hn(i))}),t.ze.close(),t.pn()})()}dn(t,e){return t.filter(i=>this.fn(i.updateTimeMs,e)&&!this._n(i.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",t=>bI(t).Bt().next(e=>this.dn(e,18e5).map(i=>i.clientId)))}get started(){return this.Ue}getMutationQueue(t){return iB.Xt(t,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(t,e,i){let o;return nt("IndexedDbPersistence","Starting transaction:",t),this.ze.runTransaction(t,"readonly"===e?"readonly":"readwrite",DTe,a=>(o=new Xz(a,this.Be?this.Be.next():Kl.I),"readwrite-primary"===e?this.rn(o).next(u=>!!u||this.on(o)).next(u=>{if(!u)throw ns(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new Ze(Me.FAILED_PRECONDITION,Kz);return i(o)}).next(u=>this.an(o).next(()=>u)):this.En(o).next(()=>i(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}En(t){return Aw(t).get(Jl.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ze(Me.FAILED_PRECONDITION,sB)})}an(t){const e=new Jl(this.clientId,this.allowTabSynchronization,Date.now());return Aw(t).put(Jl.key,e)}static Pt(){return Ju.Pt()}cn(t){const e=Aw(t);return e.get(Jl.key).next(i=>this.un(i)?(nt("IndexedDbPersistence","Releasing primary lease."),e.delete(Jl.key)):je.resolve())}fn(t,e){const i=Date.now();return!(t<i-e||t>i&&(ns(`Detected an update time that is in the future: ${t} > ${i}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.qe=()=>{this.mn(),(0,B.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(t){var e;try{const i=null!==(null===(e=this.Xe)||void 0===e?void 0:e.getItem(this.wn(t)));return nt("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ns("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(t){ns("Failed to set zombie client id.",t)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch{}}wn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Aw(n){return rl(n,Jl.store)}function bI(n){return rl(n,Kf.store)}function aB(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class BTe{constructor(t,e){this.progress=t,this.In=e}}class _7{constructor(t,e,i){this.Je=t,this.An=e,this.Jt=i}Rn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.bn(t,e,i))}bn(t,e,i){return this.Je.getEntry(t,e).next(r=>{for(const o of i)o.applyToLocalView(r);return r})}Pn(t,e){t.forEach((i,r)=>{for(const o of e)o.applyToLocalView(r)})}vn(t,e){return this.Je.getEntries(t,e).next(i=>this.Vn(t,i).next(()=>i))}Vn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.Pn(e,i))}getDocumentsMatchingQuery(t,e,i){return Mt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.Sn(t,e.path):jV(e)?this.Dn(t,e,i):this.Cn(t,e,i);var r}Sn(t,e){return this.Rn(t,new Mt(e)).next(i=>{let r=qV();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Dn(t,e,i){const r=e.collectionGroup;let o=qV();return this.Jt.getCollectionParents(t,r).next(a=>je.forEach(a,u=>{const f=(m=e,v=u.child(r),new Wf(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,v;return this.Cn(t,f,i).next(m=>{m.forEach((v,x)=>{o=o.insert(v,x)})})}).next(()=>o))}Cn(t,e,i){let r,o;return this.Je.getDocumentsMatchingQuery(t,e,i).next(a=>(r=a,this.An.getAllMutationBatchesAffectingQuery(t,e))).next(a=>(o=a,this.Nn(t,o,r).next(u=>{r=u;for(const f of o)for(const m of f.mutations){const v=m.key;let x=r.get(v);null==x&&(x=lr.newInvalidDocument(v),r=r.insert(v,x)),GV(m,x,f.localWriteTime),x.isFoundDocument()||(r=r.remove(v))}}))).next(()=>(r.forEach((a,u)=>{gw(e,u)||(r=r.remove(a))}),r))}Nn(t,e,i){let r=yi();for(const a of e)for(const u of a.mutations)u instanceof Em&&null===i.get(u.key)&&(r=r.add(u.key));let o=i;return this.Je.getEntries(t,r).next(a=>(a.forEach((u,f)=>{f.isFoundDocument()&&(o=o.insert(u,f))}),o))}}class lB{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.kn=i,this.xn=r}static $n(t,e){let i=yi(),r=yi();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new lB(t,e.fromCache,i,r)}}class v7{On(t){this.Mn=t}getDocumentsMatchingQuery(t,e,i,r){return 0===(o=e).filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())||i.isEqual(un.min())?this.Fn(t,e):this.Mn.vn(t,r).next(o=>{const a=this.Ln(e,o);return(aI(e)||lI(e))&&this.Bn(e.limitType,a,r,i)?this.Fn(t,e):(OV()<=Bl.in.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ZV(e)),this.Mn.getDocumentsMatchingQuery(t,e,i).next(u=>(a.forEach(f=>{u=u.insert(f.key,f)}),u)))});var o}Ln(t,e){let i=new Er(hz(t));return e.forEach((r,o)=>{gw(t,o)&&(i=i.add(o))}),i}Bn(t,e,i,r){if(i.size!==e.size)return!0;const o="F"===t?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Fn(t,e){return OV()<=Bl.in.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",ZV(e)),this.Mn.getDocumentsMatchingQuery(t,e,un.min())}}class UTe{constructor(t,e,i,r){this.persistence=t,this.Un=e,this.k=r,this.qn=new vs(Bn),this.Kn=new Ab(o=>fw(o),rI),this.jn=un.min(),this.An=t.getMutationQueue(i),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new _7(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qn))}}function y7(n,t,e,i){return new UTe(n,t,e,i)}function b7(n,t){return cB.apply(this,arguments)}function cB(){return cB=(0,ke.Z)(function*(n,t){const e=ft(n);let i=e.An,r=e.Wn;const o=yield e.persistence.runTransaction("Handle user change","readonly",a=>{let u;return e.An.getAllMutationBatches(a).next(f=>(u=f,i=e.persistence.getMutationQueue(t),r=new _7(e.Qn,i,e.persistence.getIndexManager()),i.getAllMutationBatches(a))).next(f=>{const m=[],v=[];let x=yi();for(const S of u){m.push(S.batchId);for(const k of S.mutations)x=x.add(k.key)}for(const S of f){v.push(S.batchId);for(const k of S.mutations)x=x.add(k.key)}return r.vn(a,x).next(S=>({Gn:S,removedBatchIds:m,addedBatchIds:v}))})});return e.An=i,e.Wn=r,e.Un.On(e.Wn),o}),cB.apply(this,arguments)}function HTe(n,t){const e=ft(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Qn.newChangeBuffer({trackRemovals:!0});return function(a,u,f,m){const v=f.batch,x=v.keys();let S=je.resolve();return x.forEach(k=>{S=S.next(()=>m.getEntry(u,k)).next(O=>{const U=f.docVersions.get(k);Xt(null!==U),O.version.compareTo(U)<0&&(v.applyToRemoteDocument(O,f),O.isValidDocument()&&m.addEntry(O,f.commitVersion))})}),S.next(()=>a.An.removeMutationBatch(u,v))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.An.performConsistencyCheck(i)).next(()=>e.Wn.vn(i,r))})}function x7(n){const t=ft(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.He.getLastRemoteSnapshotVersion(e))}function YTe(n,t){const e=ft(n),i=t.snapshotVersion;let r=e.qn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=e.Qn.newChangeBuffer({trackRemovals:!0});r=e.qn;const u=[];t.targetChanges.forEach((m,v)=>{const x=r.get(v);if(!x)return;u.push(e.He.removeMatchingKeys(o,m.removedDocuments,v).next(()=>e.He.addMatchingKeys(o,m.addedDocuments,v)));let S=x.withSequenceNumber(o.currentSequenceNumber);var k,O,U;t.targetMismatches.has(v)?S=S.withResumeToken(_s.EMPTY_BYTE_STRING,un.min()).withLastLimboFreeSnapshotVersion(un.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,i)),r=r.insert(v,S),O=S,U=m,(0===(k=x).resumeToken.approximateByteSize()||O.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8||U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0)&&u.push(e.He.updateTargetData(o,S))});let f=iu();if(t.documentUpdates.forEach((m,v)=>{t.resolvedLimboDocuments.has(m)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(C7(o,a,t.documentUpdates,i,void 0).next(m=>{f=m})),!i.isEqual(un.min())){const m=e.He.getLastRemoteSnapshotVersion(o).next(v=>e.He.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(m)}return je.waitFor(u).next(()=>a.apply(o)).next(()=>e.Wn.Vn(o,f)).next(()=>f)}).then(o=>(e.qn=r,o))}function C7(n,t,e,i,r){let o=yi();return e.forEach(a=>o=o.add(a)),t.getEntries(n,o).next(a=>{let u=iu();return e.forEach((f,m)=>{const v=a.get(f),x=r?.get(f)||i;m.isNoDocument()&&m.version.isEqual(un.min())?(t.removeEntry(f,x),u=u.insert(f,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(t.addEntry(m,x),u=u.insert(f,m)):nt("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",m.version)}),u})}function jTe(n,t){const e=ft(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.An.getNextMutationBatchAfterBatchId(i,t)))}function Eb(n,t){const e=ft(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.He.getTargetData(i,t).next(o=>o?(r=o,je.resolve(r)):e.He.allocateTargetId(i).next(a=>(r=new Mm(t,a,0,i.currentSequenceNumber),e.He.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.qn.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.qn=e.qn.insert(i.targetId,i),e.Kn.set(t,i.targetId)),i})}function kb(n,t,e){return uB.apply(this,arguments)}function uB(){return uB=(0,ke.Z)(function*(n,t,e){const i=ft(n),r=i.qn.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!nv(a))throw a;nt("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.qn=i.qn.remove(t),i.Kn.delete(r.target)}),uB.apply(this,arguments)}function xI(n,t,e){const i=ft(n);let r=un.min(),o=yi();return i.persistence.runTransaction("Execute query","readonly",a=>function(u,f,m){const v=ft(u),x=v.Kn.get(m);return void 0!==x?je.resolve(v.qn.get(x)):v.He.getTargetData(f,m)}(i,a,nu(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.He.getMatchingKeysForTargetId(a,u.targetId).next(f=>{o=f})}).next(()=>i.Un.getDocumentsMatchingQuery(a,t,e?r:un.min(),e?o:yi())).next(u=>({documents:u,zn:o})))}function T7(n,t){const e=ft(n),i=ft(e.He),r=e.qn.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.Et(o,t).next(a=>a?a.target:null))}function w7(n){const t=ft(n);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(i,r,o){const a=ft(i);let u=iu(),f=eB(o);const m=Lm(r),v=IDBKeyRange.lowerBound(f,!0);return m.jt({index:kr.readTimeIndex,range:v},(x,S)=>{const k=XV(a.k,S);u=u.insert(k.key,k),f=S.readTime}).next(()=>({In:u,readTime:n7(f)}))}(t.Qn,e,t.jn)).then(({In:e,readTime:i})=>(t.jn=i,e))}function dB(){return dB=(0,ke.Z)(function*(n){const t=ft(n);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(i){const r=Lm(i);let o=un.min();return r.jt({index:kr.readTimeIndex,reverse:!0},(a,u,f)=>{u.readTime&&(o=n7(u.readTime)),f.done()}).next(()=>o)}(e)).then(e=>{t.jn=e})}),dB.apply(this,arguments)}function hB(){return hB=(0,ke.Z)(function*(n,t,e,i){const r=ft(n);let o=yi(),a=iu(),u=kz();for(const v of e){const x=t.Hn(v.metadata.name);v.document&&(o=o.add(x)),a=a.insert(x,t.Jn(v)),u=u.insert(x,t.Yn(v.metadata.readTime))}const f=r.Qn.newChangeBuffer({trackRemovals:!0}),m=yield Eb(r,(v=i,nu(pb(si.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>C7(v,f,a,un.min(),u).next(x=>(f.apply(v),x)).next(x=>r.He.removeMatchingKeysForTargetId(v,m.targetId).next(()=>r.He.addMatchingKeys(v,o,m.targetId)).next(()=>r.Wn.Vn(v,x)).next(()=>x)))}),hB.apply(this,arguments)}function $Te(n,t){return fB.apply(this,arguments)}function fB(){return fB=(0,ke.Z)(function*(n,t,e=yi()){const i=yield Eb(n,nu(tB(t.bundledQuery))),r=ft(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const a=Vs(t.readTime);if(i.snapshotVersion.compareTo(a)>=0)return r.Ye.saveNamedQuery(o,t);const u=i.withResumeToken(_s.EMPTY_BYTE_STRING,a);return r.qn=r.qn.insert(u.targetId,u),r.He.updateTargetData(o,u).next(()=>r.He.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.He.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ye.saveNamedQuery(o,t))})}),fB.apply(this,arguments)}class qTe{constructor(t){this.k=t,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(t,e){return je.resolve(this.Xn.get(e))}saveBundleMetadata(t,e){var i;return this.Xn.set(e.id,{id:(i=e).id,version:i.version,createTime:Vs(i.createTime)}),je.resolve()}getNamedQuery(t,e){return je.resolve(this.Zn.get(e))}saveNamedQuery(t,e){return this.Zn.set(e.name,{name:(i=e).name,query:tB(i.bundledQuery),readTime:Vs(i.readTime)}),je.resolve();var i}}class pB{constructor(){this.ts=new Er(Bs.es),this.ns=new Er(Bs.ss)}isEmpty(){return this.ts.isEmpty()}addReference(t,e){const i=new Bs(t,e);this.ts=this.ts.add(i),this.ns=this.ns.add(i)}rs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.os(new Bs(t,e))}cs(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new Mt(new si([])),i=new Bs(e,t),r=new Bs(e,t+1),o=[];return this.ns.forEachInRange([i,r],a=>{this.os(a),o.push(a.key)}),o}hs(){this.ts.forEach(t=>this.os(t))}os(t){this.ts=this.ts.delete(t),this.ns=this.ns.delete(t)}ls(t){const e=new Mt(new si([])),i=new Bs(e,t),r=new Bs(e,t+1);let o=yi();return this.ns.forEachInRange([i,r],a=>{o=o.add(a.key)}),o}containsKey(t){const e=new Bs(t,0),i=this.ts.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Bs{constructor(t,e){this.key=t,this.fs=e}static es(t,e){return Mt.comparator(t.key,e.key)||Bn(t.fs,e.fs)}static ss(t,e){return Bn(t.fs,e.fs)||Mt.comparator(t.key,e.key)}}class WTe{constructor(t,e){this.Jt=t,this.referenceDelegate=e,this.An=[],this.ds=1,this.ws=new Er(Bs.es)}checkEmpty(t){return je.resolve(0===this.An.length)}addMutationBatch(t,e,i,r){const o=this.ds;this.ds++;const a=new JV(o,e,i,r);this.An.push(a);for(const u of r)this.ws=this.ws.add(new Bs(u.key,o)),this.Jt.addToCollectionParentIndex(t,u.key.path.popLast());return je.resolve(a)}lookupMutationBatch(t,e){return je.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.gs(e+1),o=r<0?0:r;return je.resolve(this.An.length>o?this.An[o]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(t){return je.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Bs(e,0),r=new Bs(e,Number.POSITIVE_INFINITY),o=[];return this.ws.forEachInRange([i,r],a=>{const u=this._s(a.fs);o.push(u)}),je.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Er(Bn);return e.forEach(r=>{const o=new Bs(r,0),a=new Bs(r,Number.POSITIVE_INFINITY);this.ws.forEachInRange([o,a],u=>{i=i.add(u.fs)})}),je.resolve(this.ys(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Mt.isDocumentKey(o)||(o=o.child(""));const a=new Bs(new Mt(o),0);let u=new Er(Bn);return this.ws.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(u=u.add(f.fs)),!0)},a),je.resolve(this.ys(u))}ys(t){const e=[];return t.forEach(i=>{const r=this._s(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Xt(0===this.ps(e.batchId,"removed")),this.An.shift();let i=this.ws;return je.forEach(e.mutations,r=>{const o=new Bs(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ws=i})}ee(t){}containsKey(t,e){const i=new Bs(e,0),r=this.ws.firstAfterOrEqual(i);return je.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return je.resolve()}ps(t,e){return this.gs(t)}gs(t){return 0===this.An.length?0:t-this.An[0].batchId}_s(t){const e=this.gs(t);return e<0||e>=this.An.length?null:this.An[e]}}class zTe{constructor(t,e){this.Jt=t,this.Ts=e,this.docs=new vs(Mt.comparator),this.size=0}addEntry(t,e,i){const r=e.key,o=this.docs.get(r),a=o?o.size:0,u=this.Ts(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:u,readTime:i}),this.size+=u-a,this.Jt.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return je.resolve(i?i.document.mutableCopy():lr.newInvalidDocument(e))}getEntries(t,e){let i=iu();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():lr.newInvalidDocument(r))}),je.resolve(i)}getDocumentsMatchingQuery(t,e,i){let r=iu();const o=new Mt(e.path.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:u,value:{document:f,readTime:m}}=a.getNext();if(!e.path.isPrefixOf(u.path))break;m.compareTo(i)<=0||gw(e,f)&&(r=r.insert(f.key,f.mutableCopy()))}return je.resolve(r)}Es(t,e){return je.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new KTe(this)}getSize(t){return je.resolve(this.size)}}class KTe extends p7{constructor(t){super(),this.De=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.document.isValidDocument()?e.push(this.De.addEntry(t,r.document,this.getReadTime(i))):this.De.removeEntry(i)}),je.waitFor(e)}getFromCache(t,e){return this.De.getEntry(t,e)}getAllFromCache(t,e){return this.De.getEntries(t,e)}}class JTe{constructor(t){this.persistence=t,this.Is=new Ab(e=>fw(e),rI),this.lastRemoteSnapshotVersion=un.min(),this.highestTargetId=0,this.As=0,this.Rs=new pB,this.targetCount=0,this.bs=rv.ie()}forEachTarget(t,e){return this.Is.forEach((i,r)=>e(r)),je.resolve()}getLastRemoteSnapshotVersion(t){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return je.resolve(this.As)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.As&&(this.As=e),je.resolve()}ae(t){this.Is.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.bs=new rv(e),this.highestTargetId=e),t.sequenceNumber>this.As&&(this.As=t.sequenceNumber)}addTargetData(t,e){return this.ae(e),this.targetCount+=1,je.resolve()}updateTargetData(t,e){return this.ae(e),je.resolve()}removeTargetData(t,e){return this.Is.delete(e.target),this.Rs.us(e.targetId),this.targetCount-=1,je.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Is.forEach((a,u)=>{u.sequenceNumber<=e&&null===i.get(u.targetId)&&(this.Is.delete(a),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),je.waitFor(o).next(()=>r)}getTargetCount(t){return je.resolve(this.targetCount)}getTargetData(t,e){const i=this.Is.get(e)||null;return je.resolve(i)}addMatchingKeys(t,e,i){return this.Rs.rs(e,i),je.resolve()}removeMatchingKeys(t,e,i){this.Rs.cs(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(a=>{o.push(r.markPotentiallyOrphaned(t,a))}),je.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Rs.us(e),je.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Rs.ls(e);return je.resolve(i)}containsKey(t,e){return je.resolve(this.Rs.containsKey(e))}}class QTe{constructor(t,e){this.Ps={},this.Be=new Kl(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new JTe(this),this.Jt=new kTe,this.Je=new zTe(this.Jt,i=>this.referenceDelegate.vs(i)),this.k=new e7(e),this.Ye=new qTe(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(t){let e=this.Ps[t.toKey()];return e||(e=new WTe(this.Jt,this.referenceDelegate),this.Ps[t.toKey()]=e),e}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(t,e,i){nt("MemoryPersistence","Starting transaction:",t);const r=new XTe(this.Be.next());return this.referenceDelegate.Vs(),i(r).next(o=>this.referenceDelegate.Ss(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ds(t,e){return je.or(Object.values(this.Ps).map(i=>()=>i.containsKey(t,e)))}}class XTe extends Jz{constructor(t){super(),this.currentSequenceNumber=t}}class mB{constructor(t){this.persistence=t,this.Cs=new pB,this.Ns=null}static ks(t){return new mB(t)}get xs(){if(this.Ns)return this.Ns;throw Ot()}addReference(t,e,i){return this.Cs.addReference(i,e),this.xs.delete(i.toString()),je.resolve()}removeReference(t,e,i){return this.Cs.removeReference(i,e),this.xs.add(i.toString()),je.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),je.resolve()}removeTarget(t,e){this.Cs.us(e.targetId).forEach(r=>this.xs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.xs.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Vs(){this.Ns=new Set}Ss(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.xs,i=>{const r=Mt.fromPath(i);return this.$s(t,r).next(o=>{o||e.removeEntry(r)})}).next(()=>(this.Ns=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.xs.delete(e.toString()):this.xs.add(e.toString())})}vs(t){return 0}$s(t,e){return je.or([()=>je.resolve(this.Cs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ds(t,e)])}}function D7(n,t){return`firestore_clients_${n}_${t}`}function S7(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function gB(n,t){return`firestore_targets_${n}_${t}`}class CI{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Os(t,e,i){const r=JSON.parse(i);let o,a="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(o=new Ze(r.error.code,r.error.message))),a?new CI(t,e,r.state,o):(ns("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Ms(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ew{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Os(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Ze(i.error.code,i.error.message))),o?new Ew(t,i.state,r):(ns("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Ms(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class TI{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Os(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=fI();for(let a=0;r&&a<i.activeTargetIds.length;++a)r=ez(i.activeTargetIds[a]),o=o.add(i.activeTargetIds[a]);return r?new TI(t,o):(ns("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class _B{constructor(t,e){this.clientId=t,this.onlineState=e}static Os(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new _B(e.clientId,e.onlineState):(ns("SharedClientState",`Failed to parse online state: ${t}`),null)}}class vB{constructor(){this.activeTargetIds=fI()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ls(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ms(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yB{constructor(t,e,i,r,o){this.window=t,this.Me=e,this.persistenceKey=i,this.Bs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new vs(Bn),this.started=!1,this.js=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Qs=D7(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new vB),this.Gs=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(u){return`firestore_bundle_loaded_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ke.Z)(function*(){const e=yield t.syncEngine.Tn();for(const r of e){if(r===t.Bs)continue;const o=t.getItem(D7(t.persistenceKey,r));if(o){const a=TI.Os(r,o);a&&(t.Ks=t.Ks.insert(a.clientId,a))}}t.Xs();const i=t.storage.getItem(t.Js);if(i){const r=t.Zs(i);r&&t.ti(r)}for(const r of t.js)t.qs(r);t.js=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(t){let e=!1;return this.Ks.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ni(t,"pending")}updateMutationState(t,e,i){this.ni(t,e,i),this.si(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(gB(this.persistenceKey,t));if(i){const r=Ew.Os(t,i);r&&(e=r.state)}}return this.ii.Fs(t),this.Xs(),e}removeLocalQueryTarget(t){this.ii.Ls(t),this.Xs()}isLocalQueryTarget(t){return this.ii.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(gB(this.persistenceKey,t))}updateQueryState(t,e,i){this.ri(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.si(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.oi(t)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return nt("SharedClientState","READ",t,e),e}setItem(t,e){nt("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){nt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}qs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(nt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Qs)return void ns("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,ke.Z)(function*(){if(e.started){if(null!==i.key)if(e.Gs.test(i.key)){if(null==i.newValue){const r=e.ai(i.key);return e.ui(r,null)}{const r=e.hi(i.key,i.newValue);if(r)return e.ui(r.clientId,r)}}else if(e.zs.test(i.key)){if(null!==i.newValue){const r=e.li(i.key,i.newValue);if(r)return e.fi(r)}}else if(e.Hs.test(i.key)){if(null!==i.newValue){const r=e.di(i.key,i.newValue);if(r)return e.wi(r)}}else if(i.key===e.Js){if(null!==i.newValue){const r=e.Zs(i.newValue);if(r)return e.ti(r)}}else if(i.key===e.Ws){const r=function(o){let a=Kl.I;if(null!=o)try{const u=JSON.parse(o);Xt("number"==typeof u),a=u}catch(u){ns("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(i.newValue);r!==Kl.I&&e.sequenceNumberHandler(r)}else if(i.key===e.Ys)return e.syncEngine._i()}else e.js.push(i)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(t,e,i){const r=new CI(this.currentUser,t,e,i),o=S7(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Ms())}si(t){const e=S7(this.persistenceKey,this.currentUser,t);this.removeItem(e)}oi(t){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:t}))}ri(t,e,i){const r=gB(this.persistenceKey,t),o=new Ew(t,e,i);this.setItem(r,o.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(t){const e=this.Gs.exec(t);return e?e[1]:null}hi(t,e){const i=this.ai(t);return TI.Os(i,e)}li(t,e){const i=this.zs.exec(t),r=Number(i[1]);return CI.Os(new mo(void 0!==i[2]?i[2]:null),r,e)}di(t,e){const i=this.Hs.exec(t),r=Number(i[1]);return Ew.Os(r,e)}Zs(t){return _B.Os(t)}fi(t){var e=this;return(0,ke.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.mi(t.batchId,t.state,t.error);nt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}wi(t){return this.syncEngine.gi(t.targetId,t.state,t.error)}ui(t,e){const i=e?this.Ks.insert(t,e):this.Ks.remove(t),r=this.ei(this.Ks),o=this.ei(i),a=[],u=[];return o.forEach(f=>{r.has(f)||a.push(f)}),r.forEach(f=>{o.has(f)||u.push(f)}),this.syncEngine.yi(a,u).then(()=>{this.Ks=i})}ti(t){this.Ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ei(t){let e=fI();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class A7{constructor(){this.pi=new vB,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.pi.Fs(t),this.Ti[t]||"not-current"}updateQueryState(t,e,i){this.Ti[t]=e}removeLocalQueryTarget(t){this.pi.Ls(t)}isLocalQueryTarget(t){return this.pi.activeTargetIds.has(t)}clearQueryState(t){delete this.Ti[t]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(t){return this.pi.activeTargetIds.has(t)}start(){return this.pi=new vB,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class ewe{Ei(t){}shutdown(){}}class E7{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(t){this.Pi.push(t)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Pi)t(0)}bi(){nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Pi)t(1)}static Pt(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const twe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class nwe{constructor(t){this.Vi=t.Vi,this.Si=t.Si}Di(t){this.Ci=t}Ni(t){this.ki=t}onMessage(t){this.xi=t}close(){this.Si()}send(t){this.Vi(t)}$i(){this.Ci()}Oi(t){this.ki(t)}Mi(t){this.xi(t)}}class iwe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(t,e,i,r,o){const a=this.Ui(t,e);nt("RestConnection","Sending: ",a,i);const u={};return this.qi(u,r,o),this.Ki(t,a,u,i).then(f=>(nt("RestConnection","Received: ",f),f),f=>{throw lw("RestConnection",`${t} failed with error: `,f,"url: ",a,"request:",i),f})}ji(t,e,i,r,o){return this.Bi(t,e,i,r,o)}qi(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+lb,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}Ui(t,e){return`${this.Fi}/v1/${e}:${twe[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Ki(t,e,i,r){return new Promise((o,a)=>{const u=new wCe;u.listenOnce(xCe.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case LV.NO_ERROR:const m=u.getResponseJson();nt("Connection","XHR received:",JSON.stringify(m)),o(m);break;case LV.TIMEOUT:nt("Connection",'RPC "'+t+'" timed out'),a(new Ze(Me.DEADLINE_EXCEEDED,"Request time out"));break;case LV.HTTP_ERROR:const v=u.getStatus();if(nt("Connection",'RPC "'+t+'" failed with status:',v,"response text:",u.getResponseText()),v>0){const x=u.getResponseJson().error;if(x&&x.status&&x.message){const S=function(k){const O=k.toLowerCase().replace(/_/g,"-");return Object.values(Me).indexOf(O)>=0?O:Me.UNKNOWN}(x.status);a(new Ze(S,x.message))}else a(new Ze(Me.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Ze(Me.UNAVAILABLE,"Connection failed."));break;default:Ot()}}finally{nt("Connection",'RPC "'+t+'" completed.')}});const f=JSON.stringify(r);u.send(e,"POST",f,i,15)})}Qi(t,e,i){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=yCe(),a=bCe(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new TCe({})),this.qi(u.initMessageHeaders,e,i),(0,B.uI)()||(0,B.b$)()||(0,B.d)()||(0,B.w1)()||(0,B.Mn)()||(0,B.ru)()||(u.httpHeadersOverwriteParam="$httpHeaders");const f=r.join("");nt("Connection","Creating WebChannel: "+f,u);const m=o.createWebChannel(f,u);let v=!1,x=!1;const S=new nwe({Vi:O=>{x?nt("Connection","Not sending because WebChannel is closed:",O):(v||(nt("Connection","Opening WebChannel transport."),m.open(),v=!0),nt("Connection","WebChannel sending:",O),m.send(O))},Si:()=>m.close()}),k=(O,U,V)=>{O.listen(U,te=>{try{V(te)}catch(re){setTimeout(()=>{throw re},0)}})};return k(m,eI.EventType.OPEN,()=>{x||nt("Connection","WebChannel transport opened.")}),k(m,eI.EventType.CLOSE,()=>{x||(x=!0,nt("Connection","WebChannel transport closed"),S.Oi())}),k(m,eI.EventType.ERROR,O=>{x||(x=!0,lw("Connection","WebChannel transport errored:",O),S.Oi(new Ze(Me.UNAVAILABLE,"The operation could not be completed")))}),k(m,eI.EventType.MESSAGE,O=>{var U;if(!x){const V=O.data[0];Xt(!!V);const te=V,re=te.error||(null===(U=te[0])||void 0===U?void 0:U.error);if(re){nt("Connection","WebChannel received error:",re);const Te=re.status;let we=function(Pe){const ct=ss[Pe];if(void 0!==ct)return Az(ct)}(Te),Ve=re.message;void 0===we&&(we=Me.INTERNAL,Ve="Unknown error status: "+Te+" with message "+re.message),x=!0,S.Oi(new Ze(we,Ve)),m.close()}else nt("Connection","WebChannel received:",V),S.Mi(V)}}),k(a,CCe.STAT_EVENT,O=>{O.stat===G8.PROXY?nt("Connection","Detected buffering proxy"):O.stat===G8.NOPROXY&&nt("Connection","Detected no buffering proxy")}),setTimeout(()=>{S.$i()},0),S}}function k7(){return typeof window<"u"?window:null}function wI(){return typeof document<"u"?document:null}function kw(n){return new uTe(n,!0)}class bB{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Me=t,this.timerId=e,this.Wi=i,this.Gi=r,this.zi=o,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(t){this.cancel();const e=Math.floor(this.Hi+this.tr()),i=Math.max(0,Date.now()-this.Yi),r=Math.max(0,e-i);r>0&&nt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,r,()=>(this.Yi=Date.now(),t())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class M7{constructor(t,e,i,r,o,a,u,f){this.Me=t,this.nr=i,this.sr=r,this.ir=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new bB(t,e)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var t=this;return(0,ke.Z)(function*(){t.hr()&&(yield t.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(t){this.yr(),this.stream.send(t)}mr(){var t=this;return(0,ke.Z)(function*(){if(t.lr())return t.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(t,e){var i=this;return(0,ke.Z)(function*(){i.yr(),i.pr(),i.ur.cancel(),i.rr++,4!==t?i.ur.reset():e&&e.code===Me.RESOURCE_EXHAUSTED?(ns(e.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),i.ur.Xi()):e&&e.code===Me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Tr(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Ni(e)})()}Tr(){}auth(){this.state=1;const t=this.Er(this.rr),e=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.rr===e&&this.Ir(i,r)},i=>{t(()=>{const r=new Ze(Me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ar(r)})})}Ir(t,e){const i=this.Er(this.rr);this.stream=this.Rr(t,e),this.stream.Di(()=>{i(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(r=>{i(()=>this.Ar(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}dr(){var t=this;this.state=5,this.ur.Zi((0,ke.Z)(function*(){t.state=0,t.start()}))}Ar(t){return nt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Er(t){return e=>{this.Me.enqueueAndForget(()=>this.rr===t?e():(nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rwe extends M7{constructor(t,e,i,r,o,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,a),this.k=o}Rr(t,e){return this.ir.Qi("Listen",t,e)}onMessage(t){this.ur.reset();const e=function fTe(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(f=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:Ot(),r=t.targetChange.targetIds||[],o=function(f,m){return f.C?(Xt(void 0===m||"string"==typeof m),_s.fromBase64String(m||"")):(Xt(void 0===m||m instanceof Uint8Array),_s.fromUint8Array(m||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,u=a&&function(f){const m=void 0===f.code?Me.UNKNOWN:Az(f.code);return new Ze(m,f.message||"")}(a);e=new Iz(i,r,o,u||null)}else if("documentChange"in t){const i=t.documentChange,r=ph(n,i.document.name),o=Vs(i.document.updateTime),a=new Jo({mapValue:{fields:i.document.fields}}),u=lr.newFoundDocument(r,o,a);e=new pI(i.targetIds||[],i.removedTargetIds||[],u.key,u)}else if("documentDelete"in t){const i=t.documentDelete,r=ph(n,i.document),o=i.readTime?Vs(i.readTime):un.min(),a=lr.newNoDocument(r,o);e=new pI([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){const i=t.documentRemove,r=ph(n,i.document);e=new pI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Ot();{const i=t.filter,o=new tTe(i.count||0);e=new Mz(i.targetId,o)}}var f;return e}(this.k,t),i=function(r){if(!("targetChange"in r))return un.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?un.min():o.readTime?Vs(o.readTime):un.min()}(t);return this.listener.br(e,i)}Pr(t){const e={};e.database=ww(this.k),e.addTarget=function(r,o){let a;const u=o.target;return a=sI(u)?{documents:Yz(r,u)}:{query:jz(r,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?a.resumeToken=Rz(r,o.resumeToken):o.snapshotVersion.compareTo(un.min())>0&&(a.readTime=Cw(r,o.snapshotVersion.toTimestamp())),a}(this.k,t);const i=function mTe(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ot()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.gr(e)}vr(t){const e={};e.database=ww(this.k),e.removeTarget=t,this.gr(e)}}class swe extends M7{constructor(t,e,i,r,o,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,a),this.k=o,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(t,e){return this.ir.Qi("Write",t,e)}onMessage(t){if(Xt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vr){this.ur.reset();const e=function pTe(n,t){return n&&n.length>0?(Xt(void 0!==t),n.map(e=>function(i,r){let o=Vs(i.updateTime?i.updateTime:r);return o.isEqual(un.min())&&(o=Vs(r)),new QCe(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Vs(t.commitTime);return this.listener.Cr(i,e)}return Xt(!t.writeResults||0===t.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const t={};t.database=ww(this.k),this.gr(t)}Dr(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>mI(this.k,i))};this.gr(e)}}class owe extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.ir=i,this.k=r,this.$r=!1}Or(){if(this.$r)throw new Ze(Me.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(t,e,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.ir.Bi(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ze(Me.UNKNOWN,r.toString())})}ji(t,e,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.ir.ji(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ze(Me.UNKNOWN,r.toString())})}terminate(){this.$r=!0}}class awe{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(t){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Ur("Offline")))}set(t){this.jr(),this.Mr=0,"Online"===t&&(this.Lr=!1),this.Ur(t)}Ur(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}qr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(ns(e),this.Lr=!1):nt("OnlineStateTracker",e)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class lwe{constructor(t,e,i,r,o){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=o,this.Hr.Ei(u=>{i.enqueueAndForget((0,ke.Z)(function*(){var f;Om(a)&&(nt("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,ke.Z)(function*(m){const v=ft(m);v.Gr.add(4),yield Mb(v),v.Jr.set("Unknown"),v.Gr.delete(4),yield Mw(v)}),function(m){return f.apply(this,arguments)})(a))}))}),this.Jr=new awe(i,r)}}function Mw(n){return xB.apply(this,arguments)}function xB(){return xB=(0,ke.Z)(function*(n){if(Om(n))for(const t of n.zr)yield t(!0)}),xB.apply(this,arguments)}function Mb(n){return CB.apply(this,arguments)}function CB(){return CB=(0,ke.Z)(function*(n){for(const t of n.zr)yield t(!1)}),CB.apply(this,arguments)}function DI(n,t){const e=ft(n);e.Wr.has(t.targetId)||(e.Wr.set(t.targetId,t),DB(e)?wB(e):Nb(e).lr()&&TB(e,t))}function Iw(n,t){const e=ft(n),i=Nb(e);e.Wr.delete(t),i.lr()&&I7(e,t),0===e.Wr.size&&(i.lr()?i._r():Om(e)&&e.Jr.set("Unknown"))}function TB(n,t){n.Yr.X(t.targetId),Nb(n).Pr(t)}function I7(n,t){n.Yr.X(t),Nb(n).vr(t)}function wB(n){n.Yr=new aTe({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Wr.get(t)||null}),Nb(n).start(),n.Jr.Br()}function DB(n){return Om(n)&&!Nb(n).hr()&&n.Wr.size>0}function Om(n){return 0===ft(n).Gr.size}function N7(n){n.Yr=void 0}function cwe(n){return SB.apply(this,arguments)}function SB(){return SB=(0,ke.Z)(function*(n){n.Wr.forEach((t,e)=>{TB(n,t)})}),SB.apply(this,arguments)}function uwe(n,t){return AB.apply(this,arguments)}function AB(){return AB=(0,ke.Z)(function*(n,t){N7(n),DB(n)?(n.Jr.Kr(t),wB(n)):n.Jr.set("Unknown")}),AB.apply(this,arguments)}function dwe(n,t,e){return EB.apply(this,arguments)}function EB(){return EB=(0,ke.Z)(function*(n,t,e){if(n.Jr.set("Online"),t instanceof Iz&&2===t.state&&t.cause)try{yield(i=(0,ke.Z)(function*(r,o){const a=o.cause;for(const u of o.targetIds)r.Wr.has(u)&&(yield r.remoteSyncer.rejectListen(u,a),r.Wr.delete(u),r.Yr.removeTarget(u))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){nt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield SI(n,i)}else if(t instanceof pI?n.Yr.ot(t):t instanceof Mz?n.Yr.dt(t):n.Yr.ut(t),!e.isEqual(un.min()))try{const i=yield x7(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const a=r.Yr.gt(o);return a.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const m=r.Wr.get(f);m&&r.Wr.set(f,m.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach(u=>{const f=r.Wr.get(u);if(!f)return;r.Wr.set(u,f.withResumeToken(_s.EMPTY_BYTE_STRING,f.snapshotVersion)),I7(r,u);const m=new Mm(f.target,u,1,f.sequenceNumber);TB(r,m)}),r.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){nt("RemoteStore","Failed to raise snapshot:",i),yield SI(n,i)}var i}),EB.apply(this,arguments)}function SI(n,t,e){return kB.apply(this,arguments)}function kB(){return kB=(0,ke.Z)(function*(n,t,e){if(!nv(t))throw t;n.Gr.add(1),yield Mb(n),n.Jr.set("Offline"),e||(e=()=>x7(n.localStore)),n.asyncQueue.enqueueRetryable((0,ke.Z)(function*(){nt("RemoteStore","Retrying IndexedDB access"),yield e(),n.Gr.delete(1),yield Mw(n)}))}),kB.apply(this,arguments)}function L7(n,t){return t().catch(e=>SI(n,e,t))}function Ib(n){return MB.apply(this,arguments)}function MB(){return MB=(0,ke.Z)(function*(n){const t=ft(n),e=Rm(t);let i=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;hwe(t);)try{const r=yield jTe(t.localStore,i);if(null===r){0===t.Qr.length&&e._r();break}i=r.batchId,fwe(t,r)}catch(r){yield SI(t,r)}O7(t)&&R7(t)}),MB.apply(this,arguments)}function hwe(n){return Om(n)&&n.Qr.length<10}function fwe(n,t){n.Qr.push(t);const e=Rm(n);e.lr()&&e.Sr&&e.Dr(t.mutations)}function O7(n){return Om(n)&&!Rm(n).hr()&&n.Qr.length>0}function R7(n){Rm(n).start()}function pwe(n){return IB.apply(this,arguments)}function IB(){return IB=(0,ke.Z)(function*(n){Rm(n).kr()}),IB.apply(this,arguments)}function mwe(n){return NB.apply(this,arguments)}function NB(){return NB=(0,ke.Z)(function*(n){const t=Rm(n);for(const e of n.Qr)t.Dr(e.mutations)}),NB.apply(this,arguments)}function gwe(n,t,e){return LB.apply(this,arguments)}function LB(){return LB=(0,ke.Z)(function*(n,t,e){const i=n.Qr.shift(),r=QV.from(i,t,e);yield L7(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Ib(n)}),LB.apply(this,arguments)}function _we(n,t){return OB.apply(this,arguments)}function OB(){return OB=(0,ke.Z)(function*(n,t){var e;t&&Rm(n).Sr&&(yield(e=(0,ke.Z)(function*(i,r){if(Sz(o=r.code)&&o!==Me.ABORTED){const a=i.Qr.shift();Rm(i).wr(),yield L7(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield Ib(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),O7(n)&&R7(n)}),OB.apply(this,arguments)}function P7(n,t){return RB.apply(this,arguments)}function RB(){return RB=(0,ke.Z)(function*(n,t){const e=ft(n);e.asyncQueue.verifyOperationInProgress(),nt("RemoteStore","RemoteStore received new credentials");const i=Om(e);e.Gr.add(3),yield Mb(e),i&&e.Jr.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.Gr.delete(3),yield Mw(e)}),RB.apply(this,arguments)}function PB(n,t){return FB.apply(this,arguments)}function FB(){return FB=(0,ke.Z)(function*(n,t){const e=ft(n);t?(e.Gr.delete(2),yield Mw(e)):t||(e.Gr.add(2),yield Mb(e),e.Jr.set("Unknown"))}),FB.apply(this,arguments)}function Nb(n){return n.Xr||(n.Xr=function(t,e,i){const r=ft(t);return r.Or(),new rwe(e,r.ir,r.authCredentials,r.appCheckCredentials,r.k,i)}(n.datastore,n.asyncQueue,{Di:cwe.bind(null,n),Ni:uwe.bind(null,n),br:dwe.bind(null,n)}),n.zr.push(function(){var t=(0,ke.Z)(function*(e){e?(n.Xr.wr(),DB(n)?wB(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),N7(n))});return function(e){return t.apply(this,arguments)}}())),n.Xr}function Rm(n){return n.Zr||(n.Zr=function(t,e,i){const r=ft(t);return r.Or(),new swe(e,r.ir,r.authCredentials,r.appCheckCredentials,r.k,i)}(n.datastore,n.asyncQueue,{Di:pwe.bind(null,n),Ni:_we.bind(null,n),Nr:mwe.bind(null,n),Cr:gwe.bind(null,n)}),n.zr.push(function(){var t=(0,ke.Z)(function*(e){e?(n.Zr.wr(),yield Ib(n)):(yield n.Zr.stop(),n.Qr.length>0&&(nt("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(e){return t.apply(this,arguments)}}())),n.Zr}class VB{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(t,e,i,r,o){const a=Date.now()+i,u=new VB(t,e,a,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ze(Me.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lb(n,t){if(ns("AsyncQueue",`${t}: ${n}`),nv(n))return new Ze(Me.UNAVAILABLE,`${t}: ${n}`);throw n}class Ob{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Mt.comparator(e.key,i.key):(e,i)=>Mt.comparator(e.key,i.key),this.keyedMap=qV(),this.sortedSet=new vs(this.comparator)}static emptySet(t){return new Ob(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ob)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Ob;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class F7{constructor(){this.eo=new vs(Mt.comparator)}track(t){const e=t.doc.key,i=this.eo.get(e);i?0!==t.type&&3===i.type?this.eo=this.eo.insert(e,t):3===t.type&&1!==i.type?this.eo=this.eo.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.eo=this.eo.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.eo=this.eo.remove(e):1===t.type&&2===i.type?this.eo=this.eo.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):Ot():this.eo=this.eo.insert(e,t)}no(){const t=[];return this.eo.inorderTraversal((e,i)=>{t.push(i)}),t}}class Rb{constructor(t,e,i,r,o,a,u,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=f}static fromInitialDocuments(t,e,i,r){const o=[];return e.forEach(a=>{o.push({type:0,doc:a})}),new Rb(t,e,Ob.emptySet(e),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class vwe{constructor(){this.so=void 0,this.listeners=[]}}class ywe{constructor(){this.queries=new Ab(t=>dz(t),mw),this.onlineState="Unknown",this.io=new Set}}function BB(n,t){return UB.apply(this,arguments)}function UB(){return UB=(0,ke.Z)(function*(n,t){const e=ft(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new vwe),r)try{o.so=yield e.onListen(i)}catch(a){const u=Lb(a,`Initialization of query '${ZV(t.query)}' failed`);return void t.onError(u)}e.queries.set(i,o),o.listeners.push(t),t.ro(e.onlineState),o.so&&t.oo(o.so)&&jB(e)}),UB.apply(this,arguments)}function HB(n,t){return YB.apply(this,arguments)}function YB(){return YB=(0,ke.Z)(function*(n,t){const e=ft(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const a=o.listeners.indexOf(t);a>=0&&(o.listeners.splice(a,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),YB.apply(this,arguments)}function bwe(n,t){const e=ft(n);let i=!1;for(const r of t){const a=e.queries.get(r.query);if(a){for(const u of a.listeners)u.oo(r)&&(i=!0);a.so=r}}i&&jB(e)}function xwe(n,t,e){const i=ft(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function jB(n){n.io.forEach(t=>{t.next()})}class ZB{constructor(t,e,i){this.query=t,this.co=e,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=i||{}}oo(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Rb(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.ao?this.ho(t)&&(this.co.next(t),e=!0):this.lo(t,this.onlineState)&&(this.fo(t),e=!0),this.uo=t,e}onError(t){this.co.error(t)}ro(t){this.onlineState=t;let e=!1;return this.uo&&!this.ao&&this.lo(this.uo,t)&&(this.fo(this.uo),e=!0),e}lo(t,e){return!t.fromCache||!(this.options.wo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}ho(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(t){t=Rb.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.ao=!0,this.co.next(t)}}class Cwe{constructor(t,e){this.payload=t,this.byteLength=e}_o(){return"metadata"in this.payload}}class V7{constructor(t){this.k=t}Hn(t){return ph(this.k,t)}Jn(t){return t.metadata.exists?Uz(this.k,t.document,!1):lr.newNoDocument(this.Hn(t.metadata.name),this.Yn(t.metadata.readTime))}Yn(t){return Vs(t)}}class Twe{constructor(t,e,i){this.mo=t,this.localStore=e,this.k=i,this.queries=[],this.documents=[],this.progress=B7(t)}yo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}po(t){const e=new Map,i=new V7(this.k);for(const r of t)if(r.metadata.queries){const o=i.Hn(r.metadata.name);for(const a of r.metadata.queries){const u=(e.get(a)||yi()).add(o);e.set(a,u)}}return e}complete(){var t=this;return(0,ke.Z)(function*(){const e=yield function GTe(n,t,e,i){return hB.apply(this,arguments)}(t.localStore,new V7(t.k),t.documents,t.mo.id),i=t.po(t.documents);for(const r of t.queries)yield $Te(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",new BTe(Object.assign({},t.progress),e)})()}}function B7(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class U7{constructor(t){this.key=t}}class H7{constructor(t){this.key=t}}class Y7{constructor(t,e){this.query=t,this.To=e,this.Eo=null,this.current=!1,this.Io=yi(),this.mutatedKeys=yi(),this.Ao=hz(t),this.Ro=new Ob(this.Ao)}get bo(){return this.To}Po(t,e){const i=e?e.vo:new F7,r=e?e.Ro:this.Ro;let o=e?e.mutatedKeys:this.mutatedKeys,a=r,u=!1;const f=aI(this.query)&&r.size===this.query.limit?r.last():null,m=lI(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((v,x)=>{const S=r.get(v),k=gw(this.query,x)?x:null,O=!!S&&this.mutatedKeys.has(S.key),U=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let V=!1;S&&k?S.data.isEqual(k.data)?O!==U&&(i.track({type:3,doc:k}),V=!0):this.Vo(S,k)||(i.track({type:2,doc:k}),V=!0,(f&&this.Ao(k,f)>0||m&&this.Ao(k,m)<0)&&(u=!0)):!S&&k?(i.track({type:0,doc:k}),V=!0):S&&!k&&(i.track({type:1,doc:S}),V=!0,(f||m)&&(u=!0)),V&&(k?(a=a.add(k),o=U?o.add(v):o.delete(v)):(a=a.delete(v),o=o.delete(v)))}),aI(this.query)||lI(this.query))for(;a.size>this.query.limit;){const v=aI(this.query)?a.last():a.first();a=a.delete(v.key),o=o.delete(v.key),i.track({type:1,doc:v})}return{Ro:a,vo:i,Bn:u,mutatedKeys:o}}Vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Ro;this.Ro=t.Ro,this.mutatedKeys=t.mutatedKeys;const o=t.vo.no();o.sort((m,v)=>function(x,S){const k=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot()}};return k(x)-k(S)}(m.type,v.type)||this.Ao(m.doc,v.doc)),this.So(i);const a=e?this.Do():[],u=0===this.Io.size&&this.current?1:0,f=u!==this.Eo;return this.Eo=u,0!==o.length||f?{snapshot:new Rb(this.query,t.Ro,r,o,t.mutatedKeys,0===u,f,!1),Co:a}:{Co:a}}ro(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new F7,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(t){return!this.To.has(t)&&!!this.Ro.has(t)&&!this.Ro.get(t).hasLocalMutations}So(t){t&&(t.addedDocuments.forEach(e=>this.To=this.To.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.To=this.To.delete(e)),this.current=t.current)}Do(){if(!this.current)return[];const t=this.Io;this.Io=yi(),this.Ro.forEach(i=>{this.No(i.key)&&(this.Io=this.Io.add(i.key))});const e=[];return t.forEach(i=>{this.Io.has(i)||e.push(new H7(i))}),this.Io.forEach(i=>{t.has(i)||e.push(new U7(i))}),e}ko(t){this.To=t.zn,this.Io=yi();const e=this.Po(t.documents);return this.applyChanges(e,!0)}xo(){return Rb.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class wwe{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Dwe{constructor(t){this.key=t,this.$o=!1}}class Swe{constructor(t,e,i,r,o,a){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Oo={},this.Mo=new Ab(u=>dz(u),mw),this.Fo=new Map,this.Lo=new Set,this.Bo=new vs(Mt.comparator),this.Uo=new Map,this.qo=new pB,this.Ko={},this.jo=new Map,this.Qo=rv.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function Awe(n,t){return GB.apply(this,arguments)}function GB(){return GB=(0,ke.Z)(function*(n,t){const e=pU(n);let i,r;const o=e.Mo.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.xo();else{const a=yield Eb(e.localStore,nu(t)),u=e.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield $B(e,t,i,"current"===u),e.isPrimaryClient&&DI(e.remoteStore,a)}return r}),GB.apply(this,arguments)}function $B(n,t,e,i){return qB.apply(this,arguments)}function qB(){return qB=(0,ke.Z)(function*(n,t,e,i){n.Go=(v,x,S)=>{return(k=(0,ke.Z)(function*(O,U,V,te){let re=U.view.Po(V);re.Bn&&(re=yield xI(O.localStore,U.query,!1).then(({documents:Ve})=>U.view.Po(Ve,re)));const Te=te&&te.targetChanges.get(U.targetId),we=U.view.applyChanges(re,O.isPrimaryClient,Te);return iU(O,U.targetId,we.Co),we.snapshot}),function(O,U,V,te){return k.apply(this,arguments)})(n,v,x,S);var k};const r=yield xI(n.localStore,t,!0),o=new Y7(t,r.zn),a=o.Po(r.documents),u=xw.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),f=o.applyChanges(a,n.isPrimaryClient,u);iU(n,e,f.Co);const m=new wwe(t,e,o);return n.Mo.set(t,m),n.Fo.has(e)?n.Fo.get(e).push(t):n.Fo.set(e,[t]),f.snapshot}),qB.apply(this,arguments)}function Ewe(n,t){return WB.apply(this,arguments)}function WB(){return WB=(0,ke.Z)(function*(n,t){const e=ft(n),i=e.Mo.get(t),r=e.Fo.get(i.targetId);if(r.length>1)return e.Fo.set(i.targetId,r.filter(o=>!mw(o,t))),void e.Mo.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield kb(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Iw(e.remoteStore,i.targetId),Pb(e,i.targetId)}).catch(sv))):(Pb(e,i.targetId),yield kb(e.localStore,i.targetId,!0))}),WB.apply(this,arguments)}function zB(){return zB=(0,ke.Z)(function*(n,t,e){const i=mU(n);try{const r=yield function(o,a){const u=ft(o),f=Fs.now(),m=a.reduce((x,S)=>x.add(S.key),yi());let v;return u.persistence.runTransaction("Locally write mutations","readwrite",x=>u.Wn.vn(x,m).next(S=>{v=S;const k=[];for(const O of a){const U=eTe(O,v.get(O.key));null!=U&&k.push(new Em(O.key,U,rz(U.value.mapValue),rs.exists(!0)))}return u.An.addMutationBatch(x,f,k,a)})).then(x=>(x.applyToLocalDocumentSet(v),{batchId:x.batchId,changes:v}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,u){let f=o.Ko[o.currentUser.toKey()];f||(f=new vs(Bn)),f=f.insert(a,u),o.Ko[o.currentUser.toKey()]=f}(i,r.batchId,e),yield Jf(i,r.changes),yield Ib(i.remoteStore)}catch(r){const o=Lb(r,"Failed to persist write");e.reject(o)}}),zB.apply(this,arguments)}function j7(n,t){return KB.apply(this,arguments)}function KB(){return KB=(0,ke.Z)(function*(n,t){const e=ft(n);try{const i=yield YTe(e.localStore,t);t.targetChanges.forEach((r,o)=>{const a=e.Uo.get(o);a&&(Xt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.$o=!0:r.modifiedDocuments.size>0?Xt(a.$o):r.removedDocuments.size>0&&(Xt(a.$o),a.$o=!1))}),yield Jf(e,i,t)}catch(i){yield sv(i)}}),KB.apply(this,arguments)}function Z7(n,t,e){const i=ft(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.Mo.forEach((o,a)=>{const u=a.view.ro(t);u.snapshot&&r.push(u.snapshot)}),function(o,a){const u=ft(o);u.onlineState=a;let f=!1;u.queries.forEach((m,v)=>{for(const x of v.listeners)x.ro(a)&&(f=!0)}),f&&jB(u)}(i.eventManager,t),r.length&&i.Oo.br(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Mwe(n,t,e){return JB.apply(this,arguments)}function JB(){return JB=(0,ke.Z)(function*(n,t,e){const i=ft(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Uo.get(t),o=r&&r.key;if(o){let a=new vs(Mt.comparator);a=a.insert(o,lr.newNoDocument(o,un.min()));const u=yi().add(o),f=new bw(un.min(),new Map,new Er(Bn),a,u);yield j7(i,f),i.Bo=i.Bo.remove(o),i.Uo.delete(t),rU(i)}else yield kb(i.localStore,t,!1).then(()=>Pb(i,t,e)).catch(sv)}),JB.apply(this,arguments)}function Iwe(n,t){return QB.apply(this,arguments)}function QB(){return QB=(0,ke.Z)(function*(n,t){const e=ft(n),i=t.batch.batchId;try{const r=yield HTe(e.localStore,t);nU(e,i,null),tU(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Jf(e,r)}catch(r){yield sv(r)}}),QB.apply(this,arguments)}function Nwe(n,t,e){return XB.apply(this,arguments)}function XB(){return XB=(0,ke.Z)(function*(n,t,e){const i=ft(n);try{const r=yield function(o,a){const u=ft(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return u.An.lookupMutationBatch(f,a).next(v=>(Xt(null!==v),m=v.keys(),u.An.removeMutationBatch(f,v))).next(()=>u.An.performConsistencyCheck(f)).next(()=>u.Wn.vn(f,m))})}(i.localStore,t);nU(i,t,e),tU(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Jf(i,r)}catch(r){yield sv(r)}}),XB.apply(this,arguments)}function eU(){return eU=(0,ke.Z)(function*(n,t){const e=ft(n);Om(e.remoteStore)||nt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const a=ft(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.An.getHighestUnacknowledgedBatchId(u))}(e.localStore);if(-1===i)return void t.resolve();const r=e.jo.get(i)||[];r.push(t),e.jo.set(i,r)}catch(i){const r=Lb(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),eU.apply(this,arguments)}function tU(n,t){(n.jo.get(t)||[]).forEach(e=>{e.resolve()}),n.jo.delete(t)}function nU(n,t,e){const i=ft(n);let r=i.Ko[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ko[i.currentUser.toKey()]=r}}function Pb(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Fo.get(t))n.Mo.delete(i),e&&n.Oo.zo(i,e);n.Fo.delete(t),n.isPrimaryClient&&n.qo.us(t).forEach(i=>{n.qo.containsKey(i)||G7(n,i)})}function G7(n,t){n.Lo.delete(t.path.canonicalString());const e=n.Bo.get(t);null!==e&&(Iw(n.remoteStore,e),n.Bo=n.Bo.remove(t),n.Uo.delete(e),rU(n))}function iU(n,t,e){for(const i of e)i instanceof U7?(n.qo.addReference(i.key,t),Owe(n,i)):i instanceof H7?(nt("SyncEngine","Document no longer in limbo: "+i.key),n.qo.removeReference(i.key,t),n.qo.containsKey(i.key)||G7(n,i.key)):Ot()}function Owe(n,t){const e=t.key,i=e.path.canonicalString();n.Bo.get(e)||n.Lo.has(i)||(nt("SyncEngine","New document in limbo: "+e),n.Lo.add(i),rU(n))}function rU(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const t=n.Lo.values().next().value;n.Lo.delete(t);const e=new Mt(si.fromString(t)),i=n.Qo.next();n.Uo.set(i,new Dwe(e)),n.Bo=n.Bo.insert(e,i),DI(n.remoteStore,new Mm(nu(pb(e.path)),i,2,Kl.I))}}function Jf(n,t,e){return sU.apply(this,arguments)}function sU(){return sU=(0,ke.Z)(function*(n,t,e){const i=ft(n),r=[],o=[],a=[];var u;i.Mo.isEmpty()||(i.Mo.forEach((u,f)=>{a.push(i.Go(f,t,e).then(m=>{if(m){i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,m.fromCache?"not-current":"current"),r.push(m);const v=lB.$n(f.targetId,m);o.push(v)}}))}),yield Promise.all(a),i.Oo.br(r),yield(u=(0,ke.Z)(function*(f,m){const v=ft(f);try{yield v.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>je.forEach(m,S=>je.forEach(S.kn,k=>v.persistence.referenceDelegate.addReference(x,S.targetId,k)).next(()=>je.forEach(S.xn,k=>v.persistence.referenceDelegate.removeReference(x,S.targetId,k)))))}catch(x){if(!nv(x))throw x;nt("LocalStore","Failed to update sequence numbers: "+x)}for(const x of m){const S=x.targetId;if(!x.fromCache){const k=v.qn.get(S),U=k.withLastLimboFreeSnapshotVersion(k.snapshotVersion);v.qn=v.qn.insert(S,U)}}}),function(f,m){return u.apply(this,arguments)})(i.localStore,o))}),sU.apply(this,arguments)}function Rwe(n,t){return oU.apply(this,arguments)}function oU(){return oU=(0,ke.Z)(function*(n,t){const e=ft(n);if(!e.currentUser.isEqual(t)){nt("SyncEngine","User change. New user:",t.toKey());const i=yield b7(e.localStore,t);e.currentUser=t,(r=e).jo.forEach(a=>{a.forEach(u=>{u.reject(new Ze(Me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.jo.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Jf(e,i.Gn)}var r}),oU.apply(this,arguments)}function Pwe(n,t){const e=ft(n),i=e.Uo.get(t);if(i&&i.$o)return yi().add(i.key);{let r=yi();const o=e.Fo.get(t);if(!o)return r;for(const a of o){const u=e.Mo.get(a);r=r.unionWith(u.view.bo)}return r}}function Fwe(n,t){return aU.apply(this,arguments)}function aU(){return aU=(0,ke.Z)(function*(n,t){const e=ft(n),i=yield xI(e.localStore,t.query,!0),r=t.view.ko(i);return e.isPrimaryClient&&iU(e,t.targetId,r.Co),r}),aU.apply(this,arguments)}function Vwe(n){return lU.apply(this,arguments)}function lU(){return lU=(0,ke.Z)(function*(n){const t=ft(n);return w7(t.localStore).then(e=>Jf(t,e))}),lU.apply(this,arguments)}function Bwe(n,t,e,i){return cU.apply(this,arguments)}function cU(){return cU=(0,ke.Z)(function*(n,t,e,i){const r=ft(n),o=yield function(a,u){const f=ft(a),m=ft(f.An);return f.persistence.runTransaction("Lookup mutation documents","readonly",v=>m.Zt(v,u).next(x=>x?f.Wn.vn(v,x):je.resolve(null)))}(r.localStore,t);var u;null!==o?("pending"===e?yield Ib(r.remoteStore):"acknowledged"===e||"rejected"===e?(nU(r,t,i||null),tU(r,t),u=t,ft(ft(r.localStore).An).ee(u)):Ot(),yield Jf(r,o)):nt("SyncEngine","Cannot apply mutation batch with id: "+t)}),cU.apply(this,arguments)}function uU(){return uU=(0,ke.Z)(function*(n,t){const e=ft(n);if(pU(e),mU(e),!0===t&&!0!==e.Wo){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield $7(e,i.toArray());e.Wo=!0,yield PB(e.remoteStore,!0);for(const o of r)DI(e.remoteStore,o)}else if(!1===t&&!1!==e.Wo){const i=[];let r=Promise.resolve();e.Fo.forEach((o,a)=>{e.sharedClientState.isLocalQueryTarget(a)?i.push(a):r=r.then(()=>(Pb(e,a),kb(e.localStore,a,!0))),Iw(e.remoteStore,a)}),yield r,yield $7(e,i),function(o){const a=ft(o);a.Uo.forEach((u,f)=>{Iw(a.remoteStore,f)}),a.qo.hs(),a.Uo=new Map,a.Bo=new vs(Mt.comparator)}(e),e.Wo=!1,yield PB(e.remoteStore,!1)}}),uU.apply(this,arguments)}function $7(n,t,e){return dU.apply(this,arguments)}function dU(){return dU=(0,ke.Z)(function*(n,t,e){const i=ft(n),r=[],o=[];for(const a of t){let u;const f=i.Fo.get(a);if(f&&0!==f.length){u=yield Eb(i.localStore,nu(f[0]));for(const m of f){const v=i.Mo.get(m),x=yield Fwe(i,v);x.snapshot&&o.push(x.snapshot)}}else{const m=yield T7(i.localStore,a);u=yield Eb(i.localStore,m),yield $B(i,q7(m),a,!1)}r.push(u)}return i.Oo.br(o),r}),dU.apply(this,arguments)}function q7(n){return cz(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Hwe(n){const t=ft(n);return ft(ft(t.localStore).persistence).Tn()}function Ywe(n,t,e,i){return hU.apply(this,arguments)}function hU(){return hU=(0,ke.Z)(function*(n,t,e,i){const r=ft(n);if(r.Wo)nt("SyncEngine","Ignoring unexpected query state notification.");else if(r.Fo.has(t))switch(e){case"current":case"not-current":{const o=yield w7(r.localStore),a=bw.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Jf(r,o,a);break}case"rejected":yield kb(r.localStore,t,!0),Pb(r,t,i);break;default:Ot()}}),hU.apply(this,arguments)}function jwe(n,t,e){return fU.apply(this,arguments)}function fU(){return fU=(0,ke.Z)(function*(n,t,e){const i=pU(n);if(i.Wo){for(const r of t){if(i.Fo.has(r)){nt("SyncEngine","Adding an already active target "+r);continue}const o=yield T7(i.localStore,r),a=yield Eb(i.localStore,o);yield $B(i,q7(o),a.targetId,!1),DI(i.remoteStore,a)}for(const r of e)i.Fo.has(r)&&(yield kb(i.localStore,r,!1).then(()=>{Iw(i.remoteStore,r),Pb(i,r)}).catch(sv))}}),fU.apply(this,arguments)}function pU(n){const t=ft(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=j7.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pwe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Mwe.bind(null,t),t.Oo.br=bwe.bind(null,t.eventManager),t.Oo.zo=xwe.bind(null,t.eventManager),t}function mU(n){const t=ft(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Iwe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Nwe.bind(null,t),t}class W7{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ke.Z)(function*(){e.k=kw(t.databaseInfo.databaseId),e.sharedClientState=e.Jo(t),e.persistence=e.Yo(t),yield e.persistence.start(),e.gcScheduler=e.Xo(t),e.localStore=e.Zo(t)})()}Xo(t){return null}Zo(t){return y7(this.persistence,new v7,t.initialUser,this.k)}Yo(t){return new QTe(mB.ks,this.k)}Jo(t){return new A7}terminate(){var t=this;return(0,ke.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class z7 extends W7{constructor(t,e,i){super(),this.tc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ke.Z)(function*(){yield e().call(i,t),yield function ZTe(n){return dB.apply(this,arguments)}(i.localStore),yield i.tc.initialize(i,t),yield mU(i.tc.syncEngine),yield Ib(i.tc.remoteStore),yield i.persistence.sn(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Zo(t){return y7(this.persistence,new v7,t.initialUser,this.k)}Xo(t){return new LTe(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Yo(t){const e=aB(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?sl.withCacheSize(this.cacheSizeBytes):sl.DEFAULT;return new oB(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,k7(),wI(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(t){return new A7}}class Gwe extends z7{constructor(t,e){super(t,e,!1),this.tc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ke.Z)(function*(){yield e().call(i,t);const r=i.tc.syncEngine;i.sharedClientState instanceof yB&&(i.sharedClientState.syncEngine={mi:Bwe.bind(null,r),gi:Ywe.bind(null,r),yi:jwe.bind(null,r),Tn:Hwe.bind(null,r),_i:Vwe.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.sn(function(){var o=(0,ke.Z)(function*(a){yield function Uwe(n,t){return uU.apply(this,arguments)}(i.tc.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):a||i.gcScheduler.stop())});return function(a){return o.apply(this,arguments)}}())})()}Jo(t){const e=k7();if(!yB.Pt(e))throw new Ze(Me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=aB(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new yB(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class gU{initialize(t,e){var i=this;return(0,ke.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Z7(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Rwe.bind(null,i.syncEngine),yield PB(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new ywe}createDatastore(t){const e=kw(t.databaseInfo.databaseId),i=new iwe(t.databaseInfo);return new owe(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=u=>Z7(this.syncEngine,u,0),a=E7.Pt()?new E7:new ewe,new lwe(e,i,r,o,a);var e,i,r,o,a}createSyncEngine(t,e){return function(i,r,o,a,u,f,m){const v=new Swe(i,r,o,a,u,f);return m&&(v.Wo=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ke.Z)(function*(e){const i=ft(e);nt("RemoteStore","RemoteStore shutting down."),i.Gr.add(5),yield Mb(i),i.Hr.shutdown(),i.Jr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function K7(n,t=10240){let e=0;return{read:()=>(0,ke.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ke.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class AI{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ec(this.observer.next,t)}error(t){this.observer.error?this.ec(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}nc(){this.muted=!0}ec(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class $we{constructor(t,e){this.sc=t,this.k=e,this.metadata=new Ps,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(i=>{i&&i._o()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.sc.cancel()}getMetadata(){var t=this;return(0,ke.Z)(function*(){return t.metadata.promise})()}Ho(){var t=this;return(0,ke.Z)(function*(){return yield t.getMetadata(),t.rc()})()}rc(){var t=this;return(0,ke.Z)(function*(){const e=yield t.oc();if(null===e)return null;const i=t.ic.decode(e),r=Number(i);isNaN(r)&&t.cc(`length string (${i}) is not valid number`);const o=yield t.ac(r);return new Cwe(JSON.parse(o),e.length+r)})()}uc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}oc(){var t=this;return(0,ke.Z)(function*(){for(;t.uc()<0&&!(yield t.hc()););if(0===t.buffer.length)return null;const e=t.uc();e<0&&t.cc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}ac(t){var e=this;return(0,ke.Z)(function*(){for(;e.buffer.length<t;)(yield e.hc())&&e.cc("Reached the end of bundle when more is expected.");const i=e.ic.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}cc(t){throw this.sc.cancel(),new Error(`Invalid bundle format: ${t}`)}hc(){var t=this;return(0,ke.Z)(function*(){const e=yield t.sc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class qwe{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ke.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ze(Me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ke.Z)(function*(o,a){const u=ft(o),f=ww(u.k)+"/documents",m={documents:a.map(k=>Tw(u.k,k))},v=yield u.ji("BatchGetDocuments",f,m),x=new Map;v.forEach(k=>{const O=function hTe(n,t){return"found"in t?function(e,i){Xt(!!i.found);const r=ph(e,i.found.name),o=Vs(i.found.updateTime),a=new Jo({mapValue:{fields:i.found.fields}});return lr.newFoundDocument(r,o,a)}(n,t):"missing"in t?function(e,i){Xt(!!i.missing),Xt(!!i.readTime);const r=ph(e,i.missing),o=Vs(i.readTime);return lr.newNoDocument(r,o)}(n,t):Ot()}(u.k,k);x.set(O.key.toString(),O)});const S=[];return a.forEach(k=>{const O=x.get(k.toString());Xt(!!O),S.push(O)}),S}),function(o,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new yw(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ke.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=Mt.fromPath(r);t.mutations.push(new $V(o,t.precondition(o)))}),yield(i=(0,ke.Z)(function*(r,o){const a=ft(r),u=ww(a.k)+"/documents",f={writes:o.map(m=>mI(a.k,m))};yield a.Bi("Commit",u,f)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Ot();e=un.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ze(Me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?rs.updateTime(e):rs.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(un.min()))throw new Ze(Me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rs.updateTime(e)}return rs.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Wwe{constructor(t,e,i,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=r,this.lc=5,this.ur=new bB(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var t=this;this.ur.Zi((0,ke.Z)(function*(){const e=new qwe(t.datastore),i=t.dc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.wc(o)}))}).catch(r=>{t.wc(r)})}))}dc(t){try{const e=this.updateFunction(t);return!J_(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wc(t){this.lc>0&&this._c(t)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(t)}_c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!Sz(e)}return!1}}class zwe{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=mo.UNAUTHENTICATED,this.clientId=z8.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,ke.Z)(function*(u){nt("FirestoreClient","Received user=",u.uid),yield o.authCredentialListener(u),o.user=u});return function(u){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(nt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var t=this;return(0,ke.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ze(Me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Lb(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function J7(n,t){return _U.apply(this,arguments)}function _U(){return _U=(0,ke.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),nt("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ke.Z)(function*(o){i.isEqual(o)||(yield b7(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),_U.apply(this,arguments)}function Q7(n,t){return vU.apply(this,arguments)}function vU(){return vU=(0,ke.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield yU(n);nt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>P7(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>P7(t.remoteStore,o)),n.onlineComponents=t}),vU.apply(this,arguments)}function yU(n){return bU.apply(this,arguments)}function bU(){return bU=(0,ke.Z)(function*(n){return n.offlineComponents||(nt("FirestoreClient","Using default OfflineComponentProvider"),yield J7(n,new W7)),n.offlineComponents}),bU.apply(this,arguments)}function EI(n){return xU.apply(this,arguments)}function xU(){return xU=(0,ke.Z)(function*(n){return n.onlineComponents||(nt("FirestoreClient","Using default OnlineComponentProvider"),yield Q7(n,new gU)),n.onlineComponents}),xU.apply(this,arguments)}function X7(n){return yU(n).then(t=>t.persistence)}function CU(n){return yU(n).then(t=>t.localStore)}function e9(n){return EI(n).then(t=>t.remoteStore)}function TU(n){return EI(n).then(t=>t.syncEngine)}function Fb(n){return wU.apply(this,arguments)}function wU(){return wU=(0,ke.Z)(function*(n){const t=yield EI(n),e=t.eventManager;return e.onListen=Awe.bind(null,t.syncEngine),e.onUnlisten=Ewe.bind(null,t.syncEngine),e}),wU.apply(this,arguments)}function t9(n,t,e={}){const i=new Ps;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(r,o,a,u,f){const m=new AI({next:x=>{o.enqueueAndForget(()=>HB(r,v));const S=x.docs.has(a);!S&&x.fromCache?f.reject(new Ze(Me.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&x.fromCache&&u&&"server"===u.source?f.reject(new Ze(Me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),v=new ZB(pb(a.path),m,{includeMetadataChanges:!0,wo:!0});return BB(r,v)}(yield Fb(n),n.asyncQueue,t,e,i)})),i.promise}function n9(n,t,e={}){const i=new Ps;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(r,o,a,u,f){const m=new AI({next:x=>{o.enqueueAndForget(()=>HB(r,v)),x.fromCache&&"server"===u.source?f.reject(new Ze(Me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(x)},error:x=>f.reject(x)}),v=new ZB(a,m,{includeMetadataChanges:!0,wo:!0});return BB(r,v)}(yield Fb(n),n.asyncQueue,t,e,i)})),i.promise}class rDe{constructor(t,e,i,r,o,a,u,f){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.useFetchStreams=f}}class Vb{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Vb&&t.projectId===this.projectId&&t.database===this.database}}const i9=new Map;function DU(n,t,e){if(!e)throw new Ze(Me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function r9(n,t,e,i){if(!0===t&&!0===i)throw new Ze(Me.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function s9(n){if(!Mt.isDocumentKey(n))throw new Ze(Me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function o9(n){if(Mt.isDocumentKey(n))throw new Ze(Me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":Ot()}function qn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ze(Me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=kI(n);throw new Ze(Me.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function a9(n,t){if(t<=0)throw new Ze(Me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class l9{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ze(Me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ze(Me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,r9("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Nw{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l9({}),this._settingsFrozen=!1,t instanceof Vb?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ze(Me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vb(r.options.projectId)}(t))}get app(){if(!this._app)throw new Ze(Me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ze(Me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l9(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new ACe;switch(e.type){case"gapi":const i=e.client;return Xt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new ICe(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ze(Me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=i9.get(t);e&&(nt("ComponentProvider","Removing Datastore"),i9.delete(t),e.terminate())}(this),Promise.resolve()}}class zi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gh(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zi(this.firestore,t,this._key)}}class Xo{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Xo(this.firestore,t,this._query)}}class gh extends Xo{constructor(t,e,i){super(t,e,pb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zi(this.firestore,null,new Mt(t))}withConverter(t){return new gh(this.firestore,t,this._path)}}function c9(n,t,...e){if(n=(0,B.m9)(n),DU("collection","path",t),n instanceof Nw){const i=si.fromString(t,...e);return o9(i),new gh(n,null,i)}{if(!(n instanceof zi||n instanceof gh))throw new Ze(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(si.fromString(t,...e));return o9(i),new gh(n.firestore,null,i)}}function MI(n,t,...e){if(n=(0,B.m9)(n),1===arguments.length&&(t=z8.A()),DU("doc","path",t),n instanceof Nw){const i=si.fromString(t,...e);return s9(i),new zi(n,null,new Mt(i))}{if(!(n instanceof zi||n instanceof gh))throw new Ze(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(si.fromString(t,...e));return s9(i),new zi(n.firestore,n instanceof gh?n.converter:null,new Mt(i))}}function u9(n,t){return n=(0,B.m9)(n),t=(0,B.m9)(t),(n instanceof zi||n instanceof gh)&&(t instanceof zi||t instanceof gh)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function d9(n,t){return n=(0,B.m9)(n),t=(0,B.m9)(t),n instanceof Xo&&t instanceof Xo&&n.firestore===t.firestore&&mw(n._query,t._query)&&n.converter===t.converter}class aDe{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new bB(this,"async_queue_retry"),this.bc=()=>{const e=wI();e&&nt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const t=wI();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pc(),this.vc(t)}enterRestrictedMode(t){if(!this.yc){this.yc=!0,this.Ac=t||!1;const e=wI();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.bc)}}enqueue(t){if(this.Pc(),this.yc)return new Promise(()=>{});const e=new Ps;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.gc.push(t),this.Vc()))}Vc(){var t=this;return(0,ke.Z)(function*(){if(0!==t.gc.length){try{yield t.gc[0](),t.gc.shift(),t.ur.reset()}catch(e){if(!nv(e))throw e;nt("AsyncQueue","Operation failed with retryable error: "+e)}t.gc.length>0&&t.ur.Zi(()=>t.Vc())}})()}vc(t){const e=this.mc.then(()=>(this.Ic=!0,t().catch(i=>{throw this.Ec=i,this.Ic=!1,ns("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i)),i}).then(i=>(this.Ic=!1,i))));return this.mc=e,e}enqueueAfterDelay(t,e,i){this.Pc(),this.Rc.indexOf(t)>-1&&(e=0);const r=VB.createAndSchedule(this,t,e,i,o=>this.Sc(o));return this.Tc.push(r),r}Pc(){this.Ec&&Ot()}verifyOperationInProgress(){}Dc(){var t=this;return(0,ke.Z)(function*(){let e;do{e=t.mc,yield e}while(e!==t.mc)})()}Cc(t){for(const e of this.Tc)if(e.timerId===t)return!0;return!1}Nc(t){return this.Dc().then(()=>{this.Tc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Tc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Dc()})}kc(t){this.Rc.push(t)}Sc(t){const e=this.Tc.indexOf(t);this.Tc.splice(e,1)}}function SU(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class lDe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ps,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class cr extends Nw{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new aDe,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||h9(this),this._firestoreClient.terminate()}}function os(n){return n._firestoreClient||h9(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function h9(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new rDe(n._databaseId,o,n._persistenceKey,(u=e).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams));var o,u;n._firestoreClient=new zwe(n._authCredentials,n._appCheckCredentials,n._queue,i)}function f9(n,t,e){const i=new Ps;return n.asyncQueue.enqueue((0,ke.Z)(function*(){try{yield J7(n,e),yield Q7(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(o=r).name?o.code===Me.FAILED_PRECONDITION||o.code===Me.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var o})).then(()=>i.promise)}function p9(n){if(n._initialized||n._terminated)throw new Ze(Me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Qf{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ze(Me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new go(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class _h{constructor(t){this._byteString=t}static fromBase64String(t){try{return new _h(_s.fromBase64String(t))}catch(e){throw new Ze(Me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new _h(_s.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class ov{constructor(t){this._methodName=t}}class II{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ze(Me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ze(Me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Bn(this._lat,t._lat)||Bn(this._long,t._long)}}const vDe=/^__.*__$/;class yDe{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Em(t,this.data,this.fieldMask,e,this.fieldTransforms):new vw(t,this.data,e,this.fieldTransforms)}}class m9{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Em(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function g9(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot()}}class NI{constructor(t,e,i,r,o,a){this.settings=t,this.databaseId=e,this.k=i,this.ignoreUndefinedProperties=r,void 0===o&&this.xc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(t){return new NI(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:i,Fc:!1});return r.Lc(t),r}Bc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:i,Fc:!1});return r.xc(),r}Uc(t){return this.Oc({path:void 0,Fc:!0})}qc(t){return RI(t,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.Lc(this.path.get(t))}Lc(t){if(0===t.length)throw this.qc("Document fields must not be empty");if(g9(this.$c)&&vDe.test(t))throw this.qc('Document fields cannot begin and end with "__"')}}class bDe{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.k=i||kw(t)}Qc(t,e,i,r=!1){return new NI({$c:t,methodName:e,jc:i,path:go.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function av(n){const t=n._freezeSettings(),e=kw(n._databaseId);return new bDe(n._databaseId,!!t.ignoreUndefinedProperties,e)}function LI(n,t,e,i,r,o={}){const a=n.Qc(o.merge||o.mergeFields?2:0,t,e,r);MU("Data must be an object, but it was:",a,i);const u=y9(i,a);let f,m;if(o.merge)f=new ub(a.fieldMask),m=a.fieldTransforms;else if(o.mergeFields){const v=[];for(const x of o.mergeFields){const S=IU(t,x,e);if(!a.contains(S))throw new Ze(Me.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);x9(v,S)||v.push(S)}f=new ub(v),m=a.fieldTransforms.filter(x=>f.covers(x.field))}else f=null,m=a.fieldTransforms;return new yDe(new Jo(u),f,m)}class Lw extends ov{_toFieldTransform(t){if(2!==t.$c)throw t.qc(1===t.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Lw}}function _9(n,t,e){return new NI({$c:3,jc:t.settings.jc,methodName:n._methodName,Fc:e},t.databaseId,t.k,t.ignoreUndefinedProperties)}class AU extends ov{_toFieldTransform(t){return new _w(t.path,new gb)}isEqual(t){return t instanceof AU}}class xDe extends ov{constructor(t,e){super(t),this.Wc=e}_toFieldTransform(t){const e=_9(this,t,!0),i=this.Wc.map(o=>lv(o,e)),r=new X_(i);return new _w(t.path,r)}isEqual(t){return this===t}}class CDe extends ov{constructor(t,e){super(t),this.Wc=e}_toFieldTransform(t){const e=_9(this,t,!0),i=this.Wc.map(o=>lv(o,e)),r=new ev(i);return new _w(t.path,r)}isEqual(t){return this===t}}class TDe extends ov{constructor(t,e){super(t),this.Gc=e}_toFieldTransform(t){const e=new _b(t.k,mz(t.k,this.Gc));return new _w(t.path,e)}isEqual(t){return this===t}}function EU(n,t,e,i){const r=n.Qc(1,t,e);MU("Data must be an object, but it was:",r,i);const o=[],a=Jo.empty();K_(i,(f,m)=>{const v=OI(t,f,e);m=(0,B.m9)(m);const x=r.Bc(v);if(m instanceof Lw)o.push(v);else{const S=lv(m,x);null!=S&&(o.push(v),a.set(v,S))}});const u=new ub(o);return new m9(a,u,r.fieldTransforms)}function kU(n,t,e,i,r,o){const a=n.Qc(1,t,e),u=[IU(t,i,e)],f=[r];if(o.length%2!=0)throw new Ze(Me.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<o.length;S+=2)u.push(IU(t,o[S])),f.push(o[S+1]);const m=[],v=Jo.empty();for(let S=u.length-1;S>=0;--S)if(!x9(m,u[S])){const k=u[S];let O=f[S];O=(0,B.m9)(O);const U=a.Bc(k);if(O instanceof Lw)m.push(k);else{const V=lv(O,U);null!=V&&(m.push(k),v.set(k,V))}}const x=new ub(m);return new m9(v,x,a.fieldTransforms)}function v9(n,t,e,i=!1){return lv(e,n.Qc(i?4:3,t))}function lv(n,t){if(b9(n=(0,B.m9)(n)))return MU("Unsupported field value:",t,n),y9(n,t);if(n instanceof ov)return function(e,i){if(!g9(i.$c))throw i.qc(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qc(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const a of e){let u=lv(a,i.Uc(o));null==u&&(u={nullValue:"NULL_VALUE"}),r.push(u),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,B.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return mz(i.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Fs.fromDate(e);return{timestampValue:Cw(i.k,r)}}if(e instanceof Fs){const r=new Fs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Cw(i.k,r)}}if(e instanceof II)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof _h)return{bytesValue:Rz(i.k,e._byteString)};if(e instanceof zi){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.qc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:WV(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.qc(`Unsupported field value: ${kI(e)}`)}(n,t)}function y9(n,t){const e={};return Q8(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):K_(n,(i,r)=>{const o=lv(r,t.Mc(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function b9(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Fs||n instanceof II||n instanceof _h||n instanceof zi||n instanceof ov)}function MU(n,t,e){if(!b9(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=kI(e);throw t.qc("an object"===i?n+" a custom object":n+" "+i)}var i}function IU(n,t,e){if((t=(0,B.m9)(t))instanceof Qf)return t._internalPath;if("string"==typeof t)return OI(n,t);throw RI("Field path arguments must be of type string or ",n,!1,void 0,e)}const wDe=new RegExp("[~\\*/\\[\\]]");function OI(n,t,e){if(t.search(wDe)>=0)throw RI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Qf(...t.split("."))._internalPath}catch{throw RI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function RI(n,t,e,i,r){const o=i&&!i.isEmpty(),a=void 0!==r;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||a)&&(f+=" (found",o&&(f+=` in field ${i}`),a&&(f+=` in document ${r}`),f+=")"),new Ze(Me.INVALID_ARGUMENT,u+n+f)}function x9(n,t){return n.some(e=>e.isEqual(t))}class Ow{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new DDe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(PI("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class DDe extends Ow{data(){return super.data()}}function PI(n,t){return"string"==typeof t?OI(n,t):t instanceof Qf?t._internalPath:t._delegate._internalPath}class cv{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Xf extends Ow{constructor(t,e,i,r,o,a){super(t,e,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Rw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(PI("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Rw extends Xf{data(t={}){return super.data(t)}}class Pm{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new cv(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Rw(this._firestore,this._userDataWriter,i.key,i,new cv(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ze(Me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Rw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cv(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const u=new Rw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cv(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return 0!==a.type&&(f=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),m=o.indexOf(a.doc.key)),{type:SDe(a.type),doc:u,oldIndex:f,newIndex:m}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function SDe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot()}}function C9(n,t){return n instanceof Xf&&t instanceof Xf?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Pm&&t instanceof Pm&&n._firestore===t._firestore&&d9(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function T9(n){if(lI(n)&&0===n.explicitOrderBy.length)throw new Ze(Me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pw{}function Fm(n,...t){for(const e of t)n=e._apply(n);return n}class ADe extends Pw{constructor(t,e,i){super(),this.zc=t,this.Hc=e,this.Jc=i,this.type="where"}_apply(t){const e=av(t.firestore),i=function(r,o,a,u,f,m,v){let x;if(f.isKeyField()){if("array-contains"===m||"array-contains-any"===m)throw new Ze(Me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if("in"===m||"not-in"===m){k9(v,m);const k=[];for(const O of v)k.push(E9(u,r,O));x={arrayValue:{values:k}}}else x=E9(u,r,v)}else"in"!==m&&"not-in"!==m&&"array-contains-any"!==m||k9(v,m),x=v9(a,"where",v,"in"===m||"not-in"===m);const S=Da.create(f,m,x);return function(k,O){if(O.V()){const V=YV(k);if(null!==V&&!V.isEqual(O.field))throw new Ze(Me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${V.toString()}' and '${O.field.toString()}'`);const te=HV(k);null!==te&&M9(0,O.field,te)}const U=function(V,te){for(const re of V.filters)if(te.indexOf(re.op)>=0)return re.op;return null}(k,function(V){switch(V){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(O.op));if(null!==U)throw new Ze(Me.INVALID_ARGUMENT,U===O.op?`Invalid query. You cannot use more than one '${O.op.toString()}' filter.`:`Invalid query. You cannot use '${O.op.toString()}' filters with '${U.toString()}' filters.`)}(r,S),S}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Xo(t.firestore,t.converter,function(r,o){const a=r.filters.concat([o]);return new Wf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),a,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class kDe extends Pw{constructor(t,e){super(),this.zc=t,this.Yc=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Ze(Me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ze(Me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new fb(r,o);return function(u,f){if(null===HV(u)){const m=YV(u);null!==m&&M9(0,m,f.field)}}(i,a),a}(t._query,this.zc,this.Yc);return new Xo(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Wf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class w9 extends Pw{constructor(t,e,i){super(),this.type=t,this.Xc=e,this.Zc=i}_apply(t){return new Xo(t.firestore,t.converter,uz(t._query,this.Xc,this.Zc))}}class D9 extends Pw{constructor(t,e,i){super(),this.type=t,this.ta=e,this.ea=i}_apply(t){const e=A9(t,this.type,this.ta,this.ea);return new Xo(t.firestore,t.converter,(r=e,new Wf((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class S9 extends Pw{constructor(t,e,i){super(),this.type=t,this.ta=e,this.ea=i}_apply(t){const e=A9(t,this.type,this.ta,this.ea);return new Xo(t.firestore,t.converter,(r=e,new Wf((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function A9(n,t,e,i){if(e[0]=(0,B.m9)(e[0]),e[0]instanceof Ow)return function(r,o,a,u,f){if(!u)throw new Ze(Me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const m=[];for(const v of mb(r))if(v.field.isKeyField())m.push(nI(o,u.key));else{const x=u.data.field(v.field);if(PV(x))throw new Ze(Me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const S=v.field.canonicalString();throw new Ze(Me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}m.push(x)}return new pw(m,f)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=av(n.firestore);return function(o,a,u,f,m,v){const x=o.explicitOrderBy;if(m.length>x.length)throw new Ze(Me.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let k=0;k<m.length;k++){const O=m[k];if(x[k].field.isKeyField()){if("string"!=typeof O)throw new Ze(Me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof O}`);if(!jV(o)&&-1!==O.indexOf("/"))throw new Ze(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${O}' contains a slash.`);const U=o.path.child(si.fromString(O));if(!Mt.isDocumentKey(U))throw new Ze(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${U}' is not because it contains an odd number of segments.`);const V=new Mt(U);S.push(nI(a,V))}else{const U=v9(u,f,O);S.push(U)}}return new pw(S,v)}(n._query,n.firestore._databaseId,r,t,e,i)}}function E9(n,t,e){if("string"==typeof(e=(0,B.m9)(e))){if(""===e)throw new Ze(Me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jV(t)&&-1!==e.indexOf("/"))throw new Ze(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(si.fromString(e));if(!Mt.isDocumentKey(i))throw new Ze(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return nI(n,new Mt(i))}if(e instanceof zi)return nI(n,e._key);throw new Ze(Me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kI(e)}.`)}function k9(n,t){if(!Array.isArray(n)||0===n.length)throw new Ze(Me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ze(Me.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function M9(n,t,e){if(!e.isEqual(t))throw new Ze(Me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class NU{convertValue(t,e="none"){switch(Q_(t)){case 0:return null;case 1:return t.booleanValue;case 2:return is(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(db(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ot()}}convertObject(t,e){const i={};return K_(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new II(is(t.latitude),is(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=X8(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(uw(t));default:return null}}convertTimestamp(t){const e=Am(t);return new Fs(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=si.fromString(t);Xt(Wz(i));const r=new Vb(i.get(1),i.get(3)),o=new Mt(i.popFirst(5));return r.isEqual(e)||ns(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function FI(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class FDe extends NU{constructor(t){super(),this.firestore=t}convertBytes(t){return new _h(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new zi(this.firestore,null,e)}}class I9{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=av(t)}set(t,e,i){this._verifyNotCommitted();const r=Vm(t,this._firestore),o=FI(r.converter,e,i),a=LI(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(a.toMutation(r._key,rs.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Vm(t,this._firestore);let a;return a="string"==typeof(e=(0,B.m9)(e))||e instanceof Qf?kU(this._dataReader,"WriteBatch.update",o._key,e,i,r):EU(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(a.toMutation(o._key,rs.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Vm(t,this._firestore);return this._mutations=this._mutations.concat(new yw(e._key,rs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ze(Me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vm(n,t){if((n=(0,B.m9)(n)).firestore!==t)throw new Ze(Me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class uv extends NU{constructor(t){super(),this.firestore=t}convertBytes(t){return new _h(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new zi(this.firestore,null,e)}}function N9(n,t,e){n=qn(n,zi);const i=qn(n.firestore,cr),r=FI(n.converter,t,e);return Bb(i,[LI(av(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,rs.none())])}function L9(n,t,e,...i){n=qn(n,zi);const r=qn(n.firestore,cr),o=av(r);let a;return a="string"==typeof(t=(0,B.m9)(t))||t instanceof Qf?kU(o,"updateDoc",n._key,t,e,i):EU(o,"updateDoc",n._key,t),Bb(r,[a.toMutation(n._key,rs.exists(!0))])}function O9(n,...t){var e,i,r;n=(0,B.m9)(n);let o={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||SU(t[a])||(o=t[a],a++);const u={includeMetadataChanges:o.includeMetadataChanges};if(SU(t[a])){const x=t[a];t[a]=null===(e=x.next)||void 0===e?void 0:e.bind(x),t[a+1]=null===(i=x.error)||void 0===i?void 0:i.bind(x),t[a+2]=null===(r=x.complete)||void 0===r?void 0:r.bind(x)}let f,m,v;if(n instanceof zi)m=qn(n.firestore,cr),v=pb(n._key.path),f={next:x=>{t[a]&&t[a](LU(m,n,x))},error:t[a+1],complete:t[a+2]};else{const x=qn(n,Xo);m=qn(x.firestore,cr),v=x._query;const S=new uv(m);f={next:k=>{t[a]&&t[a](new Pm(m,S,x,k))},error:t[a+1],complete:t[a+2]},T9(n._query)}return function(x,S,k,O){const U=new AI(O),V=new ZB(S,U,k);return x.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return BB(yield Fb(x),V)})),()=>{U.nc(),x.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return HB(yield Fb(x),V)}))}}(os(m),v,u,f)}function Bb(n,t){return function(e,i){const r=new Ps;return e.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function kwe(n,t,e){return zB.apply(this,arguments)}(yield TU(e),i,r)})),r.promise}(os(n),t)}function LU(n,t,e){const i=e.docs.get(t._key),r=new uv(n);return new Xf(n,r,t._key,i,new cv(e.hasPendingWrites,e.fromCache),t.converter)}class qDe extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=av(t)}get(t){const e=Vm(t,this._firestore),i=new FDe(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return Ot();const o=r[0];if(o.isFoundDocument())return new Ow(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new Ow(this._firestore,i,e._key,null,e.converter);throw Ot()})}set(t,e,i){const r=Vm(t,this._firestore),o=FI(r.converter,e,i),a=LI(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,a),this}update(t,e,i,...r){const o=Vm(t,this._firestore);let a;return a="string"==typeof(e=(0,B.m9)(e))||e instanceof Qf?kU(this._dataReader,"Transaction.update",o._key,e,i,r):EU(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,a),this}delete(t){const e=Vm(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Vm(t,this._firestore),i=new uv(this._firestore);return super.get(t).then(r=>new Xf(this._firestore,i,e._key,r._document,new cv(!1,!1),e.converter))}}function RU(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ze("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function P9(){if(typeof Uint8Array>"u")throw new Ze("unimplemented","Uint8Arrays are not available in this environment.")}function F9(){if(!function RCe(){return typeof atob<"u"}())throw new Ze("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){lb=Sr.SDK_VERSION,(0,Sr._registerComponent)(new za.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=new cr(r,new kCe(e.getProvider("auth-internal")),new NCe(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC")),(0,Sr.registerVersion)($8,"3.4.4",n),(0,Sr.registerVersion)($8,"3.4.4","esm2017")}();class Fw{constructor(t){this._delegate=t}static fromBase64String(t){return F9(),new Fw(_h.fromBase64String(t))}static fromUint8Array(t){return P9(),new Fw(_h.fromUint8Array(t))}toBase64(){return F9(),this._delegate.toBase64()}toUint8Array(){return P9(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function PU(n){return function nSe(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class iSe{enableIndexedDbPersistence(t,e){return function uDe(n,t){p9(n=qn(n,cr));const e=os(n),i=n._freezeSettings(),r=new gU;return f9(e,r,new z7(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function dDe(n){p9(n=qn(n,cr));const t=os(n),e=n._freezeSettings(),i=new gU;return f9(t,i,new Gwe(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function hDe(n){if(n._initialized&&!n._terminated)throw new Ze(Me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ps;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{yield(e=(0,ke.Z)(function*(i){if(!Ju.Pt())return Promise.resolve();const r=i+"main";yield Ju.delete(r)}),function(i){return e.apply(this,arguments)})(aB(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class V9{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Vb||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&lw("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function sDe(n,t,e,i={}){var r;const o=(n=qn(n,Nw))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&lw("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let a,u;if("string"==typeof i.mockUserToken)a=i.mockUserToken,u=mo.MOCK_USER;else{a=(0,B.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new Ze(Me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new mo(f)}n._authCredentials=new ECe(new q8(a,u))}}(this._delegate,t,e,i)}enableNetwork(){return function pDe(n){return function Kwe(n){return n.asyncQueue.enqueue((0,ke.Z)(function*(){const t=yield X7(n),e=yield e9(n);return t.setNetworkEnabled(!0),function(i){const r=ft(i);return r.Gr.delete(0),Mw(r)}(e)}))}(os(n=qn(n,cr)))}(this._delegate)}disableNetwork(){return function mDe(n){return function Jwe(n){return n.asyncQueue.enqueue((0,ke.Z)(function*(){const t=yield X7(n),e=yield e9(n);return t.setNetworkEnabled(!1),(i=(0,ke.Z)(function*(r){const o=ft(r);o.Gr.add(0),yield Mb(o),o.Jr.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(os(n=qn(n,cr)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,r9("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function fDe(n){return function(t){const e=new Ps;return t.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function Lwe(n,t){return eU.apply(this,arguments)}(yield TU(t),e)})),e.promise}(os(n=qn(n,cr)))}(this._delegate)}onSnapshotsInSync(t){return function $De(n,t){return function eDe(n,t){const e=new AI(t);return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return i=yield Fb(n),r=e,ft(i).io.add(r),void r.next();var i,r})),()=>{e.nc(),n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return i=yield Fb(n),r=e,void ft(i).io.delete(r);var i,r}))}}(os(n=qn(n,cr)),SU(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ze("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Ub(this,c9(this._delegate,t))}catch(e){throw Sa(e,"collection()","Firestore.collection()")}}doc(t){try{return new ru(this,MI(this._delegate,t))}catch(e){throw Sa(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Aa(this,function oDe(n,t){if(n=qn(n,Nw),DU("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ze(Me.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xo(n,null,(e=t,new Wf(si.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Sa(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function WDe(n,t){return function tDe(n,t){const e=new Ps;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){const i=yield(r=n,EI(r).then(o=>o.datastore));var r;new Wwe(n.asyncQueue,i,t,e).run()})),e.promise}(os(n=qn(n,cr)),e=>t(new qDe(n,e)))}(this._delegate,e=>t(new B9(this,e)))}batch(){return os(this._delegate),new U9(new I9(this._delegate,t=>Bb(this._delegate,t)))}loadBundle(t){return function gDe(n,t){const e=os(n=qn(n,cr)),i=new lDe;return function nDe(n,t,e,i){const r=function(o,a){let u;return u="string"==typeof o?(new TextEncoder).encode(o):o,f=function(f,m){if(f instanceof Uint8Array)return K7(f,m);if(f instanceof ArrayBuffer)return K7(new Uint8Array(f),m);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new $we(f,a);var f}(e,kw(t));n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){!function Zwe(n,t,e){const i=ft(n);var r;(r=(0,ke.Z)(function*(o,a,u){try{const f=yield a.getMetadata();if(yield function(S,k){const O=ft(S),U=Vs(k.createTime);return O.persistence.runTransaction("hasNewerBundle","readonly",V=>O.Ye.getBundleMetadata(V,k.id)).then(V=>!!V&&V.createTime.compareTo(U)>=0)}(o.localStore,f))return yield a.close(),void u._completeWith((S=f,{taskState:"Success",documentsLoaded:S.totalDocuments,bytesLoaded:S.totalBytes,totalDocuments:S.totalDocuments,totalBytes:S.totalBytes}));u._updateProgress(B7(f));const m=new Twe(f,o.localStore,a.k);let v=yield a.Ho();for(;v;){const S=yield m.yo(v);S&&u._updateProgress(S),v=yield a.Ho()}const x=yield m.complete();yield Jf(o,x.In,void 0),yield function(S,k){const O=ft(S);return O.persistence.runTransaction("Save bundle","readwrite",U=>O.Ye.saveBundleMetadata(U,k))}(o.localStore,f),u._completeWith(x.progress)}catch(f){lw("SyncEngine",`Loading bundle failed with ${f}`),u._failWith(f)}var S}),function(o,a,u){return r.apply(this,arguments)})(i,t,e).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield TU(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function _De(n,t){return function iDe(n,t){return n.asyncQueue.enqueue((0,ke.Z)(function*(){return function(e,i){const r=ft(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ye.getNamedQuery(o,i))}(yield CU(n),t)}))}(os(n=qn(n,cr)),t).then(e=>e?new Xo(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Aa(this,e):null)}}class VI extends NU{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fw(new _h(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ru.forKey(e,this.firestore,null)}}class B9{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new VI(t)}get(t){const e=hv(t);return this._delegate.get(e).then(i=>new Vw(this._firestore,new Xf(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=hv(t);return i?(RU("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=hv(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=hv(t);return this._delegate.delete(e),this}}class U9{constructor(t){this._delegate=t}set(t,e,i){const r=hv(t);return i?(RU("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=hv(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=hv(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class dv{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Rw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Bw(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=dv.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new dv(t,new VI(t),e),r.set(e,o)),o}}dv.INSTANCES=new WeakMap;class ru{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new VI(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ze("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ru(e,new zi(e._delegate,i,new Mt(t)))}static forKey(t,e,i){return new ru(e,new zi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Ub(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Ub(this.firestore,c9(this._delegate,t))}catch(e){throw Sa(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,B.m9)(t))instanceof zi&&u9(this._delegate,t)}set(t,e){e=RU("DocumentReference.set",e);try{return e?N9(this._delegate,t,e):N9(this._delegate,t)}catch(i){throw Sa(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?L9(this._delegate,t):L9(this._delegate,t,e,...i)}catch(r){throw Sa(r,"updateDoc()","DocumentReference.update()")}}delete(){return function ZDe(n){return Bb(qn(n.firestore,cr),[new yw(n._key,rs.none())])}(this._delegate)}onSnapshot(...t){const e=H9(t),i=Y9(t,r=>new Vw(this.firestore,new Xf(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return O9(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function BDe(n){n=qn(n,zi);const t=qn(n.firestore,cr),e=os(t),i=new uv(t);return function Qwe(n,t){const e=new Ps;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(i=(0,ke.Z)(function*(r,o,a){try{const u=yield function(f,m){const v=ft(f);return v.persistence.runTransaction("read document","readonly",x=>v.Wn.Rn(x,m))}(r,o);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new Ze(Me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const f=Lb(u,`Failed to get document '${o} from cache`);a.reject(f)}}),function(r,o,a){return i.apply(this,arguments)})(yield CU(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Xf(t,i,n._key,r,new cv(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function UDe(n){n=qn(n,zi);const t=qn(n.firestore,cr);return t9(os(t),n._key,{source:"server"}).then(e=>LU(t,n,e))}(this._delegate):function VDe(n){n=qn(n,zi);const t=qn(n.firestore,cr);return t9(os(t),n._key).then(e=>LU(t,n,e))}(this._delegate),e.then(i=>new Vw(this.firestore,new Xf(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new ru(this.firestore,this._delegate.withConverter(t?dv.getInstance(this.firestore,t):null))}}function Sa(n,t,e){return n.message=n.message.replace(t,e),n}function H9(n){for(const t of n)if("object"==typeof t&&!PU(t))return t;return{}}function Y9(n,t){var e,i;let r;return r=PU(n[0])?n[0]:PU(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Vw{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ru(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return C9(this._delegate,t._delegate)}}class Bw extends Vw{data(t){const e=this._delegate.data(t);return function SCe(n,t){n||Ot()}(void 0!==e),e}}class Aa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new VI(t)}where(t,e,i){try{return new Aa(this.firestore,Fm(this._delegate,function EDe(n,t,e){const i=t,r=PI("where",n);return new ADe(r,i,e)}(t,e,i)))}catch(r){throw Sa(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Aa(this.firestore,Fm(this._delegate,function MDe(n,t="asc"){const e=t,i=PI("orderBy",n);return new kDe(i,e)}(t,e)))}catch(i){throw Sa(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Aa(this.firestore,Fm(this._delegate,function IDe(n){return a9("limit",n),new w9("limit",n,"F")}(t)))}catch(e){throw Sa(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Aa(this.firestore,Fm(this._delegate,function NDe(n){return a9("limitToLast",n),new w9("limitToLast",n,"L")}(t)))}catch(e){throw Sa(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Aa(this.firestore,Fm(this._delegate,function LDe(...n){return new D9("startAt",n,!0)}(...t)))}catch(e){throw Sa(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Aa(this.firestore,Fm(this._delegate,function ODe(...n){return new D9("startAfter",n,!1)}(...t)))}catch(e){throw Sa(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Aa(this.firestore,Fm(this._delegate,function RDe(...n){return new S9("endBefore",n,!0)}(...t)))}catch(e){throw Sa(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Aa(this.firestore,Fm(this._delegate,function PDe(...n){return new S9("endAt",n,!1)}(...t)))}catch(e){throw Sa(e,"endAt()","Query.endAt()")}}isEqual(t){return d9(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function YDe(n){n=qn(n,Xo);const t=qn(n.firestore,cr),e=os(t),i=new uv(t);return function Xwe(n,t){const e=new Ps;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(i=(0,ke.Z)(function*(r,o,a){try{const u=yield xI(r,o,!0),f=new Y7(o,u.zn),m=f.Po(u.documents),v=f.applyChanges(m,!1);a.resolve(v.snapshot)}catch(u){const f=Lb(u,`Failed to execute query '${o} against cache`);a.reject(f)}}),function(r,o,a){return i.apply(this,arguments)})(yield CU(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Pm(t,i,n,r))}(this._delegate):"server"===t?.source?function jDe(n){n=qn(n,Xo);const t=qn(n.firestore,cr),e=os(t),i=new uv(t);return n9(e,n._query,{source:"server"}).then(r=>new Pm(t,i,n,r))}(this._delegate):function HDe(n){n=qn(n,Xo);const t=qn(n.firestore,cr),e=os(t),i=new uv(t);return T9(n._query),n9(e,n._query).then(r=>new Pm(t,i,n,r))}(this._delegate),e.then(i=>new FU(this.firestore,new Pm(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=H9(t),i=Y9(t,r=>new FU(this.firestore,new Pm(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return O9(this._delegate,e,i)}withConverter(t){return new Aa(this.firestore,this._delegate.withConverter(t?dv.getInstance(this.firestore,t):null))}}class sSe{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Bw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class FU{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Aa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Bw(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new sSe(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Bw(this._firestore,i))})}isEqual(t){return C9(this._delegate,t._delegate)}}class Ub extends Aa{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ru(this.firestore,t):null}doc(t){try{return new ru(this.firestore,void 0===t?MI(this._delegate):MI(this._delegate,t))}catch(e){throw Sa(e,"doc()","CollectionReference.doc()")}}add(t){return function GDe(n,t){const e=qn(n.firestore,cr),i=MI(n),r=FI(n.converter,t);return Bb(e,[LI(av(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,rs.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new ru(this.firestore,e))}isEqual(t){return u9(this._delegate,t._delegate)}withConverter(t){return new Ub(this.firestore,this._delegate.withConverter(t?dv.getInstance(this.firestore,t):null))}}function hv(n){return qn(n,zi)}class VU{constructor(...t){this._delegate=new Qf(...t)}static documentId(){return new VU(go.keyField().canonicalString())}isEqual(t){return(t=(0,B.m9)(t))instanceof Qf&&this._delegate._internalPath.isEqual(t._internalPath)}}class fv{constructor(t){this._delegate=t}static serverTimestamp(){const t=function KDe(){return new AU("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new fv(t)}static delete(){const t=function zDe(){return new Lw("deleteField")}();return t._methodName="FieldValue.delete",new fv(t)}static arrayUnion(...t){const e=function JDe(...n){return new xDe("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new fv(e)}static arrayRemove(...t){const e=function QDe(...n){return new CDe("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new fv(e)}static increment(t){const e=function XDe(n){return new TDe("increment",n)}(t);return e._methodName="FieldValue.increment",new fv(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const oSe={Firestore:V9,GeoPoint:II,Timestamp:Fs,Blob:Fw,Transaction:B9,WriteBatch:U9,DocumentReference:ru,DocumentSnapshot:Vw,Query:Aa,QueryDocumentSnapshot:Bw,QuerySnapshot:FU,CollectionReference:Ub,FieldPath:VU,FieldValue:fv,setLogLevel:function rSe(n){!function DCe(n){Sm.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function j9(n,t){return function cSe(n,t=mx.z){return new Es.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function BU(n,t){return j9(n,t).pipe(ir(e=>({payload:e,type:"query"})))}function BI(n,t){return BU(n,t).pipe(H3(void 0),Y3(),ir(([e,i])=>{const r=i.payload.docChanges(),o=r.map(a=>({type:a.type,payload:a}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const f=r.find(v=>v.doc.ref.isEqual(a.ref)),m=e?.payload.docs.find(v=>v.ref.isEqual(a.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(a.metadata)||!f&&m&&JSON.stringify(m.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),o}))}function Z9(n,t,e){return BI(n,e).pipe(Yg((i,r)=>function dSe(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function hSe(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return UU(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return UU(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return UU(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),Cx(),ir(i=>i.map(r=>({type:r.type,payload:r}))))}function UU(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function G9(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function lSe(n){(function aSe(n,t){n.INTERNAL.registerComponent(new za.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},oSe)))})(n,(t,e)=>new V9(t,e,new iSe)),n.registerVersion("@firebase/firestore-compat","0.1.13")}(Ax.Z);class $9{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=BI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(ir(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(H3(void 0),Y3(),BE(([i,r])=>r.length>0||!i),ir(([i,r])=>r),zn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Yg((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=G9(t);return Z9(this.query,e,this.afs.schedulers.outsideAngular).pipe(zn.iC)}valueChanges(t={}){return BU(this.query,this.afs.schedulers.outsideAngular).pipe(ir(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),zn.iC)}get(t){return io(this.query.get(t)).pipe(zn.iC)}add(t){return this.ref.add(t)}doc(t){return new q9(this.ref.doc(t),this.afs)}}class q9{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=K9(i,e);return new $9(r,o,this.afs)}snapshotChanges(){return function uSe(n,t){return j9(n,t).pipe(H3(void 0),Y3(),ir(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(zn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe(ir(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return io(this.ref.get(t)).pipe(zn.iC)}}class fSe{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?BI(this.query,this.afs.schedulers.outsideAngular).pipe(ir(e=>e.filter(i=>t.indexOf(i.type)>-1)),BE(e=>e.length>0),zn.iC):BI(this.query,this.afs.schedulers.outsideAngular).pipe(zn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Yg((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=G9(t);return Z9(this.query,e,this.afs.schedulers.outsideAngular).pipe(zn.iC)}valueChanges(t={}){return BU(this.query,this.afs.schedulers.outsideAngular).pipe(ir(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),zn.iC)}get(t){return io(this.query.get(t)).pipe(zn.iC)}}const W9=new s.OlP("angularfire2.enableFirestorePersistence"),z9=new s.OlP("angularfire2.firestore.persistenceSettings"),pSe=new s.OlP("angularfire2.firestore.settings"),mSe=new s.OlP("angularfire2.firestore.use-emulator");function K9(n,t=(e=>e)){return{query:t(n),ref:n}}let gSe=(()=>{class n{constructor(e,i,r,o,a,u,f,m,v,x,S,k,O,U,V,te,re){this.schedulers=f;const Te=(0,jr.on)(e,u,i),we=v;x&&VP(Te,u,S,O,U,V,k,te),[this.firestore,this.persistenceEnabled$]=(0,jr.cc)(`${Te.name}.firestore`,"AngularFirestore",Te.name,()=>{const Ve=u.runOutsideAngular(()=>Te.firestore());if(o&&Ve.settings(o),we&&Ve.useEmulator(...we),r&&!fr(a)){const Pe=()=>{try{return io(Ve.enablePersistence(m||void 0).then(()=>!0,()=>!1))}catch(ct){return typeof console<"u"&&console.warn(ct),(0,Mc.of)(!1)}};return[Ve,u.runOutsideAngular(Pe)]}return[Ve,(0,Mc.of)(!1)]},[o,we,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:a}=K9(r,i),u=this.schedulers.ngZone.run(()=>o);return new $9(u,a,this)}collectionGroup(e,i){const r=i||(a=>a),o=this.firestore.collectionGroup(e);return new fSe(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new q9(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(jr.Dh),s.LFG(jr.xv,8),s.LFG(W9,8),s.LFG(pSe,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(zn.HU),s.LFG(z9,8),s.LFG(mSe,8),s.LFG(l_,8),s.LFG(NP,8),s.LFG(LP,8),s.LFG(OP,8),s.LFG(RP,8),s.LFG(PP,8),s.LFG(FP,8),s.LFG(HC,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_Se=(()=>{class n{constructor(){WE.Z.registerVersion("angularfire",zn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:W9,useValue:!0},{provide:z9,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[gSe]}),n})();function J9(n){return new s.vHH(3e3,!1)}function QSe(){return typeof window<"u"&&typeof window.document<"u"}function HU(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Bm(n){switch(n.length){case 0:return new sT;case 1:return n[0];default:return new YZ(n)}}function Q9(n,t,e,i,r=new Map,o=new Map){const a=[],u=[];let f=-1,m=null;if(i.forEach(v=>{const x=v.get("offset"),S=x==f,k=S&&m||new Map;v.forEach((O,U)=>{let V=U,te=O;if("offset"!==U)switch(V=t.normalizePropertyName(V,a),te){case"!":te=r.get(U);break;case Ef:te=o.get(U);break;default:te=t.normalizeStyleValue(U,V,te,a)}k.set(V,te)}),S||u.push(k),m=k,f=x}),a.length)throw function USe(n){return new s.vHH(3502,!1)}();return u}function YU(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&jU(e,"start",n)));break;case"done":n.onDone(()=>i(e&&jU(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&jU(e,"destroy",n)))}}function jU(n,t,e){const o=ZU(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(o._data=a),o}function ZU(n,t,e,i,r="",o=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function Xl(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function X9(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let GU=(n,t)=>!1,eK=(n,t,e)=>[],tK=null;function $U(n){const t=n.parentNode||n.host;return t===tK?null:t}(HU()||typeof Element<"u")&&(QSe()?(tK=(()=>document.documentElement)(),GU=(n,t)=>{for(;t;){if(t===n)return!0;t=$U(t)}return!1}):GU=(n,t)=>n.contains(t),eK=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let pv=null,nK=!1;const iK=GU,rK=eK;let sK=(()=>{class n{validateStyleProperty(e){return function eAe(n){pv||(pv=function tAe(){return typeof document<"u"?document.body:null}()||{},nK=!!pv.style&&"WebkitAppearance"in pv.style);let t=!0;return pv.style&&!function XSe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in pv.style,!t&&nK&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in pv.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return iK(e,i)}getParentElement(e){return $U(e)}query(e,i,r){return rK(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,a,u=[],f){return new sT(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),qU=(()=>{class n{}return n.NOOP=new sK,n})();const WU="ng-enter",UI="ng-leave",HI="ng-trigger",YI=".ng-trigger",aK="ng-animating",zU=".ng-animating";function Um(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:KU(parseFloat(t[1]),t[2])}function KU(n,t){return"s"===t?1e3*n:n}function jI(n,t,e){return n.hasOwnProperty("duration")?n:function rAe(n,t,e){let r,o=0,a="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(J9()),{duration:0,delay:0,easing:""};r=KU(parseFloat(u[1]),u[2]);const f=u[3];null!=f&&(o=KU(parseFloat(f),u[4]));const m=u[5];m&&(a=m)}else r=n;if(!e){let u=!1,f=t.length;r<0&&(t.push(function vSe(){return new s.vHH(3100,!1)}()),u=!0),o<0&&(t.push(function ySe(){return new s.vHH(3101,!1)}()),u=!0),u&&t.splice(f,0,J9())}return{duration:r,delay:o,easing:a}}(n,t,e)}function Uw(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function lK(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Hm(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function uK(n,t,e){return e?t+":"+e+";":""}function dK(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=uK(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=uK(0,lAe(e),n.style[e]));n.setAttribute("style",t)}function vh(n,t,e){n.style&&(t.forEach((i,r)=>{const o=QU(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),HU()&&dK(n))}function mv(n,t){n.style&&(t.forEach((e,i)=>{const r=QU(i);n.style[r]=""}),HU()&&dK(n))}function Hw(n){return Array.isArray(n)?1==n.length?n[0]:UZ(n):n}const JU=new RegExp("{{\\s*(.+?)\\s*}}","g");function hK(n){let t=[];if("string"==typeof n){let e;for(;e=JU.exec(n);)t.push(e[1]);JU.lastIndex=0}return t}function ZI(n,t,e){const i=n.toString(),r=i.replace(JU,(o,a)=>{let u=t[a];return null==u&&(e.push(function xSe(n){return new s.vHH(3003,!1)}()),u=""),u.toString()});return r==i?n:r}function GI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const aAe=/-+([a-z0-9])/g;function QU(n){return n.replace(aAe,(...t)=>t[1].toUpperCase())}function lAe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ec(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function CSe(n){return new s.vHH(3004,!1)}()}}function fK(n,t){return window.getComputedStyle(n)[t]}function pAe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function mAe(n,t,e){if(":"==n[0]){const f=function gAe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function PSe(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof f)return void t.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function RSe(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],a=i[3];t.push(pK(r,a));"<"==o[0]&&!("*"==r&&"*"==a)&&t.push(pK(a,r))}(i,e,t)):e.push(n),e}const zI=new Set(["true","1"]),KI=new Set(["false","0"]);function pK(n,t){const e=zI.has(n)||KI.has(n),i=zI.has(t)||KI.has(t);return(r,o)=>{let a="*"==n||n==r,u="*"==t||t==o;return!a&&e&&"boolean"==typeof r&&(a=r?zI.has(n):KI.has(n)),!u&&i&&"boolean"==typeof o&&(u=o?zI.has(t):KI.has(t)),a&&u}}const _Ae=new RegExp("s*:selfs*,?","g");function XU(n,t,e,i){return new vAe(n).build(t,e,i)}class vAe{constructor(t){this._driver=t}build(t,e,i){const r=new xAe(e);return this._resetContextStyleTimingState(r),ec(this,Hw(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function wSe(){return new s.vHH(3006,!1)}()),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const f=u,m=f.name;m.toString().split(/\s*,\s*/).forEach(v=>{f.name=v,o.push(this.visitState(f,e))}),f.name=m}else if(1==u.type){const f=this.visitTransition(u,e);i+=f.queryCount,r+=f.depCount,a.push(f)}else e.errors.push(function DSe(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,a=r||{};i.styles.forEach(u=>{u instanceof Map&&u.forEach(f=>{hK(f).forEach(m=>{a.hasOwnProperty(m)||o.add(m)})})}),o.size&&(GI(o.values()),e.errors.push(function SSe(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ec(this,Hw(t.animation),e);return{type:1,matchers:pAe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:gv(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ec(this,i,e)),options:gv(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(a=>{e.currentTime=i;const u=ec(this,a,e);return r=Math.max(r,e.currentTime),u});return e.currentTime=r,{type:3,steps:o,options:gv(t.options)}}visitAnimate(t,e){const i=function TAe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return eH(jI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=eH(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=jI(e,t);return eH(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:yr({});if(5==o.type)r=this.visitKeyframes(o,e);else{let a=t.styles,u=!1;if(!a){u=!0;const m={};i.easing&&(m.easing=i.easing),a=yr(m)}e.currentTime+=i.duration+i.delay;const f=this.visitStyle(a,e);f.isEmptyStep=u,r=f}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let u of r)"string"==typeof u?u===Ef?i.push(u):e.errors.push(new s.vHH(3002,!1)):i.push(lK(u));let o=!1,a=null;return i.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(a=u.get("easing"),u.delete("easing")),!o))for(let f of u.values())if(f.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,f)=>{const m=e.collectedStyles.get(e.currentQuerySelector),v=m.get(f);let x=!0;v&&(o!=r&&o>=v.startTime&&r<=v.endTime&&(e.errors.push(function ESe(n,t,e,i,r){return new s.vHH(3010,!1)}()),x=!1),o=v.startTime),x&&m.set(f,{startTime:o,endTime:r}),e.options&&function oAe(n,t,e){const i=t.params||{},r=hK(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function bSe(n){return new s.vHH(3001,!1)}())})}(u,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function kSe(){return new s.vHH(3011,!1)}()),i;let o=0;const a=[];let u=!1,f=!1,m=0;const v=t.steps.map(te=>{const re=this._makeStyleAst(te,e);let Te=null!=re.offset?re.offset:function CAe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(re.styles),we=0;return null!=Te&&(o++,we=re.offset=Te),f=f||we<0||we>1,u=u||we<m,m=we,a.push(we),re});f&&e.errors.push(function MSe(){return new s.vHH(3012,!1)}()),u&&e.errors.push(function ISe(){return new s.vHH(3200,!1)}());const x=t.steps.length;let S=0;o>0&&o<x?e.errors.push(function NSe(){return new s.vHH(3202,!1)}()):0==o&&(S=1/(x-1));const k=x-1,O=e.currentTime,U=e.currentAnimateTimings,V=U.duration;return v.forEach((te,re)=>{const Te=S>0?re==k?1:S*re:a[re],we=Te*V;e.currentTime=O+U.delay+we,U.duration=we,this._validateStyleAst(te,e),te.offset=Te,i.styles.push(te)}),i}visitReference(t,e){return{type:8,animation:ec(this,Hw(t.animation),e),options:gv(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:gv(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:gv(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,a]=function yAe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(_Ae,"")),n=n.replace(/@\*/g,YI).replace(/@\w+/g,e=>YI+"-"+e.slice(1)).replace(/:animating/g,zU),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Xl(e.collectedStyles,e.currentQuerySelector,new Map);const u=ec(this,Hw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:u,originalSelector:t.selector,options:gv(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function LSe(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:jI(t.timings,e.errors,!0);return{type:12,animation:ec(this,Hw(t.animation),e),timings:i,options:null}}}class xAe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gv(n){return n?(n=Uw(n)).params&&(n.params=function bAe(n){return n?Uw(n):null}(n.params)):n={},n}function eH(n,t,e){return{duration:n,delay:t,easing:e}}function tH(n,t,e,i,r,o,a=null,u=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:u}}class JI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const SAe=new RegExp(":enter","g"),EAe=new RegExp(":leave","g");function nH(n,t,e,i,r,o=new Map,a=new Map,u,f,m=[]){return(new kAe).buildKeyframes(n,t,e,i,r,o,a,u,f,m)}class kAe{buildKeyframes(t,e,i,r,o,a,u,f,m,v=[]){m=m||new JI;const x=new iH(t,e,m,r,o,v,[]);x.options=f;const S=f.delay?Um(f.delay):0;x.currentTimeline.delayNextStep(S),x.currentTimeline.setStyles([a],null,x.errors,f),ec(this,i,x);const k=x.timelines.filter(O=>O.containsAnimation());if(k.length&&u.size){let O;for(let U=k.length-1;U>=0;U--){const V=k[U];if(V.element===e){O=V;break}}O&&!O.allowOnlyTimelineStyles()&&O.setStyles([u],null,x.errors,f)}return k.length?k.map(O=>O.buildKeyframes()):[tH(e,[],[],[],0,S,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const a=null!=i.duration?Um(i.duration):null,u=null!=i.delay?Um(i.delay):null;return 0!==a&&t.forEach(f=>{const m=e.appendInstructionToTimeline(f,a,u);o=Math.max(o,m.duration+m.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),ec(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=QI);const a=Um(o.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>ec(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Um(t.options.delay):0;t.steps.forEach(a=>{const u=e.createSubContext(t.options);o&&u.delayNextStep(o),ec(this,a,u),r=Math.max(r,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return jI(e.params?ZI(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,u=e.createSubContext().currentTimeline;u.easing=i.easing,t.styles.forEach(f=>{u.forwardTime((f.offset||0)*o),u.setStyles(f.styles,f.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Um(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=QI);let a=i;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=u.length;let f=null;u.forEach((m,v)=>{e.currentQueryIndex=v;const x=e.createSubContext(t.options,m);o&&x.delayNextStep(o),m===e.element&&(f=x.currentTimeline),ec(this,t.animation,x),x.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,x.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),f&&(e.currentTimeline.mergeTimelineCollectedStyles(f),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,a=Math.abs(o.duration),u=a*(e.currentQueryTotal-1);let f=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":f=u-f;break;case"full":f=i.currentStaggerTime}const v=e.currentTimeline;f&&v.delayNextStep(f);const x=v.currentTime;ec(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-x+(r.startTime-i.currentTimeline.startTime)}}const QI={};class iH{constructor(t,e,i,r,o,a,u,f){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=QI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new XI(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Um(i.duration)),null!=i.delay&&(r.delay=Um(i.delay));const o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(u=>{(!e||!a.hasOwnProperty(u))&&(a[u]=ZI(o[u],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new iH(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=QI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new MAe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,a){let u=[];if(r&&u.push(this.element),t.length>0){t=(t=t.replace(SAe,"."+this._enterClassName)).replace(EAe,"."+this._leaveClassName);let m=this._driver.query(this.element,t,1!=i);0!==i&&(m=i<0?m.slice(m.length+i,m.length):m.slice(0,i)),u.push(...m)}return!o&&0==u.length&&a.push(function OSe(n){return new s.vHH(3014,!1)}()),u}}class XI{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new XI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Ef),this._currentKeyframe.set(e,Ef);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},a=function IAe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Ef)}else Hm(r,e)}),e}(t,this._globalTimelineStyles);for(let[u,f]of a){const m=ZI(f,o,i);this._pendingStyles.set(u,m),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??Ef),this._updateStyle(u,m)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,f)=>{const m=Hm(u,new Map,this._backFill);m.forEach((v,x)=>{"!"===v?t.add(x):v===Ef&&e.add(x)}),i||m.set("offset",f/this.duration),r.push(m)});const o=t.size?GI(t.values()):[],a=e.size?GI(e.values()):[];if(i){const u=r[0],f=new Map(u);u.set("offset",0),f.set("offset",1),r=[u,f]}return tH(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}}class MAe extends XI{constructor(t,e,i,r,o,a,u=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=u,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],a=i+e,u=e/a,f=Hm(t[0]);f.set("offset",0),o.push(f);const m=Hm(t[0]);m.set("offset",_K(u)),o.push(m);const v=t.length-1;for(let x=1;x<=v;x++){let S=Hm(t[x]);const k=S.get("offset");S.set("offset",_K((e+k*i)/a)),o.push(S)}i=a,e=0,r="",t=o}return tH(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function _K(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class rH{}const NAe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class LAe extends rH{normalizePropertyName(t,e){return QU(t)}normalizeStyleValue(t,e,i,r){let o="";const a=i.toString().trim();if(NAe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function TSe(n,t){return new s.vHH(3005,!1)}())}return a+o}}function vK(n,t,e,i,r,o,a,u,f,m,v,x,S){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:a,timelines:u,queriedElements:f,preStyleProps:m,postStyleProps:v,totalTime:x,errors:S}}const sH={};class yK{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function OAe(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,a,u,f,m,v){const x=[],S=this.ast.options&&this.ast.options.params||sH,O=this.buildStyles(i,u&&u.params||sH,x),U=f&&f.params||sH,V=this.buildStyles(r,U,x),te=new Set,re=new Map,Te=new Map,we="void"===r,Ve={params:RAe(U,S),delay:this.ast.options?.delay},Pe=v?[]:nH(t,e,this.ast.animation,o,a,O,V,Ve,m,x);let ct=0;if(Pe.forEach(en=>{ct=Math.max(en.duration+en.delay,ct)}),x.length)return vK(e,this._triggerName,i,r,we,O,V,[],[],re,Te,ct,x);Pe.forEach(en=>{const Kt=en.element,ut=Xl(re,Kt,new Set);en.preStyleProps.forEach(Yt=>ut.add(Yt));const Un=Xl(Te,Kt,new Set);en.postStyleProps.forEach(Yt=>Un.add(Yt)),Kt!==e&&te.add(Kt)});const mt=GI(te.values());return vK(e,this._triggerName,i,r,we,O,V,Pe,mt,re,Te,ct)}}function RAe(n,t){const e=Uw(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class PAe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Uw(this.defaultParams);return Object.keys(t).forEach(o=>{const a=t[o];null!==a&&(r[o]=a)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{a&&(a=ZI(a,r,e));const f=this.normalizer.normalizePropertyName(u,e);a=this.normalizer.normalizeStyleValue(u,f,a,e),i.set(f,a)})}),i}}class VAe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new PAe(r.style,r.options&&r.options.params||{},i))}),bK(this.states,"true","1"),bK(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new yK(t,r,this.states))}),this.fallbackTransition=function BAe(n,t,e){return new yK(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function bK(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const UAe=new JI;class HAe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=XU(this._driver,e,i,[]);if(i.length)throw function HSe(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=Q9(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let a;const u=new Map;if(o?(a=nH(this._driver,e,o,WU,UI,new Map,new Map,i,UAe,r),a.forEach(v=>{const x=Xl(u,v.element,new Map);v.postStyleProps.forEach(S=>x.set(S,null))})):(r.push(function YSe(){return new s.vHH(3300,!1)}()),a=[]),r.length)throw function jSe(n){return new s.vHH(3504,!1)}();u.forEach((v,x)=>{v.forEach((S,k)=>{v.set(k,this._driver.computeStyle(x,k,Ef))})});const m=Bm(a.map(v=>{const x=u.get(v.element);return this._buildPlayer(v,new Map,x)}));return this._playersById.set(t,m),m.onDestroy(()=>this.destroy(t)),this.players.push(m),m}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function ZSe(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=ZU(e,"","","");return YU(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const xK="ng-animate-queued",oH="ng-animate-disabled",$Ae=[],CK={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qAe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},su="__ng_removed";class aH{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function JAe(n){return n??null}(i?t.value:t),i){const o=Uw(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Yw="void",lH=new aH(Yw);class WAe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ou(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function GSe(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function $Se(n){return new s.vHH(3303,!1)}();if(!function QAe(n){return"start"==n||"done"==n}(i))throw function qSe(n,t){return new s.vHH(3400,!1)}();const o=Xl(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};o.push(a);const u=Xl(this._engine.statesByElement,t,new Map);return u.has(e)||(ou(t,HI),ou(t,HI+"-"+e),u.set(e,lH)),()=>{this._engine.afterFlush(()=>{const f=o.indexOf(a);f>=0&&o.splice(f,1),this._triggers.has(e)||u.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function WSe(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),a=new cH(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(ou(t,HI),ou(t,HI+"-"+e),this._engine.statesByElement.set(t,u=new Map));let f=u.get(e);const m=new aH(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&m.absorbOptions(f.options),u.set(e,m),f||(f=lH),m.value!==Yw&&f.value===m.value){if(!function tEe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(f.params,m.params)){const U=[],V=o.matchStyles(f.value,f.params,U),te=o.matchStyles(m.value,m.params,U);U.length?this._engine.reportError(U):this._engine.afterFlush(()=>{mv(t,V),vh(t,te)})}return}const S=Xl(this._engine.playersByElement,t,[]);S.forEach(U=>{U.namespaceId==this.id&&U.triggerName==e&&U.queued&&U.destroy()});let k=o.matchTransition(f.value,m.value,t,m.params),O=!1;if(!k){if(!r)return;k=o.fallbackTransition,O=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:k,fromState:f,toState:m,player:a,isFallbackTransition:O}),O||(ou(t,xK),a.onStart(()=>{Hb(t,xK)})),a.onDone(()=>{let U=this.players.indexOf(a);U>=0&&this.players.splice(U,1);const V=this._engine.playersByElement.get(t);if(V){let te=V.indexOf(a);te>=0&&V.splice(te,1)}}),this.players.push(a),S.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,YI,!0);i.forEach(r=>{if(r[su])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),a=new Map;if(o){const u=[];if(o.forEach((f,m)=>{if(a.set(m,f.value),this._triggers.has(m)){const v=this.trigger(t,m,Yw,r);v&&u.push(v)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&Bm(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const a=o.name;if(r.has(a))return;r.add(a);const f=this._triggers.get(a).fallbackTransition,m=i.get(a)||lH,v=new aH(Yw),x=new cH(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:f,fromState:m,toState:v,player:x,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[su];(!o||o===CK)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ou(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,a=this._elementListeners.get(o);a&&a.forEach(u=>{if(u.name==i.triggerName){const f=ZU(o,i.triggerName,i.fromState.value,i.toState.value);f._data=t,YU(i.player,u.phase,f,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class zAe{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new WAe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,u=this.driver.getParentElement(e);for(;u;){const f=r.get(u);if(f){const m=i.indexOf(f);i.splice(m+1,0,t),a=!0;break}u=this.driver.getParentElement(u)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(eN(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!eN(e))return;const o=e[su];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ou(t,oH)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Hb(t,oH))}removeNode(t,e,i,r){if(eN(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[su]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return eN(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,YI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,zU,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Bm(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[su];if(e&&e.setForRemoval){if(t[su]=CK,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(oH)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ou(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Bm(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function zSe(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new JI,r=[],o=new Map,a=[],u=new Map,f=new Map,m=new Map,v=new Set;this.disabledNodes.forEach(Ge=>{v.add(Ge);const et=this.driver.query(Ge,".ng-animate-queued",!0);for(let vt=0;vt<et.length;vt++)v.add(et[vt])});const x=this.bodyNode,S=Array.from(this.statesByElement.keys()),k=DK(S,this.collectedEnterElements),O=new Map;let U=0;k.forEach((Ge,et)=>{const vt=WU+U++;O.set(et,vt),Ge.forEach(_t=>ou(_t,vt))});const V=[],te=new Set,re=new Set;for(let Ge=0;Ge<this.collectedLeaveElements.length;Ge++){const et=this.collectedLeaveElements[Ge],vt=et[su];vt&&vt.setForRemoval&&(V.push(et),te.add(et),vt.hasAnimation?this.driver.query(et,".ng-star-inserted",!0).forEach(_t=>te.add(_t)):re.add(et))}const Te=new Map,we=DK(S,Array.from(te));we.forEach((Ge,et)=>{const vt=UI+U++;Te.set(et,vt),Ge.forEach(_t=>ou(_t,vt))}),t.push(()=>{k.forEach((Ge,et)=>{const vt=O.get(et);Ge.forEach(_t=>Hb(_t,vt))}),we.forEach((Ge,et)=>{const vt=Te.get(et);Ge.forEach(_t=>Hb(_t,vt))}),V.forEach(Ge=>{this.processLeaveNode(Ge)})});const Ve=[],Pe=[];for(let Ge=this._namespaceList.length-1;Ge>=0;Ge--)this._namespaceList[Ge].drainQueuedTransitions(e).forEach(vt=>{const _t=vt.player,mn=vt.element;if(Ve.push(_t),this.collectedEnterElements.length){const In=mn[su];if(In&&In.setForMove){if(In.previousTriggersValues&&In.previousTriggersValues.has(vt.triggerName)){const as=In.previousTriggersValues.get(vt.triggerName),rt=this.statesByElement.get(vt.element);if(rt&&rt.has(vt.triggerName)){const Jt=rt.get(vt.triggerName);Jt.value=as,rt.set(vt.triggerName,Jt)}}return void _t.destroy()}}const Hn=!x||!this.driver.containsElement(x,mn),xn=Te.get(mn),ys=O.get(mn),Fn=this._buildInstruction(vt,i,ys,xn,Hn);if(Fn.errors&&Fn.errors.length)return void Pe.push(Fn);if(Hn)return _t.onStart(()=>mv(mn,Fn.fromStyles)),_t.onDestroy(()=>vh(mn,Fn.toStyles)),void r.push(_t);if(vt.isFallbackTransition)return _t.onStart(()=>mv(mn,Fn.fromStyles)),_t.onDestroy(()=>vh(mn,Fn.toStyles)),void r.push(_t);const Us=[];Fn.timelines.forEach(In=>{In.stretchStartingKeyframe=!0,this.disabledNodes.has(In.element)||Us.push(In)}),Fn.timelines=Us,i.append(mn,Fn.timelines),a.push({instruction:Fn,player:_t,element:mn}),Fn.queriedElements.forEach(In=>Xl(u,In,[]).push(_t)),Fn.preStyleProps.forEach((In,as)=>{if(In.size){let rt=f.get(as);rt||f.set(as,rt=new Set),In.forEach((Jt,gn)=>rt.add(gn))}}),Fn.postStyleProps.forEach((In,as)=>{let rt=m.get(as);rt||m.set(as,rt=new Set),In.forEach((Jt,gn)=>rt.add(gn))})});if(Pe.length){const Ge=[];Pe.forEach(et=>{Ge.push(function KSe(n,t){return new s.vHH(3505,!1)}())}),Ve.forEach(et=>et.destroy()),this.reportError(Ge)}const ct=new Map,mt=new Map;a.forEach(Ge=>{const et=Ge.element;i.has(et)&&(mt.set(et,et),this._beforeAnimationBuild(Ge.player.namespaceId,Ge.instruction,ct))}),r.forEach(Ge=>{const et=Ge.element;this._getPreviousPlayers(et,!1,Ge.namespaceId,Ge.triggerName,null).forEach(_t=>{Xl(ct,et,[]).push(_t),_t.destroy()})});const en=V.filter(Ge=>AK(Ge,f,m)),Kt=new Map;wK(Kt,this.driver,re,m,Ef).forEach(Ge=>{AK(Ge,f,m)&&en.push(Ge)});const Un=new Map;k.forEach((Ge,et)=>{wK(Un,this.driver,new Set(Ge),f,"!")}),en.forEach(Ge=>{const et=Kt.get(Ge),vt=Un.get(Ge);Kt.set(Ge,new Map([...Array.from(et?.entries()??[]),...Array.from(vt?.entries()??[])]))});const Yt=[],Wn=[],Mr={};a.forEach(Ge=>{const{element:et,player:vt,instruction:_t}=Ge;if(i.has(et)){if(v.has(et))return vt.onDestroy(()=>vh(et,_t.toStyles)),vt.disabled=!0,vt.overrideTotalTime(_t.totalTime),void r.push(vt);let mn=Mr;if(mt.size>1){let xn=et;const ys=[];for(;xn=xn.parentNode;){const Fn=mt.get(xn);if(Fn){mn=Fn;break}ys.push(xn)}ys.forEach(Fn=>mt.set(Fn,mn))}const Hn=this._buildAnimation(vt.namespaceId,_t,ct,o,Un,Kt);if(vt.setRealPlayer(Hn),mn===Mr)Yt.push(vt);else{const xn=this.playersByElement.get(mn);xn&&xn.length&&(vt.parentPlayer=Bm(xn)),r.push(vt)}}else mv(et,_t.fromStyles),vt.onDestroy(()=>vh(et,_t.toStyles)),Wn.push(vt),v.has(et)&&r.push(vt)}),Wn.forEach(Ge=>{const et=o.get(Ge.element);if(et&&et.length){const vt=Bm(et);Ge.setRealPlayer(vt)}}),r.forEach(Ge=>{Ge.parentPlayer?Ge.syncPlayerEvents(Ge.parentPlayer):Ge.destroy()});for(let Ge=0;Ge<V.length;Ge++){const et=V[Ge],vt=et[su];if(Hb(et,UI),vt&&vt.hasAnimation)continue;let _t=[];if(u.size){let Hn=u.get(et);Hn&&Hn.length&&_t.push(...Hn);let xn=this.driver.query(et,zU,!0);for(let ys=0;ys<xn.length;ys++){let Fn=u.get(xn[ys]);Fn&&Fn.length&&_t.push(...Fn)}}const mn=_t.filter(Hn=>!Hn.destroyed);mn.length?XAe(this,et,mn):this.processLeaveNode(et)}return V.length=0,Yt.forEach(Ge=>{this.players.push(Ge),Ge.onDone(()=>{Ge.destroy();const et=this.players.indexOf(Ge);this.players.splice(et,1)}),Ge.play()}),Yt}elementContainsData(t,e){let i=!1;const r=e[su];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let a=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(a=u)}else{const u=this.playersByElement.get(t);if(u){const f=!o||o==Yw;u.forEach(m=>{m.queued||!f&&m.triggerName!=r||a.push(m)})}}return(i||r)&&(a=a.filter(u=>!(i&&i!=u.namespaceId||r&&r!=u.triggerName))),a}_beforeAnimationBuild(t,e,i){const o=e.element,a=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const f of e.timelines){const m=f.element,v=m!==o,x=Xl(i,m,[]);this._getPreviousPlayers(m,v,a,u,e.toState).forEach(k=>{const O=k.getRealPlayer();O.beforeDestroy&&O.beforeDestroy(),k.destroy(),x.push(k)})}mv(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,a){const u=e.triggerName,f=e.element,m=[],v=new Set,x=new Set,S=e.timelines.map(O=>{const U=O.element;v.add(U);const V=U[su];if(V&&V.removedBeforeQueried)return new sT(O.duration,O.delay);const te=U!==f,re=function eEe(n){const t=[];return SK(n,t),t}((i.get(U)||$Ae).map(ct=>ct.getRealPlayer())).filter(ct=>!!ct.element&&ct.element===U),Te=o.get(U),we=a.get(U),Ve=Q9(0,this._normalizer,0,O.keyframes,Te,we),Pe=this._buildPlayer(O,Ve,re);if(O.subTimeline&&r&&x.add(U),te){const ct=new cH(t,u,U);ct.setRealPlayer(Pe),m.push(ct)}return Pe});m.forEach(O=>{Xl(this.playersByQueriedElement,O.element,[]).push(O),O.onDone(()=>function KAe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,O.element,O))}),v.forEach(O=>ou(O,aK));const k=Bm(S);return k.onDestroy(()=>{v.forEach(O=>Hb(O,aK)),vh(f,e.toStyles)}),x.forEach(O=>{Xl(r,O,[]).push(k)}),k}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new sT(t.duration,t.delay)}}class cH{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new sT,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>YU(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Xl(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function eN(n){return n&&1===n.nodeType}function TK(n,t){const e=n.style.display;return n.style.display=t??"none",e}function wK(n,t,e,i,r){const o=[];e.forEach(f=>o.push(TK(f)));const a=[];i.forEach((f,m)=>{const v=new Map;f.forEach(x=>{const S=t.computeStyle(m,x,r);v.set(x,S),(!S||0==S.length)&&(m[su]=qAe,a.push(m))}),n.set(m,v)});let u=0;return e.forEach(f=>TK(f,o[u++])),a}function DK(n,t){const e=new Map;if(n.forEach(u=>e.set(u,[])),0==t.length)return e;const r=new Set(t),o=new Map;function a(u){if(!u)return 1;let f=o.get(u);if(f)return f;const m=u.parentNode;return f=e.has(m)?m:r.has(m)?1:a(m),o.set(u,f),f}return t.forEach(u=>{const f=a(u);1!==f&&e.get(f).push(u)}),e}function ou(n,t){n.classList?.add(t)}function Hb(n,t){n.classList?.remove(t)}function XAe(n,t,e){Bm(e).onDone(()=>n.processLeaveNode(t))}function SK(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof YZ?SK(i.players,t):t.push(i)}}function AK(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class tN{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new zAe(t,e,i),this._timelineEngine=new HAe(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const a=t+"-"+r;let u=this._triggerCache[a];if(!u){const f=[],v=XU(this._driver,o,f,[]);if(f.length)throw function BSe(n,t){return new s.vHH(3404,!1)}();u=function FAe(n,t,e){return new VAe(n,t,e)}(r,v,this._normalizer),this._triggerCache[a]=u}this._transitionEngine.registerTrigger(e,r,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,a]=X9(i);this._timelineEngine.command(o,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[a,u]=X9(i);return this._timelineEngine.listen(a,e,u,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let iEe=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&vh(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vh(this._element,this._initialStyles),this._endStyles&&(vh(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(mv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(mv(this._element,this._endStyles),this._endStyles=null),vh(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function uH(n){let t=null;return n.forEach((e,i)=>{(function rEe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class EK{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:fK(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class sEe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return iK(t,e)}getParentElement(t){return $U(t)}query(t,e,i){return rK(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,a=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(f.easing=o);const m=new Map,v=a.filter(k=>k instanceof EK);(function cAe(n,t){return 0===n||0===t})(i,r)&&v.forEach(k=>{k.currentSnapshot.forEach((O,U)=>m.set(U,O))});let x=function sAe(n){return n.length?n[0]instanceof Map?n:n.map(t=>lK(t)):[]}(e).map(k=>Hm(k));x=function uAe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<t.length;o++){let a=t[o];r.forEach(u=>a.set(u,fK(n,u)))}}return t}(t,x,m);const S=function nEe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=uH(t[0]),t.length>1&&(i=uH(t[t.length-1]))):t instanceof Map&&(e=uH(t)),e||i?new iEe(n,e,i):null}(t,x);return new EK(t,x,f,S)}}let oEe=(()=>{class n extends BZ{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?UZ(e):e;return kK(this._renderer,null,i,"register",[r]),new aEe(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(se))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class aEe extends class vse{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new lEe(this._id,t,e||{},this._renderer)}}class lEe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return kK(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function kK(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const MK="@.disabled";let cEe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,a)=>{const u=a?.parentNode(o);u&&a.removeChild(u,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let v=this._rendererCache.get(o);return v||(v=new IK("",o,this.engine),this._rendererCache.set(o,v)),v}const a=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const f=v=>{Array.isArray(v)?v.forEach(f):this.engine.registerTrigger(a,u,e,v.name,v)};return i.data.animation.forEach(f),new uEe(this,u,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,u]=o;a(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(tN),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class IK{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==MK?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class uEe extends IK{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==MK?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function dEe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),a="";return"@"!=o.charAt(0)&&([o,a]=function hEe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,a,u=>{this.factory.scheduleListenerCallback(u._data||-1,i,u)})}return this.delegate.listen(t,e,i)}}let fEe=(()=>{class n extends tN{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(se),s.LFG(qU),s.LFG(rH),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const NK=[{provide:BZ,useClass:oEe},{provide:rH,useFactory:function pEe(){return new LAe}},{provide:tN,useClass:fEe},{provide:s.FYo,useFactory:function mEe(n,t,e){return new cEe(n,t,e)},deps:[Fa,tN,s.R0b]}],dH=[{provide:qU,useFactory:()=>new sEe},{provide:s.QbO,useValue:"BrowserAnimations"},...NK],LK=[{provide:qU,useClass:sK},{provide:s.QbO,useValue:"NoopAnimations"},...NK];let gEe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?LK:dH}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:dH,imports:[gu]}),n})(),_Ee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[pxe]}),n.\u0275inj=s.cJS({providers:[wi,HF],imports:[gu,fxe,jr.hO.initializeApp(li_firebaseConfig),dee,Ure,_Se,Dee,vN,ix,ise,Use.forRoot(),yN,gEe,Mde.forRoot(),a5,yfe,zse,L1e,Xde,Yre]}),n})();(0,s.G48)(),Ih().bootstrapModule(_Ee).catch(n=>console.error(n))},6087:(Ke,ve,I)=>{"use strict";const s=I(4315),H=I(2872),P=I(717);Ke.exports=function Q(se,xe){switch(H(se)){case"object":return function z(se,xe){if("function"==typeof xe)return xe(se);if(xe||P(se)){const q=new se.constructor;for(let F in se)q[F]=Q(se[F],xe);return q}return se}(se,xe);case"array":return function fe(se,xe){const q=new se.constructor(se.length);for(let F=0;F<se.length;F++)q[F]=Q(se[F],xe);return q}(se,xe);default:return s(se)}}},5867:(Ke,ve,I)=>{"use strict";I.d(ve,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=I(9681);(0,s.registerVersion)("firebase","9.6.6","app")},127:(Ke,ve,I)=>{"use strict";I.d(ve,{Z:()=>s.Z});var s=I(3942);s.Z.registerVersion("firebase","9.6.6","app-compat")},5881:(Ke,ve,I)=>{"use strict";I.r(ve);var s=I(5861),H=I(3942),P=I(3578),Q=I(2090),se=(I(9681),I(1877),I(4859));function xe(){return window}function Z(){return(Z=(0,s.Z)(function*(be,ee,J){var Fe;const{BuildInfo:ot}=xe();(0,P.ap)(ee.sessionId,"AuthEvent did not contain a session ID");const ht=yield Ee(ee.sessionId),Ft={};return(0,P.aq)()?Ft.ibi=ot.packageName:(0,P.ar)()?Ft.apn=ot.packageName:(0,P.as)(be,"operation-not-supported-in-this-environment"),ot.displayName&&(Ft.appDisplayName=ot.displayName),Ft.sessionId=ht,(0,P.at)(be,J,ee.type,void 0,null!==(Fe=ee.eventId)&&void 0!==Fe?Fe:void 0,Ft)})).apply(this,arguments)}function Se(){return(Se=(0,s.Z)(function*(be){const{BuildInfo:ee}=xe(),J={};(0,P.aq)()?J.iosBundleId=ee.packageName:(0,P.ar)()?J.androidPackageName=ee.packageName:(0,P.as)(be,"operation-not-supported-in-this-environment"),yield(0,P.au)(be,J)})).apply(this,arguments)}function ye(){return(ye=(0,s.Z)(function*(be,ee,J){const{cordova:Fe}=xe();let ot=()=>{};try{yield new Promise((ht,Ft)=>{let Zt=null;function nn(){var lt;ht();const Tn=null===(lt=Fe.plugins.browsertab)||void 0===lt?void 0:lt.close;"function"==typeof Tn&&Tn(),"function"==typeof J?.close&&J.close()}function ai(){Zt||(Zt=window.setTimeout(()=>{Ft((0,P.av)(be,"redirect-cancelled-by-user"))},2e3))}function tt(){"visible"===document?.visibilityState&&ai()}ee.addPassiveListener(nn),document.addEventListener("resume",ai,!1),(0,P.ar)()&&document.addEventListener("visibilitychange",tt,!1),ot=()=>{ee.removePassiveListener(nn),document.removeEventListener("resume",ai,!1),document.removeEventListener("visibilitychange",tt,!1),Zt&&window.clearTimeout(Zt)}})}finally{ot()}})).apply(this,arguments)}function Ee(be){return oe.apply(this,arguments)}function oe(){return(oe=(0,s.Z)(function*(be){const ee=Ae(be),J=yield crypto.subtle.digest("SHA-256",ee);return Array.from(new Uint8Array(J)).map(ot=>ot.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ae(be){if((0,P.ap)(/[0-9a-zA-Z]+/.test(be),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(be);const ee=new ArrayBuffer(be.length),J=new Uint8Array(ee);for(let Fe=0;Fe<be.length;Fe++)J[Fe]=be.charCodeAt(Fe);return J}class de extends P.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ee=>{this.resolveInialized=ee})}addPassiveListener(ee){this.passiveListeners.add(ee)}removePassiveListener(ee){this.passiveListeners.delete(ee)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ee){return this.resolveInialized(),this.passiveListeners.forEach(J=>J(ee)),super.onEvent(ee)}initialized(){var ee=this;return(0,s.Z)(function*(){yield ee.initPromise})()}}function ce(be){return Je.apply(this,arguments)}function Je(){return(Je=(0,s.Z)(function*(be){const ee=yield ue()._get(Ne(be));return ee&&(yield ue()._remove(Ne(be))),ee})).apply(this,arguments)}function me(){const be=[],ee="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let J=0;J<20;J++){const Fe=Math.floor(Math.random()*ee.length);be.push(ee.charAt(Fe))}return be.join("")}function ue(){return(0,P.ax)(P.b)}function Ne(be){return(0,P.ay)("authEvent",be.config.apiKey,be.name)}function qe(be){if(!be?.includes("?"))return{};const[ee,...J]=be.split("?");return(0,Q.zd)(J.join("?"))}function Dt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.av)("no-auth-event")}}function yn(){var be;return(null===(be=self?.location)||void 0===be?void 0:be.protocol)||null}function bs(be=(0,Q.z$)()){return!("file:"!==yn()&&"ionic:"!==yn()||!be.toLowerCase().match(/iphone|ipad|ipod|android/))}function bo(){try{const be=self.localStorage,ee=P.aG();if(be)return be.setItem(ee,"1"),be.removeItem(ee),!function xs(be=(0,Q.z$)()){return function Qi(){return(0,Q.w1)()&&11===document?.documentMode}()||function Hi(be=(0,Q.z$)()){return/Edge\/\d+/.test(be)}(be)}()||(0,Q.hl)()}catch{return xo()&&(0,Q.hl)()}return!1}function xo(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xi(){return(function _n(){return"http:"===yn()||"https:"===yn()}()||(0,Q.ru)()||bs())&&!function bi(){return(0,Q.b$)()||(0,Q.UG)()}()&&bo()&&!xo()}function Ys(){return bs()&&typeof document<"u"}function Jn(){return(Jn=(0,s.Z)(function*(){return!!Ys()&&new Promise(be=>{const ee=setTimeout(()=>{be(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ee),be(!0)})})})).apply(this,arguments)}const hi={LOCAL:"local",NONE:"none",SESSION:"session"},Ct=P.aw,St="persistence";function Ht(be){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,s.Z)(function*(be){yield be._initializationPromise;const ee=dt(),J=P.ay(St,be.config.apiKey,be.name);ee&&ee.setItem(J,be._getPersistence())})).apply(this,arguments)}function dt(){var be;try{return(null===(be=function $r(){return typeof window<"u"?window:null}())||void 0===be?void 0:be.sessionStorage)||null}catch{return null}}const yt=P.aw;class jn{constructor(){this.browserResolver=P.ax(P.k),this.cordovaResolver=P.ax(class Cn{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aA}_initialize(ee){var J=this;return(0,s.Z)(function*(){const Fe=ee._key();let ot=J.eventManagers.get(Fe);return ot||(ot=new de(ee),J.eventManagers.set(Fe,ot),J.attachCallbackListeners(ee,ot)),ot})()}_openPopup(ee){(0,P.as)(ee,"operation-not-supported-in-this-environment")}_openRedirect(ee,J,Fe,ot){var ht=this;return(0,s.Z)(function*(){!function Ce(be){var ee,J,Fe,ot,ht,Ft,Zt,nn,ai,tt;const lt=xe();(0,P.aw)("function"==typeof(null===(ee=lt?.universalLinks)||void 0===ee?void 0:ee.subscribe),be,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.aw)(typeof(null===(J=lt?.BuildInfo)||void 0===J?void 0:J.packageName)<"u",be,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.aw)("function"==typeof(null===(ht=null===(ot=null===(Fe=lt?.cordova)||void 0===Fe?void 0:Fe.plugins)||void 0===ot?void 0:ot.browsertab)||void 0===ht?void 0:ht.openUrl),be,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aw)("function"==typeof(null===(nn=null===(Zt=null===(Ft=lt?.cordova)||void 0===Ft?void 0:Ft.plugins)||void 0===Zt?void 0:Zt.browsertab)||void 0===nn?void 0:nn.isAvailable),be,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aw)("function"==typeof(null===(tt=null===(ai=lt?.cordova)||void 0===ai?void 0:ai.InAppBrowser)||void 0===tt?void 0:tt.open),be,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ee);const Ft=yield ht._initialize(ee);yield Ft.initialized(),Ft.resetRedirect(),(0,P.aB)(),yield ht._originValidation(ee);const Zt=function Qe(be,ee,J=null){return{type:ee,eventId:J,urlResponse:null,sessionId:me(),postBody:null,tenantId:be.tenantId,error:(0,P.av)(be,"no-auth-event")}}(ee,Fe,ot);yield function Xe(be,ee){return ue()._set(Ne(be),ee)}(ee,Zt);const nn=yield function F(be,ee,J){return Z.apply(this,arguments)}(ee,Zt,J),ai=yield function pe(be){const{cordova:ee}=xe();return new Promise(J=>{ee.plugins.browsertab.isAvailable(Fe=>{let ot=null;Fe?ee.plugins.browsertab.openUrl(be):ot=ee.InAppBrowser.open(be,(0,P.ao)()?"_blank":"_system","location=yes"),J(ot)})})}(nn);return function Ie(be,ee,J){return ye.apply(this,arguments)}(ee,Ft,ai)})()}_isIframeWebStorageSupported(ee,J){throw new Error("Method not implemented.")}_originValidation(ee){const J=ee._key();return this.originValidationPromises[J]||(this.originValidationPromises[J]=function ie(be){return Se.apply(this,arguments)}(ee)),this.originValidationPromises[J]}attachCallbackListeners(ee,J){const{universalLinks:Fe,handleOpenURL:ot,BuildInfo:ht}=xe(),Ft=setTimeout((0,s.Z)(function*(){yield ce(ee),J.onEvent(Dt())}),500),Zt=function(){var tt=(0,s.Z)(function*(lt){clearTimeout(Ft);const Tn=yield ce(ee);let Lr=null;Tn&&lt?.url&&(Lr=function $e(be,ee){var J,Fe;const ot=function it(be){const ee=qe(be),J=ee.link?decodeURIComponent(ee.link):void 0,Fe=qe(J).link,ot=ee.deep_link_id?decodeURIComponent(ee.deep_link_id):void 0;return qe(ot).link||ot||Fe||J||be}(ee);if(ot.includes("/__/auth/callback")){const ht=qe(ot),Ft=ht.firebaseError?function ge(be){try{return JSON.parse(be)}catch{return null}}(decodeURIComponent(ht.firebaseError)):null,Zt=null===(Fe=null===(J=Ft?.code)||void 0===J?void 0:J.split("auth/"))||void 0===Fe?void 0:Fe[1],nn=Zt?(0,P.av)(Zt):null;return nn?{type:be.type,eventId:be.eventId,tenantId:be.tenantId,error:nn,urlResponse:null,sessionId:null,postBody:null}:{type:be.type,eventId:be.eventId,tenantId:be.tenantId,sessionId:be.sessionId,urlResponse:ot,postBody:null}}return null}(Tn,lt.url)),J.onEvent(Lr||Dt())});return function(Tn){return tt.apply(this,arguments)}}();typeof Fe<"u"&&"function"==typeof Fe.subscribe&&Fe.subscribe(null,Zt);const nn=ot,ai=`${ht.packageName.toLowerCase()}://`;xe().handleOpenURL=function(){var tt=(0,s.Z)(function*(lt){if(lt.toLowerCase().startsWith(ai)&&Zt({url:lt}),"function"==typeof nn)try{nn(lt)}catch(Tn){console.error(Tn)}});return function(lt){return tt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aA}_initialize(ee){var J=this;return(0,s.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._initialize(ee)})()}_openPopup(ee,J,Fe,ot){var ht=this;return(0,s.Z)(function*(){return yield ht.selectUnderlyingResolver(),ht.assertedUnderlyingResolver._openPopup(ee,J,Fe,ot)})()}_openRedirect(ee,J,Fe,ot){var ht=this;return(0,s.Z)(function*(){return yield ht.selectUnderlyingResolver(),ht.assertedUnderlyingResolver._openRedirect(ee,J,Fe,ot)})()}_isIframeWebStorageSupported(ee,J){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ee,J)}_originValidation(ee){return this.assertedUnderlyingResolver._originValidation(ee)}get _shouldInitProactively(){return Ys()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ee=this;return(0,s.Z)(function*(){if(ee.underlyingResolver)return;const J=yield function Ir(){return Jn.apply(this,arguments)}();ee.underlyingResolver=J?ee.cordovaResolver:ee.browserResolver})()}}function Co(be){return be.unwrap()}function Vn(be){return ta(be)}function ta(be){const{_tokenResponse:ee}=be instanceof Q.ZR?be.customData:be;if(!ee)return null;if(!(be instanceof Q.ZR)&&"temporaryProof"in ee&&"phoneNumber"in ee)return P.P.credentialFromResult(be);const J=ee.providerId;if(!J||J===P.o.PASSWORD)return null;let Fe;switch(J){case P.o.GOOGLE:Fe=P.N;break;case P.o.FACEBOOK:Fe=P.M;break;case P.o.GITHUB:Fe=P.Q;break;case P.o.TWITTER:Fe=P.V;break;default:const{oauthIdToken:ot,oauthAccessToken:ht,oauthTokenSecret:Ft,pendingToken:Zt,nonce:nn}=ee;return ht||Ft||ot||Zt?Zt?J.startsWith("saml.")?P.aJ._create(J,Zt):P.I._fromParams({providerId:J,signInMethod:J,pendingToken:Zt,idToken:ot,accessToken:ht}):new P.T(J).credential({idToken:ot,accessToken:ht,rawNonce:nn}):null}return be instanceof Q.ZR?Fe.credentialFromError(be):Fe.credentialFromResult(be)}function zt(be,ee){return ee.catch(J=>{throw J instanceof Q.ZR&&function Nr(be,ee){var J;const Fe=null===(J=ee.customData)||void 0===J?void 0:J._tokenResponse;if("auth/multi-factor-auth-required"===ee.code)ee.resolver=new ae(be,P.am(be,ee));else if(Fe){const ot=ta(ee),ht=ee;ot&&(ht.credential=ot,ht.tenantId=Fe.tenantId||void 0,ht.email=Fe.email||void 0,ht.phoneNumber=Fe.phoneNumber||void 0)}}(be,J),J}).then(J=>{const ot=J.user;return{operationType:J.operationType,credential:Vn(J),additionalUserInfo:P.ak(J),user:Le.getOrCreate(ot)}})}function W(be,ee){return $.apply(this,arguments)}function $(){return($=(0,s.Z)(function*(be,ee){const J=yield ee;return{verificationId:J.verificationId,confirm:Fe=>zt(be,J.confirm(Fe))}})).apply(this,arguments)}class ae{constructor(ee,J){this.resolver=J,this.auth=function fi(be){return be.wrapped()}(ee)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ee){return zt(Co(this.auth),this.resolver.resolveSignIn(ee))}}class Le{constructor(ee){this._delegate=ee,this.multiFactor=P.an(ee)}static getOrCreate(ee){return Le.USER_MAP.has(ee)||Le.USER_MAP.set(ee,new Le(ee)),Le.USER_MAP.get(ee)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ee){return this._delegate.getIdTokenResult(ee)}getIdToken(ee){return this._delegate.getIdToken(ee)}linkAndRetrieveDataWithCredential(ee){return this.linkWithCredential(ee)}linkWithCredential(ee){var J=this;return(0,s.Z)(function*(){return zt(J.auth,P.Y(J._delegate,ee))})()}linkWithPhoneNumber(ee,J){var Fe=this;return(0,s.Z)(function*(){return W(Fe.auth,P.l(Fe._delegate,ee,J))})()}linkWithPopup(ee){var J=this;return(0,s.Z)(function*(){return zt(J.auth,P.d(J._delegate,ee,jn))})()}linkWithRedirect(ee){var J=this;return(0,s.Z)(function*(){return yield Ht(P.aC(J.auth)),P.g(J._delegate,ee,jn)})()}reauthenticateAndRetrieveDataWithCredential(ee){return this.reauthenticateWithCredential(ee)}reauthenticateWithCredential(ee){var J=this;return(0,s.Z)(function*(){return zt(J.auth,P.Z(J._delegate,ee))})()}reauthenticateWithPhoneNumber(ee,J){return W(this.auth,P.r(this._delegate,ee,J))}reauthenticateWithPopup(ee){return zt(this.auth,P.e(this._delegate,ee,jn))}reauthenticateWithRedirect(ee){var J=this;return(0,s.Z)(function*(){return yield Ht(P.aC(J.auth)),P.h(J._delegate,ee,jn)})()}sendEmailVerification(ee){return P.aa(this._delegate,ee)}unlink(ee){var J=this;return(0,s.Z)(function*(){return yield P.aj(J._delegate,ee),J})()}updateEmail(ee){return P.af(this._delegate,ee)}updatePassword(ee){return P.ag(this._delegate,ee)}updatePhoneNumber(ee){return P.u(this._delegate,ee)}updateProfile(ee){return P.ae(this._delegate,ee)}verifyBeforeUpdateEmail(ee,J){return P.ab(this._delegate,ee,J)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Le.USER_MAP=new WeakMap;const _e=P.aw;let st=(()=>{class be{constructor(J,Fe){if(this.app=J,Fe.isInitialized())return this._delegate=Fe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ot}=J.options;_e(ot,"invalid-api-key",{appName:J.name}),_e(ot,"invalid-api-key",{appName:J.name});const ht=typeof window<"u"?jn:void 0;this._delegate=Fe.initialize({options:{persistence:Sn(ot,J.name),popupRedirectResolver:ht}}),this._delegate._updateErrorMap(P.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Le.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(J){this._delegate.languageCode=J}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(J){this._delegate.tenantId=J}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(J,Fe){P.E(this._delegate,J,Fe)}applyActionCode(J){return P.a1(this._delegate,J)}checkActionCode(J){return P.a2(this._delegate,J)}confirmPasswordReset(J,Fe){return P.a0(this._delegate,J,Fe)}createUserWithEmailAndPassword(J,Fe){var ot=this;return(0,s.Z)(function*(){return zt(ot._delegate,P.a4(ot._delegate,J,Fe))})()}fetchProvidersForEmail(J){return this.fetchSignInMethodsForEmail(J)}fetchSignInMethodsForEmail(J){return P.a9(this._delegate,J)}isSignInWithEmailLink(J){return P.a7(this._delegate,J)}getRedirectResult(){var J=this;return(0,s.Z)(function*(){_e(Xi(),J._delegate,"operation-not-supported-in-this-environment");const Fe=yield P.j(J._delegate,jn);return Fe?zt(J._delegate,Promise.resolve(Fe)):{credential:null,user:null}})()}addFrameworkForLogging(J){!function ri(be,ee){(0,P.aC)(be)._logFramework(ee)}(this._delegate,J)}onAuthStateChanged(J,Fe,ot){const{next:ht,error:Ft,complete:Zt}=It(J,Fe,ot);return this._delegate.onAuthStateChanged(ht,Ft,Zt)}onIdTokenChanged(J,Fe,ot){const{next:ht,error:Ft,complete:Zt}=It(J,Fe,ot);return this._delegate.onIdTokenChanged(ht,Ft,Zt)}sendSignInLinkToEmail(J,Fe){return P.a6(this._delegate,J,Fe)}sendPasswordResetEmail(J,Fe){return P.$(this._delegate,J,Fe||void 0)}setPersistence(J){var Fe=this;return(0,s.Z)(function*(){let ot;switch(function Rt(be,ee){Ct(Object.values(hi).includes(ee),be,"invalid-persistence-type"),(0,Q.b$)()?Ct(ee!==hi.SESSION,be,"unsupported-persistence-type"):(0,Q.UG)()?Ct(ee===hi.NONE,be,"unsupported-persistence-type"):xo()?Ct(ee===hi.NONE||ee===hi.LOCAL&&(0,Q.hl)(),be,"unsupported-persistence-type"):Ct(ee===hi.NONE||bo(),be,"unsupported-persistence-type")}(Fe._delegate,J),J){case hi.SESSION:ot=P.a;break;case hi.LOCAL:ot=(yield P.ax(P.i)._isAvailable())?P.i:P.b;break;case hi.NONE:ot=P.K;break;default:return P.as("argument-error",{appName:Fe._delegate.name})}return Fe._delegate.setPersistence(ot)})()}signInAndRetrieveDataWithCredential(J){return this.signInWithCredential(J)}signInAnonymously(){return zt(this._delegate,P.W(this._delegate))}signInWithCredential(J){return zt(this._delegate,P.X(this._delegate,J))}signInWithCustomToken(J){return zt(this._delegate,P._(this._delegate,J))}signInWithEmailAndPassword(J,Fe){return zt(this._delegate,P.a5(this._delegate,J,Fe))}signInWithEmailLink(J,Fe){return zt(this._delegate,P.a8(this._delegate,J,Fe))}signInWithPhoneNumber(J,Fe){return W(this._delegate,P.s(this._delegate,J,Fe))}signInWithPopup(J){var Fe=this;return(0,s.Z)(function*(){return _e(Xi(),Fe._delegate,"operation-not-supported-in-this-environment"),zt(Fe._delegate,P.c(Fe._delegate,J,jn))})()}signInWithRedirect(J){var Fe=this;return(0,s.Z)(function*(){return _e(Xi(),Fe._delegate,"operation-not-supported-in-this-environment"),yield Ht(Fe._delegate),P.f(Fe._delegate,J,jn)})()}updateCurrentUser(J){return this._delegate.updateCurrentUser(J)}verifyPasswordResetCode(J){return P.a3(this._delegate,J)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return be.Persistence=hi,be})();function It(be,ee,J){let Fe=be;"function"!=typeof be&&({next:Fe,error:ee,complete:J}=be);const ot=Fe;return{next:Ft=>ot(Ft&&Le.getOrCreate(Ft)),error:ee,complete:J}}function Sn(be,ee){const J=function vn(be,ee){const J=dt();if(!J)return[];const Fe=P.ay(St,be,ee);switch(J.getItem(Fe)){case hi.NONE:return[P.K];case hi.LOCAL:return[P.i,P.a];case hi.SESSION:return[P.a];default:return[]}}(be,ee);if(typeof self<"u"&&!J.includes(P.i)&&J.push(P.i),typeof window<"u")for(const Fe of[P.b,P.a])J.includes(Fe)||J.push(Fe);return J.includes(P.K)||J.push(P.K),J}class Zn{constructor(){this.providerId="phone",this._delegate=new P.P(Co(H.Z.auth()))}static credential(ee,J){return P.P.credential(ee,J)}verifyPhoneNumber(ee,J){return this._delegate.verifyPhoneNumber(ee,J)}unwrap(){return this._delegate}}Zn.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Zn.PROVIDER_ID=P.P.PROVIDER_ID;const Li=P.aw;class dr{constructor(ee,J,Fe=H.Z.app()){var ot;Li(null===(ot=Fe.options)||void 0===ot?void 0:ot.apiKey,"invalid-api-key",{appName:Fe.name}),this._delegate=new P.R(ee,J,Fe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Yi(be){be.INTERNAL.registerComponent(new se.wA("auth-compat",ee=>{const J=ee.getProvider("app-compat").getImmediate(),Fe=ee.getProvider("auth");return new st(J,Fe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.L,FacebookAuthProvider:P.M,GithubAuthProvider:P.Q,GoogleAuthProvider:P.N,OAuthProvider:P.T,SAMLAuthProvider:P.U,PhoneAuthProvider:Zn,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:dr,TwitterAuthProvider:P.V,Auth:st,AuthCredential:P.G,Error:Q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),be.registerVersion("@firebase/auth-compat","0.2.8")}(H.Z)},2940:function(Ke,ve){!function(I){"use strict";function s(Ce){return Array.prototype.slice.call(Ce)}function H(Ce){return new Promise(function(Ee,oe){Ce.onsuccess=function(){Ee(Ce.result)},Ce.onerror=function(){oe(Ce.error)}})}function P(Ce,Ee,oe){var Ae,X=new Promise(function(de,Qe){H(Ae=Ce[Ee].apply(Ce,oe)).then(de,Qe)});return X.request=Ae,X}function Q(Ce,Ee,oe){var Ae=P(Ce,Ee,oe);return Ae.then(function(X){if(X)return new F(X,Ae.request)})}function z(Ce,Ee,oe){oe.forEach(function(Ae){Object.defineProperty(Ce.prototype,Ae,{get:function(){return this[Ee][Ae]},set:function(X){this[Ee][Ae]=X}})})}function fe(Ce,Ee,oe,Ae){Ae.forEach(function(X){X in oe.prototype&&(Ce.prototype[X]=function(){return P(this[Ee],X,arguments)})})}function se(Ce,Ee,oe,Ae){Ae.forEach(function(X){X in oe.prototype&&(Ce.prototype[X]=function(){return this[Ee][X].apply(this[Ee],arguments)})})}function xe(Ce,Ee,oe,Ae){Ae.forEach(function(X){X in oe.prototype&&(Ce.prototype[X]=function(){return Q(this[Ee],X,arguments)})})}function q(Ce){this._index=Ce}function F(Ce,Ee){this._cursor=Ce,this._request=Ee}function Z(Ce){this._store=Ce}function ie(Ce){this._tx=Ce,this.complete=new Promise(function(Ee,oe){Ce.oncomplete=function(){Ee()},Ce.onerror=function(){oe(Ce.error)},Ce.onabort=function(){oe(Ce.error)}})}function Se(Ce,Ee,oe){this._db=Ce,this.oldVersion=Ee,this.transaction=new ie(oe)}function pe(Ce){this._db=Ce}z(q,"_index",["name","keyPath","multiEntry","unique"]),fe(q,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),xe(q,"_index",IDBIndex,["openCursor","openKeyCursor"]),z(F,"_cursor",["direction","key","primaryKey","value"]),fe(F,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Ce){Ce in IDBCursor.prototype&&(F.prototype[Ce]=function(){var Ee=this,oe=arguments;return Promise.resolve().then(function(){return Ee._cursor[Ce].apply(Ee._cursor,oe),H(Ee._request).then(function(Ae){if(Ae)return new F(Ae,Ee._request)})})})}),Z.prototype.createIndex=function(){return new q(this._store.createIndex.apply(this._store,arguments))},Z.prototype.index=function(){return new q(this._store.index.apply(this._store,arguments))},z(Z,"_store",["name","keyPath","indexNames","autoIncrement"]),fe(Z,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),xe(Z,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),se(Z,"_store",IDBObjectStore,["deleteIndex"]),ie.prototype.objectStore=function(){return new Z(this._tx.objectStore.apply(this._tx,arguments))},z(ie,"_tx",["objectStoreNames","mode"]),se(ie,"_tx",IDBTransaction,["abort"]),Se.prototype.createObjectStore=function(){return new Z(this._db.createObjectStore.apply(this._db,arguments))},z(Se,"_db",["name","version","objectStoreNames"]),se(Se,"_db",IDBDatabase,["deleteObjectStore","close"]),pe.prototype.transaction=function(){return new ie(this._db.transaction.apply(this._db,arguments))},z(pe,"_db",["name","version","objectStoreNames"]),se(pe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Ce){[Z,q].forEach(function(Ee){Ce in Ee.prototype&&(Ee.prototype[Ce.replace("open","iterate")]=function(){var oe=s(arguments),Ae=oe[oe.length-1],X=this._store||this._index,de=X[Ce].apply(X,oe.slice(0,-1));de.onsuccess=function(){Ae(de.result)}})})}),[q,Z].forEach(function(Ce){Ce.prototype.getAll||(Ce.prototype.getAll=function(Ee,oe){var Ae=this,X=[];return new Promise(function(de){Ae.iterateCursor(Ee,function(Qe){Qe?(X.push(Qe.value),void 0===oe||X.length!=oe?Qe.continue():de(X)):de(X)})})})}),I.openDb=function Ie(Ce,Ee,oe){var Ae=P(indexedDB,"open",[Ce,Ee]),X=Ae.request;return X&&(X.onupgradeneeded=function(de){oe&&oe(new Se(X.result,de.oldVersion,X.transaction))}),Ae.then(function(de){return new pe(de)})},I.deleteDb=function ye(Ce){return P(indexedDB,"deleteDatabase",[Ce])},Object.defineProperty(I,"__esModule",{value:!0})}(ve)},717:(Ke,ve,I)=>{"use strict";var s=I(623);function H(P){return!0===s(P)&&"[object Object]"===Object.prototype.toString.call(P)}Ke.exports=function(Q){var z,fe;return!(!1===H(Q)||(z=Q.constructor,"function"!=typeof z)||(fe=z.prototype,!1===H(fe))||!1===fe.hasOwnProperty("isPrototypeOf"))}},623:Ke=>{"use strict";Ke.exports=function(I){return null!=I&&"object"==typeof I&&!1===Array.isArray(I)}},2872:Ke=>{var ve=Object.prototype.toString;function I(q){return"function"==typeof q.constructor?q.constructor.name:null}Ke.exports=function(F){if(void 0===F)return"undefined";if(null===F)return"null";var Z=typeof F;if("boolean"===Z)return"boolean";if("string"===Z)return"string";if("number"===Z)return"number";if("symbol"===Z)return"symbol";if("function"===Z)return function z(q,F){return"GeneratorFunction"===I(q)}(F)?"generatorfunction":"function";if(function s(q){return Array.isArray?Array.isArray(q):q instanceof Array}(F))return"array";if(function xe(q){return!(!q.constructor||"function"!=typeof q.constructor.isBuffer)&&q.constructor.isBuffer(q)}(F))return"buffer";if(function se(q){try{if("number"==typeof q.length&&"function"==typeof q.callee)return!0}catch(F){if(-1!==F.message.indexOf("callee"))return!0}return!1}(F))return"arguments";if(function P(q){return q instanceof Date||"function"==typeof q.toDateString&&"function"==typeof q.getDate&&"function"==typeof q.setDate}(F))return"date";if(function H(q){return q instanceof Error||"string"==typeof q.message&&q.constructor&&"number"==typeof q.constructor.stackTraceLimit}(F))return"error";if(function Q(q){return q instanceof RegExp||"string"==typeof q.flags&&"boolean"==typeof q.ignoreCase&&"boolean"==typeof q.multiline&&"boolean"==typeof q.global}(F))return"regexp";switch(I(F)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function fe(q){return"function"==typeof q.throw&&"function"==typeof q.return&&"function"==typeof q.next}(F))return"generator";switch(Z=ve.call(F)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return Z.slice(8,-1).toLowerCase().replace(/\s/g,"")}},9751:(Ke,ve,I)=>{"use strict";I.d(ve,{y:()=>xe});var s=I(930),H=I(727),P=I(8822),Q=I(9635),z=I(2416),fe=I(576),se=I(2806);let xe=(()=>{class ie{constructor(pe){pe&&(this._subscribe=pe)}lift(pe){const Ie=new ie;return Ie.source=this,Ie.operator=pe,Ie}subscribe(pe,Ie,ye){const Ce=function Z(ie){return ie&&ie instanceof s.Lv||function F(ie){return ie&&(0,fe.m)(ie.next)&&(0,fe.m)(ie.error)&&(0,fe.m)(ie.complete)}(ie)&&(0,H.Nn)(ie)}(pe)?pe:new s.Hp(pe,Ie,ye);return(0,se.x)(()=>{const{operator:Ee,source:oe}=this;Ce.add(Ee?Ee.call(Ce,oe):oe?this._subscribe(Ce):this._trySubscribe(Ce))}),Ce}_trySubscribe(pe){try{return this._subscribe(pe)}catch(Ie){pe.error(Ie)}}forEach(pe,Ie){return new(Ie=q(Ie))((ye,Ce)=>{const Ee=new s.Hp({next:oe=>{try{pe(oe)}catch(Ae){Ce(Ae),Ee.unsubscribe()}},error:Ce,complete:ye});this.subscribe(Ee)})}_subscribe(pe){var Ie;return null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(pe)}[P.L](){return this}pipe(...pe){return(0,Q.U)(pe)(this)}toPromise(pe){return new(pe=q(pe))((Ie,ye)=>{let Ce;this.subscribe(Ee=>Ce=Ee,Ee=>ye(Ee),()=>Ie(Ce))})}}return ie.create=Se=>new ie(Se),ie})();function q(ie){var Se;return null!==(Se=ie??z.v.Promise)&&void 0!==Se?Se:Promise}},7579:(Ke,ve,I)=>{"use strict";I.d(ve,{x:()=>se});var s=I(9751),H=I(727);const Q=(0,I(3888).d)(q=>function(){q(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var z=I(8737),fe=I(2806);let se=(()=>{class q extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const ie=new xe(this,this);return ie.operator=Z,ie}_throwIfClosed(){if(this.closed)throw new Q}next(Z){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(Z)}})}error(Z){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:ie}=this;for(;ie.length;)ie.shift().error(Z)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:ie,isStopped:Se,observers:pe}=this;return ie||Se?H.Lc:(this.currentObservers=null,pe.push(Z),new H.w0(()=>{this.currentObservers=null,(0,z.P)(pe,Z)}))}_checkFinalizedStatuses(Z){const{hasError:ie,thrownError:Se,isStopped:pe}=this;ie?Z.error(Se):pe&&Z.complete()}asObservable(){const Z=new s.y;return Z.source=this,Z}}return q.create=(F,Z)=>new xe(F,Z),q})();class xe extends se{constructor(F,Z){super(),this.destination=F,this.source=Z}next(F){var Z,ie;null===(ie=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===ie||ie.call(Z,F)}error(F){var Z,ie;null===(ie=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===ie||ie.call(Z,F)}complete(){var F,Z;null===(Z=null===(F=this.destination)||void 0===F?void 0:F.complete)||void 0===Z||Z.call(F)}_subscribe(F){var Z,ie;return null!==(ie=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(F))&&void 0!==ie?ie:H.Lc}}},930:(Ke,ve,I)=>{"use strict";I.d(ve,{Hp:()=>ye,Lv:()=>ie});var s=I(576),H=I(727),P=I(2416),Q=I(7849),z=I(5032);const fe=q("C",void 0,void 0);function q(X,de,Qe){return{kind:X,value:de,error:Qe}}var F=I(3410),Z=I(2806);class ie extends H.w0{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,H.Nn)(de)&&de.add(this)):this.destination=Ae}static create(de,Qe,Xe){return new ye(de,Qe,Xe)}next(de){this.isStopped?oe(function xe(X){return q("N",X,void 0)}(de),this):this._next(de)}error(de){this.isStopped?oe(function se(X){return q("E",void 0,X)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?oe(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Se=Function.prototype.bind;function pe(X,de){return Se.call(X,de)}class Ie{constructor(de){this.partialObserver=de}next(de){const{partialObserver:Qe}=this;if(Qe.next)try{Qe.next(de)}catch(Xe){Ce(Xe)}}error(de){const{partialObserver:Qe}=this;if(Qe.error)try{Qe.error(de)}catch(Xe){Ce(Xe)}else Ce(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(Qe){Ce(Qe)}}}class ye extends ie{constructor(de,Qe,Xe){let ce;if(super(),(0,s.m)(de)||!de)ce={next:de??void 0,error:Qe??void 0,complete:Xe??void 0};else{let Je;this&&P.v.useDeprecatedNextContext?(Je=Object.create(de),Je.unsubscribe=()=>this.unsubscribe(),ce={next:de.next&&pe(de.next,Je),error:de.error&&pe(de.error,Je),complete:de.complete&&pe(de.complete,Je)}):ce=de}this.destination=new Ie(ce)}}function Ce(X){P.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(X):(0,Q.h)(X)}function oe(X,de){const{onStoppedNotification:Qe}=P.v;Qe&&F.z.setTimeout(()=>Qe(X,de))}const Ae={closed:!0,next:z.Z,error:function Ee(X){throw X},complete:z.Z}},727:(Ke,ve,I)=>{"use strict";I.d(ve,{Lc:()=>fe,w0:()=>z,Nn:()=>se});var s=I(576);const P=(0,I(3888).d)(q=>function(Z){q(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((ie,Se)=>`${Se+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var Q=I(8737);class z{constructor(F){this.initialTeardown=F,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let F;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const pe of Z)pe.remove(this);else Z.remove(this);const{initialTeardown:ie}=this;if((0,s.m)(ie))try{ie()}catch(pe){F=pe instanceof P?pe.errors:[pe]}const{_finalizers:Se}=this;if(Se){this._finalizers=null;for(const pe of Se)try{xe(pe)}catch(Ie){F=F??[],Ie instanceof P?F=[...F,...Ie.errors]:F.push(Ie)}}if(F)throw new P(F)}}add(F){var Z;if(F&&F!==this)if(this.closed)xe(F);else{if(F instanceof z){if(F.closed||F._hasParent(this))return;F._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(F)}}_hasParent(F){const{_parentage:Z}=this;return Z===F||Array.isArray(Z)&&Z.includes(F)}_addParent(F){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(F),Z):Z?[Z,F]:F}_removeParent(F){const{_parentage:Z}=this;Z===F?this._parentage=null:Array.isArray(Z)&&(0,Q.P)(Z,F)}remove(F){const{_finalizers:Z}=this;Z&&(0,Q.P)(Z,F),F instanceof z&&F._removeParent(this)}}z.EMPTY=(()=>{const q=new z;return q.closed=!0,q})();const fe=z.EMPTY;function se(q){return q instanceof z||q&&"closed"in q&&(0,s.m)(q.remove)&&(0,s.m)(q.add)&&(0,s.m)(q.unsubscribe)}function xe(q){(0,s.m)(q)?q():q.unsubscribe()}},2416:(Ke,ve,I)=>{"use strict";I.d(ve,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ke,ve,I)=>{"use strict";I.d(ve,{E:()=>H});const H=new(I(9751).y)(z=>z.complete())},457:(Ke,ve,I)=>{"use strict";I.d(ve,{D:()=>Qe});var s=I(8421),H=I(5363),P=I(4482);function Q(Xe,ce=0){return(0,P.e)((Je,$e)=>{$e.add(Xe.schedule(()=>Je.subscribe($e),ce))})}var se=I(9751),q=I(2202),F=I(576),Z=I(9672);function Se(Xe,ce){if(!Xe)throw new Error("Iterable cannot be null");return new se.y(Je=>{(0,Z.f)(Je,ce,()=>{const $e=Xe[Symbol.asyncIterator]();(0,Z.f)(Je,ce,()=>{$e.next().then(me=>{me.done?Je.complete():Je.next(me.value)})},0,!0)})})}var pe=I(3670),Ie=I(8239),ye=I(1144),Ce=I(6495),Ee=I(2206),oe=I(4532),Ae=I(3260);function Qe(Xe,ce){return ce?function de(Xe,ce){if(null!=Xe){if((0,pe.c)(Xe))return function z(Xe,ce){return(0,s.Xf)(Xe).pipe(Q(ce),(0,H.Q)(ce))}(Xe,ce);if((0,ye.z)(Xe))return function xe(Xe,ce){return new se.y(Je=>{let $e=0;return ce.schedule(function(){$e===Xe.length?Je.complete():(Je.next(Xe[$e++]),Je.closed||this.schedule())})})}(Xe,ce);if((0,Ie.t)(Xe))return function fe(Xe,ce){return(0,s.Xf)(Xe).pipe(Q(ce),(0,H.Q)(ce))}(Xe,ce);if((0,Ee.D)(Xe))return Se(Xe,ce);if((0,Ce.T)(Xe))return function ie(Xe,ce){return new se.y(Je=>{let $e;return(0,Z.f)(Je,ce,()=>{$e=Xe[q.h](),(0,Z.f)(Je,ce,()=>{let me,ue;try{({value:me,done:ue}=$e.next())}catch(Ne){return void Je.error(Ne)}ue?Je.complete():Je.next(me)},0,!0)}),()=>(0,F.m)($e?.return)&&$e.return()})}(Xe,ce);if((0,Ae.L)(Xe))return function X(Xe,ce){return Se((0,Ae.Q)(Xe),ce)}(Xe,ce)}throw(0,oe.z)(Xe)}(Xe,ce):(0,s.Xf)(Xe)}},8421:(Ke,ve,I)=>{"use strict";I.d(ve,{Xf:()=>Se});var s=I(655),H=I(1144),P=I(8239),Q=I(9751),z=I(3670),fe=I(2206),se=I(4532),xe=I(6495),q=I(3260),F=I(576),Z=I(7849),ie=I(8822);function Se(X){if(X instanceof Q.y)return X;if(null!=X){if((0,z.c)(X))return function pe(X){return new Q.y(de=>{const Qe=X[ie.L]();if((0,F.m)(Qe.subscribe))return Qe.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(X);if((0,H.z)(X))return function Ie(X){return new Q.y(de=>{for(let Qe=0;Qe<X.length&&!de.closed;Qe++)de.next(X[Qe]);de.complete()})}(X);if((0,P.t)(X))return function ye(X){return new Q.y(de=>{X.then(Qe=>{de.closed||(de.next(Qe),de.complete())},Qe=>de.error(Qe)).then(null,Z.h)})}(X);if((0,fe.D)(X))return Ee(X);if((0,xe.T)(X))return function Ce(X){return new Q.y(de=>{for(const Qe of X)if(de.next(Qe),de.closed)return;de.complete()})}(X);if((0,q.L)(X))return function oe(X){return Ee((0,q.Q)(X))}(X)}throw(0,se.z)(X)}function Ee(X){return new Q.y(de=>{(function Ae(X,de){var Qe,Xe,ce,Je;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Qe=(0,s.KL)(X);!(Xe=yield Qe.next()).done;)if(de.next(Xe.value),de.closed)return}catch($e){ce={error:$e}}finally{try{Xe&&!Xe.done&&(Je=Qe.return)&&(yield Je.call(Qe))}finally{if(ce)throw ce.error}}de.complete()})})(X,de).catch(Qe=>de.error(Qe))})}},6451:(Ke,ve,I)=>{"use strict";I.d(ve,{T:()=>fe});var s=I(8189),H=I(8421),P=I(515),Q=I(3269),z=I(457);function fe(...se){const xe=(0,Q.yG)(se),q=(0,Q._6)(se,1/0),F=se;return F.length?1===F.length?(0,H.Xf)(F[0]):(0,s.J)(q)((0,z.D)(F,xe)):P.E}},5403:(Ke,ve,I)=>{"use strict";I.d(ve,{x:()=>H});var s=I(930);function H(Q,z,fe,se,xe){return new P(Q,z,fe,se,xe)}class P extends s.Lv{constructor(z,fe,se,xe,q,F){super(z),this.onFinalize=q,this.shouldUnsubscribe=F,this._next=fe?function(Z){try{fe(Z)}catch(ie){z.error(ie)}}:super._next,this._error=xe?function(Z){try{xe(Z)}catch(ie){z.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=se?function(){try{se()}catch(Z){z.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var z;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(z=this.onFinalize)||void 0===z||z.call(this))}}}},4004:(Ke,ve,I)=>{"use strict";I.d(ve,{U:()=>P});var s=I(4482),H=I(5403);function P(Q,z){return(0,s.e)((fe,se)=>{let xe=0;fe.subscribe((0,H.x)(se,q=>{se.next(Q.call(z,q,xe++))}))})}},8189:(Ke,ve,I)=>{"use strict";I.d(ve,{J:()=>P});var s=I(5577),H=I(4671);function P(Q=1/0){return(0,s.z)(H.y,Q)}},5577:(Ke,ve,I)=>{"use strict";I.d(ve,{z:()=>xe});var s=I(4004),H=I(8421),P=I(4482),Q=I(9672),z=I(5403),se=I(576);function xe(q,F,Z=1/0){return(0,se.m)(F)?xe((ie,Se)=>(0,s.U)((pe,Ie)=>F(ie,pe,Se,Ie))((0,H.Xf)(q(ie,Se))),Z):("number"==typeof F&&(Z=F),(0,P.e)((ie,Se)=>function fe(q,F,Z,ie,Se,pe,Ie,ye){const Ce=[];let Ee=0,oe=0,Ae=!1;const X=()=>{Ae&&!Ce.length&&!Ee&&F.complete()},de=Xe=>Ee<ie?Qe(Xe):Ce.push(Xe),Qe=Xe=>{pe&&F.next(Xe),Ee++;let ce=!1;(0,H.Xf)(Z(Xe,oe++)).subscribe((0,z.x)(F,Je=>{Se?.(Je),pe?de(Je):F.next(Je)},()=>{ce=!0},void 0,()=>{if(ce)try{for(Ee--;Ce.length&&Ee<ie;){const Je=Ce.shift();Ie?(0,Q.f)(F,Ie,()=>Qe(Je)):Qe(Je)}X()}catch(Je){F.error(Je)}}))};return q.subscribe((0,z.x)(F,de,()=>{Ae=!0,X()})),()=>{ye?.()}}(ie,Se,q,Z)))}},5363:(Ke,ve,I)=>{"use strict";I.d(ve,{Q:()=>Q});var s=I(9672),H=I(4482),P=I(5403);function Q(z,fe=0){return(0,H.e)((se,xe)=>{se.subscribe((0,P.x)(xe,q=>(0,s.f)(xe,z,()=>xe.next(q),fe),()=>(0,s.f)(xe,z,()=>xe.complete(),fe),q=>(0,s.f)(xe,z,()=>xe.error(q),fe)))})}},3410:(Ke,ve,I)=>{"use strict";I.d(ve,{z:()=>s});const s={setTimeout(H,P,...Q){const{delegate:z}=s;return z?.setTimeout?z.setTimeout(H,P,...Q):setTimeout(H,P,...Q)},clearTimeout(H){const{delegate:P}=s;return(P?.clearTimeout||clearTimeout)(H)},delegate:void 0}},2202:(Ke,ve,I)=>{"use strict";I.d(ve,{h:()=>H});const H=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ke,ve,I)=>{"use strict";I.d(ve,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Ke,ve,I)=>{"use strict";I.d(ve,{_6:()=>fe,jO:()=>Q,yG:()=>z});var s=I(576),H=I(3532);function P(se){return se[se.length-1]}function Q(se){return(0,s.m)(P(se))?se.pop():void 0}function z(se){return(0,H.K)(P(se))?se.pop():void 0}function fe(se,xe){return"number"==typeof P(se)?se.pop():xe}},8737:(Ke,ve,I)=>{"use strict";function s(H,P){if(H){const Q=H.indexOf(P);0<=Q&&H.splice(Q,1)}}I.d(ve,{P:()=>s})},3888:(Ke,ve,I)=>{"use strict";function s(H){const Q=H(z=>{Error.call(z),z.stack=(new Error).stack});return Q.prototype=Object.create(Error.prototype),Q.prototype.constructor=Q,Q}I.d(ve,{d:()=>s})},2806:(Ke,ve,I)=>{"use strict";I.d(ve,{O:()=>Q,x:()=>P});var s=I(2416);let H=null;function P(z){if(s.v.useDeprecatedSynchronousErrorHandling){const fe=!H;if(fe&&(H={errorThrown:!1,error:null}),z(),fe){const{errorThrown:se,error:xe}=H;if(H=null,se)throw xe}}else z()}function Q(z){s.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=z)}},9672:(Ke,ve,I)=>{"use strict";function s(H,P,Q,z=0,fe=!1){const se=P.schedule(function(){Q(),fe?H.add(this.schedule(null,z)):this.unsubscribe()},z);if(H.add(se),!fe)return se}I.d(ve,{f:()=>s})},4671:(Ke,ve,I)=>{"use strict";function s(H){return H}I.d(ve,{y:()=>s})},1144:(Ke,ve,I)=>{"use strict";I.d(ve,{z:()=>s});const s=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(Ke,ve,I)=>{"use strict";I.d(ve,{D:()=>H});var s=I(576);function H(P){return Symbol.asyncIterator&&(0,s.m)(P?.[Symbol.asyncIterator])}},576:(Ke,ve,I)=>{"use strict";function s(H){return"function"==typeof H}I.d(ve,{m:()=>s})},3670:(Ke,ve,I)=>{"use strict";I.d(ve,{c:()=>P});var s=I(8822),H=I(576);function P(Q){return(0,H.m)(Q[s.L])}},6495:(Ke,ve,I)=>{"use strict";I.d(ve,{T:()=>P});var s=I(2202),H=I(576);function P(Q){return(0,H.m)(Q?.[s.h])}},8239:(Ke,ve,I)=>{"use strict";I.d(ve,{t:()=>H});var s=I(576);function H(P){return(0,s.m)(P?.then)}},3260:(Ke,ve,I)=>{"use strict";I.d(ve,{L:()=>Q,Q:()=>P});var s=I(655),H=I(576);function P(z){return(0,s.FC)(this,arguments,function*(){const se=z.getReader();try{for(;;){const{value:xe,done:q}=yield(0,s.qq)(se.read());if(q)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(xe)}}finally{se.releaseLock()}})}function Q(z){return(0,H.m)(z?.getReader)}},3532:(Ke,ve,I)=>{"use strict";I.d(ve,{K:()=>H});var s=I(576);function H(P){return P&&(0,s.m)(P.schedule)}},4482:(Ke,ve,I)=>{"use strict";I.d(ve,{A:()=>H,e:()=>P});var s=I(576);function H(Q){return(0,s.m)(Q?.lift)}function P(Q){return z=>{if(H(z))return z.lift(function(fe){try{return Q(fe,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ke,ve,I)=>{"use strict";function s(){}I.d(ve,{Z:()=>s})},9635:(Ke,ve,I)=>{"use strict";I.d(ve,{U:()=>P,z:()=>H});var s=I(4671);function H(...Q){return P(Q)}function P(Q){return 0===Q.length?s.y:1===Q.length?Q[0]:function(fe){return Q.reduce((se,xe)=>xe(se),fe)}}},7849:(Ke,ve,I)=>{"use strict";I.d(ve,{h:()=>P});var s=I(2416),H=I(3410);function P(Q){H.z.setTimeout(()=>{const{onUnhandledError:z}=s.v;if(!z)throw Q;z(Q)})}},4532:(Ke,ve,I)=>{"use strict";function s(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}I.d(ve,{z:()=>s})},4315:(Ke,ve,I)=>{"use strict";const s=Symbol.prototype.valueOf,H=I(2872);Ke.exports=function P(q,F){switch(H(q)){case"array":return q.slice();case"object":return Object.assign({},q);case"date":return new q.constructor(Number(q));case"map":return new Map(q);case"set":return new Set(q);case"buffer":return function se(q){const F=q.length,Z=Buffer.allocUnsafe?Buffer.allocUnsafe(F):Buffer.from(F);return q.copy(Z),Z}(q);case"symbol":return function xe(q){return s?Object(s.call(q)):{}}(q);case"arraybuffer":return function z(q){const F=new q.constructor(q.byteLength);return new Uint8Array(F).set(new Uint8Array(q)),F}(q);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function fe(q,F){return new q.constructor(q.buffer,q.byteOffset,q.length)}(q);case"regexp":return function Q(q){const F=void 0!==q.flags?q.flags:/\w+$/.exec(q)||void 0,Z=new q.constructor(q.source,F);return Z.lastIndex=q.lastIndex,Z}(q);case"error":return Object.create(q);default:return q}}},655:(Ke,ve,I)=>{"use strict";function Q(me,ue){var Ne={};for(var ge in me)Object.prototype.hasOwnProperty.call(me,ge)&&ue.indexOf(ge)<0&&(Ne[ge]=me[ge]);if(null!=me&&"function"==typeof Object.getOwnPropertySymbols){var it=0;for(ge=Object.getOwnPropertySymbols(me);it<ge.length;it++)ue.indexOf(ge[it])<0&&Object.prototype.propertyIsEnumerable.call(me,ge[it])&&(Ne[ge[it]]=me[ge[it]])}return Ne}function z(me,ue,Ne,ge){var qt,it=arguments.length,qe=it<3?ue:null===ge?ge=Object.getOwnPropertyDescriptor(ue,Ne):ge;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qe=Reflect.decorate(me,ue,Ne,ge);else for(var Cn=me.length-1;Cn>=0;Cn--)(qt=me[Cn])&&(qe=(it<3?qt(qe):it>3?qt(ue,Ne,qe):qt(ue,Ne))||qe);return it>3&&qe&&Object.defineProperty(ue,Ne,qe),qe}function se(me,ue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(me,ue)}function xe(me,ue,Ne,ge){return new(Ne||(Ne=Promise))(function(qe,qt){function Cn(ri){try{Dt(ge.next(ri))}catch(Ji){qt(Ji)}}function Ui(ri){try{Dt(ge.throw(ri))}catch(Ji){qt(Ji)}}function Dt(ri){ri.done?qe(ri.value):function it(qe){return qe instanceof Ne?qe:new Ne(function(qt){qt(qe)})}(ri.value).then(Cn,Ui)}Dt((ge=ge.apply(me,ue||[])).next())})}function Ce(me){return this instanceof Ce?(this.v=me,this):new Ce(me)}function Ee(me,ue,Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,ge=Ne.apply(me,ue||[]),qe=[];return it={},qt("next"),qt("throw"),qt("return"),it[Symbol.asyncIterator]=function(){return this},it;function qt(Wt){ge[Wt]&&(it[Wt]=function(Ut){return new Promise(function(yn,_n){qe.push([Wt,Ut,yn,_n])>1||Cn(Wt,Ut)})})}function Cn(Wt,Ut){try{!function Ui(Wt){Wt.value instanceof Ce?Promise.resolve(Wt.value.v).then(Dt,ri):Ji(qe[0][2],Wt)}(ge[Wt](Ut))}catch(yn){Ji(qe[0][3],yn)}}function Dt(Wt){Cn("next",Wt)}function ri(Wt){Cn("throw",Wt)}function Ji(Wt,Ut){Wt(Ut),qe.shift(),qe.length&&Cn(qe[0][0],qe[0][1])}}function Ae(me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,ue=me[Symbol.asyncIterator];return ue?ue.call(me):(me=function ie(me){var ue="function"==typeof Symbol&&Symbol.iterator,Ne=ue&&me[ue],ge=0;if(Ne)return Ne.call(me);if(me&&"number"==typeof me.length)return{next:function(){return me&&ge>=me.length&&(me=void 0),{value:me&&me[ge++],done:!me}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(me),Ne={},ge("next"),ge("throw"),ge("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne);function ge(qe){Ne[qe]=me[qe]&&function(qt){return new Promise(function(Cn,Ui){!function it(qe,qt,Cn,Ui){Promise.resolve(Ui).then(function(Dt){qe({value:Dt,done:Cn})},qt)}(Cn,Ui,(qt=me[qe](qt)).done,qt.value)})}}}I.d(ve,{FC:()=>Ee,KL:()=>Ae,_T:()=>Q,gn:()=>z,mG:()=>xe,qq:()=>Ce,w6:()=>se})},1571:(Ke,ve,I)=>{"use strict";I.d(ve,{QbO:()=>AR,tb:()=>vi,AFp:()=>_f,ip1:()=>tC,CZH:()=>Kg,hGG:()=>BR,z2F:()=>Kd,sBO:()=>mE,Sil:()=>ER,_Vd:()=>Ep,EJc:()=>Pu,Xts:()=>$v,SBq:()=>Mp,lqb:()=>Du,qLn:()=>Ld,vpe:()=>Hl,XFs:()=>Ct,OlP:()=>ti,zs3:()=>Lp,ZZ4:()=>nm,aQg:()=>c0,soG:()=>Ru,YKP:()=>B,h0i:()=>Sr,PXZ:()=>Ky,R0b:()=>Uo,FiY:()=>Xs,Lbi:()=>SR,g9A:()=>eE,n_E:()=>$p,Qsj:()=>pN,FYo:()=>aD,JOm:()=>Za,q3G:()=>ki,tp0:()=>Wr,Rgc:()=>qp,dDg:()=>IR,eoX:()=>aE,q4F:()=>o1,GfV:()=>cD,s_b:()=>Oy,ifc:()=>fi,LMc:()=>jR,MMx:()=>kx,Lck:()=>Bl,eFA:()=>uE,G48:()=>LR,Gpc:()=>Ie,f3M:()=>bt,X6Q:()=>n_,_c5:()=>CC,c2e:()=>$y,zSh:()=>r1,wAp:()=>jt,vHH:()=>oe,lri:()=>e_,rWj:()=>oE,EiD:()=>qw,mCW:()=>wu,qzn:()=>C,JVY:()=>y,pB0:()=>he,eBb:()=>L,L6k:()=>w,LAX:()=>j,D6c:()=>UR,cg1:()=>QS,kL8:()=>EO,dqk:()=>Vn,sIi:()=>Tg,CqO:()=>NS,QGY:()=>J1,QP$:()=>pf,F4k:()=>IS,RDi:()=>eg,AaK:()=>ie,z3N:()=>Po,qOj:()=>uy,TTD:()=>cu,_Bn:()=>za,xp6:()=>UD,uIk:()=>AS,Tol:()=>ix,Gre:()=>mO,ekj:()=>nx,Suo:()=>ff,Xpm:()=>Zn,lG2:()=>Fe,Yz7:()=>bi,cJS:()=>Hi,oAB:()=>be,Yjl:()=>ot,Y36:()=>Op,_UZ:()=>Og,GkF:()=>_y,BQk:()=>lf,ynx:()=>Hd,qZA:()=>gy,TgZ:()=>my,EpF:()=>MS,n5z:()=>Ua,Ikx:()=>JS,SDv:()=>gA,QtT:()=>_A,pQV:()=>Tx,LFG:()=>We,$8M:()=>xl,$Z:()=>JD,NdJ:()=>Yd,CRH:()=>Vy,kcU:()=>Yb,O4$:()=>Nh,oxw:()=>Zd,ALo:()=>EA,lcZ:()=>kA,xi3:()=>Zp,Hsn:()=>XL,F$t:()=>QL,Q6J:()=>Lg,s9C:()=>OS,MGl:()=>X1,DdM:()=>Ul,VKq:()=>qd,WLB:()=>wA,kEZ:()=>jp,iGM:()=>PA,MAs:()=>Mi,KtG:()=>ad,evT:()=>ug,Jf7:()=>Rd,CHM:()=>od,oJD:()=>ng,LSH:()=>Gv,kYT:()=>ee,Jzz:()=>vO,Udp:()=>tx,d8E:()=>hx,YNc:()=>JL,W1O:()=>BA,_uU:()=>cx,Oqu:()=>Cy,hij:()=>ux,AsE:()=>YS,Gf:()=>FA});var s=I(7579),H=I(727),P=I(9751),Q=I(6451),z=I(8421),fe=I(930),se=I(4482);function q(l,c,...d){if(!0===c)return void l();if(!1===c)return;const h=new fe.Hp({next:()=>{h.unsubscribe(),l()}});return c(...d).subscribe(h)}function F(l){for(let c in l)if(l[c]===F)return c;throw Error("Could not find renamed property on target object.")}function Z(l,c){for(const d in c)c.hasOwnProperty(d)&&!l.hasOwnProperty(d)&&(l[d]=c[d])}function ie(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(ie).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function Se(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const pe=F({__forward_ref__:F});function Ie(l){return l.__forward_ref__=Ie,l.toString=function(){return ie(this())},l}function ye(l){return Ce(l)?l():l}function Ce(l){return"function"==typeof l&&l.hasOwnProperty(pe)&&l.__forward_ref__===Ie}class oe extends Error{constructor(c,d){super(function Ae(l,c){return`NG0${Math.abs(l)}${c?": "+c.trim():""}`}(c,d)),this.code=c}}function X(l){return"string"==typeof l?l:null==l?"":String(l)}function Je(l,c){throw new oe(-201,!1)}function Ut(l,c,d,h){throw new Error(`ASSERTION ERROR: ${l}`+(null==h?"":` [Expected=> ${d} ${h} ${c} <=Actual]`))}function bi(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function Hi(l){return{providers:l.providers||[],imports:l.imports||[]}}function xs(l){return bo(l,Ir)||bo(l,$r)}function bo(l,c){return l.hasOwnProperty(c)?l[c]:null}function Ys(l){return l&&(l.hasOwnProperty(Jn)||l.hasOwnProperty(hi))?l[Jn]:null}const Ir=F({\u0275prov:F}),Jn=F({\u0275inj:F}),$r=F({ngInjectableDef:F}),hi=F({ngInjectorDef:F});var Ct=(()=>((Ct=Ct||{})[Ct.Default=0]="Default",Ct[Ct.Host=1]="Host",Ct[Ct.Self=2]="Self",Ct[Ct.SkipSelf=4]="SkipSelf",Ct[Ct.Optional=8]="Optional",Ct))();let St;function Ht(l){const c=St;return St=l,c}function Yn(l,c,d){const h=xs(l);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:d&Ct.Optional?null:void 0!==c?c:void Je(ie(l))}function dt(l){return{toString:l}.toString()}var yt=(()=>((yt=yt||{})[yt.OnPush=0]="OnPush",yt[yt.Default=1]="Default",yt))(),fi=(()=>{return(l=fi||(fi={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",fi;var l})();const Vn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zt={},W=[],$=F({\u0275cmp:F}),ae=F({\u0275dir:F}),Le=F({\u0275pipe:F}),_e=F({\u0275mod:F}),st=F({\u0275fac:F}),It=F({__NG_ELEMENT_ID__:F});let Sn=0;function Zn(l){return dt(()=>{const d=!0===l.standalone,h={},p={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===yt.OnPush,directiveDefs:null,pipeDefs:null,standalone:d,dependencies:d&&l.dependencies||null,getStandaloneInjector:null,selectors:l.selectors||W,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||fi.Emulated,id:"c"+Sn++,styles:l.styles||W,_:null,setInput:null,schemas:l.schemas||null,tView:null},g=l.dependencies,b=l.features;return p.inputs=J(l.inputs,h),p.outputs=J(l.outputs),b&&b.forEach(T=>T(p)),p.directiveDefs=g?()=>("function"==typeof g?g():g).map(dr).filter(dn):null,p.pipeDefs=g?()=>("function"==typeof g?g():g).map(Zt).filter(dn):null,p})}function dr(l){return ht(l)||Ft(l)}function dn(l){return null!==l}const Yi={};function be(l){return dt(()=>{const c={type:l.type,bootstrap:l.bootstrap||W,declarations:l.declarations||W,imports:l.imports||W,exports:l.exports||W,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null};return null!=l.id&&(Yi[l.id]=l.type),c})}function ee(l,c){return dt(()=>{const d=nn(l,!0);d.declarations=c.declarations||W,d.imports=c.imports||W,d.exports=c.exports||W})}function J(l,c){if(null==l)return zt;const d={};for(const h in l)if(l.hasOwnProperty(h)){let p=l[h],g=p;Array.isArray(p)&&(g=p[1],p=p[0]),d[p]=h,c&&(c[p]=g)}return d}const Fe=Zn;function ot(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function ht(l){return l[$]||null}function Ft(l){return l[ae]||null}function Zt(l){return l[Le]||null}function nn(l,c){const d=l[_e]||null;if(!d&&!0===c)throw new Error(`Type ${ie(l)} does not have '\u0275mod' property.`);return d}function hr(l){return Array.isArray(l)&&"object"==typeof l[1]}function Ao(l){return Array.isArray(l)&&!0===l[1]}function dl(l){return 0!=(8&l.flags)}function ed(l){return 2==(2&l.flags)}function ic(l){return 1==(1&l.flags)}function Rr(l){return null!==l.template}function Pr(l){return 0!=(256&l[2])}function hl(l,c){return l.hasOwnProperty(st)?l[st]:null}class id{constructor(c,d,h){this.previousValue=c,this.currentValue=d,this.firstChange=h}isFirstChange(){return this.firstChange}}function cu(){return fl}function fl(l){return l.type.prototype.ngOnChanges&&(l.setInput=Qn),wv}function wv(){const l=Zs(this),c=l?.current;if(c){const d=l.previous;if(d===zt)l.previous=c;else for(let h in c)d[h]=c[h];l.current=null,this.ngOnChanges(c)}}function Qn(l,c,d,h){const p=Zs(l)||function xh(l,c){return l[Ia]=c}(l,{previous:zt,current:null}),g=p.current||(p.current={}),b=p.previous,T=this.declaredInputs[d],D=b[T];g[T]=new id(D&&D.currentValue,c,b===zt),l[h]=c}cu.ngInherit=!0;const Ia="__ngSimpleChanges__";function Zs(l){return l[Ia]||null}function $n(l){for(;Array.isArray(l);)l=l[0];return l}function Na(l,c){return $n(c[l])}function Cr(l,c){return $n(c[l.index])}function Gs(l,c){return l.data[c]}function pl(l,c){return l[c]}function Ri(l,c){const d=c[l];return hr(d)?d:d[0]}function ml(l){return 4==(4&l[2])}function oc(l){return 64==(64&l[2])}function ko(l,c){return null==c?null:l[c]}function hu(l){l[18]=0}function fu(l,c){l[5]+=c;let d=l,h=l[3];for(;null!==h&&(1===c&&1===d[5]||-1===c&&0===d[5]);)h[5]+=c,d=h,h=h[3]}const Vt={lFrame:vl(null),bindingsEnabled:!0};function Oa(){return Vt.bindingsEnabled}function Be(){return Vt.lFrame.lView}function hn(){return Vt.lFrame.tView}function od(l){return Vt.lFrame.contextLView=l,l[8]}function ad(l){return Vt.lFrame.contextLView=null,l}function xi(){let l=Ra();for(;null!==l&&64===l.type;)l=l.parent;return l}function Ra(){return Vt.lFrame.currentTNode}function Pa(){const l=Vt.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}function $s(l,c){const d=Vt.lFrame;d.currentTNode=l,d.isParent=c}function Fa(){return Vt.lFrame.isParent}function gl(){Vt.lFrame.isParent=!1}function Fr(){const l=Vt.lFrame;let c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function Ts(){return Vt.lFrame.bindingIndex}function Io(){return Vt.lFrame.bindingIndex++}function ra(l){const c=Vt.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,d}function cd(l){Vt.lFrame.inI18n=l}function Eh(l,c){const d=Vt.lFrame;d.bindingIndex=d.bindingRootIndex=l,_l(c)}function _l(l){Vt.lFrame.currentDirectiveIndex=l}function ud(l){const c=Vt.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}function dd(){return Vt.lFrame.currentQueryIndex}function mu(l){Vt.lFrame.currentQueryIndex=l}function Mh(l){const c=l[1];return 2===c.type?c.declTNode:1===c.type?l[6]:null}function hd(l,c,d){if(d&Ct.SkipSelf){let p=c,g=l;for(;!(p=p.parent,null!==p||d&Ct.Host||(p=Mh(g),null===p||(g=g[15],10&p.type))););if(null===p)return!1;c=p,l=g}const h=Vt.lFrame=Ih();return h.currentTNode=c,h.lView=l,!0}function fd(l){const c=Ih(),d=l[1];Vt.lFrame=c,c.currentTNode=d.firstChild,c.lView=l,c.tView=d,c.contextLView=l,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function Ih(){const l=Vt.lFrame,c=null===l?null:l.child;return null===c?vl(l):c}function vl(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function pd(){const l=Vt.lFrame;return Vt.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const sa=pd;function gu(){const l=pd();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function Vr(){return Vt.lFrame.selectedIndex}function No(l){Vt.lFrame.selectedIndex=l}function gi(){const l=Vt.lFrame;return Gs(l.tView,l.selectedIndex)}function Nh(){Vt.lFrame.currentNamespace="svg"}function Yb(){!function jw(){Vt.lFrame.currentNamespace=null}()}function rp(l,c){for(let d=c.directiveStart,h=c.directiveEnd;d<h;d++){const g=l.data[d].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:T,ngAfterViewInit:D,ngAfterViewChecked:M,ngOnDestroy:R}=g;b&&(l.contentHooks||(l.contentHooks=[])).push(-d,b),T&&((l.contentHooks||(l.contentHooks=[])).push(d,T),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(d,T)),D&&(l.viewHooks||(l.viewHooks=[])).push(-d,D),M&&((l.viewHooks||(l.viewHooks=[])).push(d,M),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(d,M)),null!=R&&(l.destroyHooks||(l.destroyHooks=[])).push(d,R)}}function oa(l,c,d){qm(l,c,3,d)}function ws(l,c,d,h){(3&l[2])===d&&qm(l,c,d,h)}function uc(l,c){let d=l[2];(3&d)===c&&(d&=2047,d+=1,l[2]=d)}function qm(l,c,d,h){const g=h??-1,b=c.length-1;let T=0;for(let D=void 0!==h?65535&l[18]:0;D<b;D++)if("number"==typeof c[D+1]){if(T=c[D],null!=h&&T>=h)break}else c[D]<0&&(l[18]+=65536),(T<g||-1==g)&&(Ev(l,d,c,D),l[18]=(4294901760&l[18])+D+2),D++}function Ev(l,c,d,h){const p=d[h]<0,g=d[h+1],T=l[p?-d[h]:d[h]];if(p){if(l[2]>>11<l[18]>>16&&(3&l[2])===c){l[2]+=2048;try{g.call(T)}finally{}}}else try{g.call(T)}finally{}}class Di{constructor(c,d,h){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=h}}function op(l,c,d){let h=0;for(;h<d.length;){const p=d[h];if("number"==typeof p){if(0!==p)break;h++;const g=d[h++],b=d[h++],T=d[h++];l.setAttribute(c,b,T,g)}else{const g=p,b=d[++h];kv(g)?l.setProperty(c,g,b):l.setAttribute(c,g,b),h++}}return h}function ap(l){return 3===l||4===l||6===l}function kv(l){return 64===l.charCodeAt(0)}function pr(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let d=-1;for(let h=0;h<c.length;h++){const p=c[h];"number"==typeof p?d=p:0===d||gd(l,d,p,null,-1===d||2===d?c[++h]:null)}}return l}function gd(l,c,d,h,p){let g=0,b=l.length;if(-1===c)b=-1;else for(;g<l.length;){const T=l[g++];if("number"==typeof T){if(T===c){b=-1;break}if(T>c){b=g-1;break}}}for(;g<l.length;){const T=l[g];if("number"==typeof T)break;if(T===d){if(null===h)return void(null!==p&&(l[g+1]=p));if(h===l[g+1])return void(l[g+2]=p)}g++,null!==h&&g++,null!==p&&g++}-1!==b&&(l.splice(b,0,c),g=b+1),l.splice(g++,0,d),null!==h&&l.splice(g++,0,h),null!==p&&l.splice(g++,0,p)}function lp(l){return-1!==l}function qs(l){return 32767&l}function li(l,c){let d=function Km(l){return l>>16}(l),h=c;for(;d>0;)h=h[15],d--;return h}let Tr=!0;function wr(l){const c=Tr;return Tr=l,c}let sn=0;const Pi={};function Ba(l,c){const d=Nt(l,c);if(-1!==d)return d;const h=c[1];h.firstCreatePass&&(l.injectorIndex=c.length,cs(h.data,l),cs(c,null),cs(h.blueprint,null));const p=bl(l,c),g=l.injectorIndex;if(lp(p)){const b=qs(p),T=li(p,c),D=T[1].data;for(let M=0;M<8;M++)c[g+M]=T[b+M]|D[b+M]}return c[g+8]=p,g}function cs(l,c){l.push(0,0,0,0,0,0,0,0,c)}function Nt(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function bl(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let d=0,h=null,p=c;for(;null!==p;){if(h=xu(p),null===h)return-1;if(d++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|d<<16}return-1}function dc(l,c,d){!function mr(l,c,d){let h;"string"==typeof d?h=d.charCodeAt(0)||0:d.hasOwnProperty(It)&&(h=d[It]),null==h&&(h=d[It]=sn++);const p=255&h;c.data[l+(p>>5)]|=1<<p}(l,c,d)}function Ws(l,c,d){if(d&Ct.Optional)return l;Je()}function yu(l,c,d,h){if(d&Ct.Optional&&void 0===h&&(h=null),0==(d&(Ct.Self|Ct.Host))){const p=l[9],g=Ht(void 0);try{return p?p.get(c,h,d&Ct.Optional):Yn(c,h,d&Ct.Optional)}finally{Ht(g)}}return Ws(h,0,d)}function Ph(l,c,d,h=Ct.Default,p){if(null!==l){if(1024&c[2]){const b=function Ha(l,c,d,h,p){let g=l,b=c;for(;null!==g&&null!==b&&1024&b[2]&&!(256&b[2]);){const T=ui(g,b,d,h|Ct.Self,Pi);if(T!==Pi)return T;let D=g.parent;if(!D){const M=b[21];if(M){const R=M.get(d,Pi,h);if(R!==Pi)return R}D=xu(b),b=b[15]}g=D}return p}(l,c,d,h,Pi);if(b!==Pi)return b}const g=ui(l,c,d,h,Pi);if(g!==Pi)return g}return yu(c,d,h,p)}function ui(l,c,d,h,p){const g=function cp(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(It)?l[It]:void 0;return"number"==typeof c?c>=0?255&c:Jm:c}(d);if("function"==typeof g){if(!hd(c,l,h))return h&Ct.Host?Ws(p,0,h):yu(c,d,h,p);try{const b=g(h);if(null!=b||h&Ct.Optional)return b;Je()}finally{sa()}}else if("number"==typeof g){let b=null,T=Nt(l,c),D=-1,M=h&Ct.Host?c[16][6]:null;for((-1===T||h&Ct.SkipSelf)&&(D=-1===T?bl(l,c):c[T+8],-1!==D&&up(h,!1)?(b=c[1],T=qs(D),c=li(D,c)):T=-1);-1!==T;){const R=c[1];if(Lo(g,T,R.data)){const Y=_d(T,c,d,b,h,M);if(Y!==Pi)return Y}D=c[T+8],-1!==D&&up(h,c[1].data[T+8]===M)&&Lo(g,T,c)?(b=R,T=qs(D),c=li(D,c)):T=-1}}return p}function _d(l,c,d,h,p,g){const b=c[1],T=b.data[l+8],R=bu(T,b,d,null==h?ed(T)&&Tr:h!=b&&0!=(3&T.type),p&Ct.Host&&g===T);return null!==R?aa(c,b,R,T):Pi}function bu(l,c,d,h,p){const g=l.providerIndexes,b=c.data,T=1048575&g,D=l.directiveStart,R=g>>20,K=p?T+R:l.directiveEnd;for(let le=h?T:T+R;le<K;le++){const Oe=b[le];if(le<D&&d===Oe||le>=D&&Oe.type===d)return le}if(p){const le=b[D];if(le&&Rr(le)&&le.type===d)return D}return null}function aa(l,c,d,h){let p=l[d];const g=c.data;if(function Oh(l){return l instanceof Di}(p)){const b=p;b.resolving&&function Qe(l,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${l}`:"";throw new oe(-200,`Circular dependency in DI detected for ${l}${d}`)}(function de(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():X(l)}(g[d]));const T=wr(b.canSeeViewProviders);b.resolving=!0;const D=b.injectImpl?Ht(b.injectImpl):null;hd(l,h,Ct.Default);try{p=l[d]=b.factory(void 0,g,l,h),c.firstCreatePass&&d>=h.directiveStart&&function cc(l,c,d){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:g}=c.type.prototype;if(h){const b=fl(c);(d.preOrderHooks||(d.preOrderHooks=[])).push(l,b),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,b)}p&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-l,p),g&&((d.preOrderHooks||(d.preOrderHooks=[])).push(l,g),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,g))}(d,g[d],c)}finally{null!==D&&Ht(D),wr(T),b.resolving=!1,sa()}}return p}function Lo(l,c,d){return!!(d[c+(l>>5)]&1<<l)}function up(l,c){return!(l&Ct.Self||l&Ct.Host&&c)}class la{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,h){return Ph(this._tNode,this._lView,c,h,d)}}function Jm(){return new la(xi(),Be())}function Ua(l){return dt(()=>{const c=l.prototype.constructor,d=c[st]||vd(c),h=Object.prototype;let p=Object.getPrototypeOf(l.prototype).constructor;for(;p&&p!==h;){const g=p[st]||vd(p);if(g&&g!==d)return g;p=Object.getPrototypeOf(p)}return g=>new g})}function vd(l){return Ce(l)?()=>{const c=vd(ye(l));return c&&c()}:hl(l)}function xu(l){const c=l[1],d=c.type;return 2===d?c.declTNode:1===d?l[6]:null}function xl(l){return function vu(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const d=l.attrs;if(d){const h=d.length;let p=0;for(;p<h;){const g=d[p];if(ap(g))break;if(0===g)p+=2;else if("number"==typeof g)for(p++;p<h&&"string"==typeof d[p];)p++;else{if(g===c)return d[p+1];p+=2}}}return null}(xi(),l)}const zs="__parameters__";function ca(l,c,d){return dt(()=>{const h=function dp(l){return function(...d){if(l){const h=l(...d);for(const p in h)this[p]=h[p]}}}(c);function p(...g){if(this instanceof p)return h.apply(this,g),this;const b=new p(...g);return T.annotation=b,T;function T(D,M,R){const Y=D.hasOwnProperty(zs)?D[zs]:Object.defineProperty(D,zs,{value:[]})[zs];for(;Y.length<=R;)Y.push(null);return(Y[R]=Y[R]||[]).push(b),D}}return d&&(p.prototype=Object.create(d.prototype)),p.prototype.ngMetadataName=l,p.annotationCls=p,p})}class ti{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=bi({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function us(l,c){void 0===c&&(c=l);for(let d=0;d<l.length;d++){let h=l[d];Array.isArray(h)?(c===l&&(c=l.slice(0,d)),us(h,c)):c!==l&&c.push(h)}return c}function qr(l,c){l.forEach(d=>Array.isArray(d)?qr(d,c):c(d))}function mc(l,c,d){c>=l.length?l.push(d):l.splice(c,0,d)}function Js(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function ds(l,c){const d=[];for(let h=0;h<l;h++)d.push(c);return d}function gr(l,c,d){let h=_r(l,c);return h>=0?l[1|h]=d:(h=~h,function ni(l,c,d,h){let p=l.length;if(p==c)l.push(d,h);else if(1===p)l.push(h,l[0]),l[0]=d;else{for(p--,l.push(l[p-1],l[p]);p>c;)l[p]=l[p-2],p--;l[c]=d,l[c+1]=h}}(l,h,c,d)),h}function xd(l,c){const d=_r(l,c);if(d>=0)return l[1|d]}function _r(l,c){return function ua(l,c,d){let h=0,p=l.length>>d;for(;p!==h;){const g=h+(p-h>>1),b=l[g<<d];if(c===b)return g<<d;b>c?p=g:h=g+1}return~(p<<d)}(l,c,1)}const Cu={},Tu="__NG_DI_FLAG__",wd="ngTempTokenPath",E=/\n/gm,G="__source";let ne;function De(l){const c=ne;return ne=l,c}function Re(l,c=Ct.Default){if(void 0===ne)throw new oe(-203,!1);return null===ne?Yn(l,void 0,c):ne.get(l,c&Ct.Optional?null:void 0,c)}function We(l,c=Ct.Default){return(function Rt(){return St}()||Re)(ye(l),c)}function bt(l,c=Ct.Default){return"number"!=typeof c&&(c=0|(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)),We(l,c)}function Nn(l){const c=[];for(let d=0;d<l.length;d++){const h=ye(l[d]);if(Array.isArray(h)){if(0===h.length)throw new oe(900,!1);let p,g=Ct.Default;for(let b=0;b<h.length;b++){const T=h[b],D=Ur(T);"number"==typeof D?-1===D?p=T.token:g|=D:p=T}c.push(We(p,g))}else c.push(We(h))}return c}function Vi(l,c){return l[Tu]=c,l.prototype[Tu]=c,l}function Ur(l){return l[Tu]}const Xs=Vi(ca("Optional"),8),Wr=Vi(ca("SkipSelf"),4);let Hr,yp,Gh;function eg(l){Hr=l}function Ad(){return void 0!==Hr?Hr:typeof document<"u"?document:void 0}function Ed(l){return function Zh(){if(void 0===yp&&(yp=null,Vn.trustedTypes))try{yp=Vn.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return yp}()?.createHTML(l)||l}function Hv(l){return function Uv(){if(void 0===Gh&&(Gh=null,Vn.trustedTypes))try{Gh=Vn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return Gh}()?.createHTML(l)||l}class xc{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Yv extends xc{getTypeName(){return"HTML"}}class jv extends xc{getTypeName(){return"Style"}}class Wb extends xc{getTypeName(){return"Script"}}class tg extends xc{getTypeName(){return"URL"}}class $h extends xc{getTypeName(){return"ResourceURL"}}function Po(l){return l instanceof xc?l.changingThisBreaksApplicationSecurity:l}function C(l,c){const d=function _(l){return l instanceof xc&&l.getTypeName()||null}(l);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===c}function y(l){return new Yv(l)}function w(l){return new jv(l)}function L(l){return new Wb(l)}function j(l){return new tg(l)}function he(l){return new $h(l)}function Ue(l){const c=new Bt(l);return function Qt(){try{return!!(new window.DOMParser).parseFromString(Ed(""),"text/html")}catch{return!1}}()?new xt(c):c}class xt{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(Ed(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch{return null}}}class Bt{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const h=this.inertDocument.createElement("body");d.appendChild(h)}}getInertBodyElement(c){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=Ed(c),d;const h=this.inertDocument.createElement("body");return h.innerHTML=Ed(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(c){const d=c.attributes;for(let p=d.length-1;0<p;p--){const b=d.item(p).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&c.removeAttribute(b)}let h=c.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Ei=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Tc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function wu(l){return(l=String(l)).match(Ei)||l.match(Tc)?l:"unsafe:"+l}function kd(l){return(l=String(l)).split(",").map(c=>wu(c.trim())).join(", ")}function Kr(l){const c={};for(const d of l.split(","))c[d]=!0;return c}function Sl(...l){const c={};for(const d of l)for(const h in d)d.hasOwnProperty(h)&&(c[h]=!0);return c}const Md=Kr("area,br,col,hr,img,wbr"),xp=Kr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qh=Kr("rp,rt"),Tp=Sl(Md,Sl(xp,Kr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sl(qh,Kr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sl(qh,xp)),Wh=Kr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wp=Kr("srcset"),Gw=Sl(Wh,wp,Kr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$w=Kr("script,style,template");class pH{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,h=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?h=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,h&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let p=this.checkClobberedElement(d,d.nextSibling);if(p){d=p;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!Tp.hasOwnProperty(d))return this.sanitizedSomething=!0,!$w.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const h=c.attributes;for(let p=0;p<h.length;p++){const g=h.item(p),b=g.name,T=b.toLowerCase();if(!Gw.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let D=g.value;Wh[T]&&(D=wu(D)),wp[T]&&(D=kd(D)),this.buf.push(" ",b,'="',Jb(D),'"')}return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();Tp.hasOwnProperty(d)&&!Md.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(Jb(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const Kb=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oN=/([^\#-~ |!])/g;function Jb(l){return l.replace(/&/g,"&amp;").replace(Kb,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(oN,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Dp;function qw(l,c){let d=null;try{Dp=Dp||Ue(l);let h=c?String(c):"";d=Dp.getInertBodyElement(h);let p=5,g=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=g,g=d.innerHTML,d=Dp.getInertBodyElement(h)}while(h!==g);return Ed((new pH).sanitizeChildren(Ww(d)||d))}finally{if(d){const h=Ww(d)||d;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Ww(l){return"content"in l&&function aN(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var ki=(()=>((ki=ki||{})[ki.NONE=0]="NONE",ki[ki.HTML=1]="HTML",ki[ki.STYLE=2]="STYLE",ki[ki.SCRIPT=3]="SCRIPT",ki[ki.URL=4]="URL",ki[ki.RESOURCE_URL=5]="RESOURCE_URL",ki))();function ng(l){const c=ig();return c?Hv(c.sanitize(ki.HTML,l)||""):C(l,"HTML")?Hv(Po(l)):qw(Ad(),X(l))}function Gv(l){const c=ig();return c?c.sanitize(ki.URL,l)||"":C(l,"URL")?Po(l):wu(X(l))}function ig(){const l=Be();return l&&l[12]}const $v=new ti("ENVIRONMENT_INITIALIZER"),Jw=new ti("INJECTOR",-1),Qb=new ti("INJECTOR_DEF_TYPES");class zh{get(c,d=Cu){if(d===Cu){const h=new Error(`NullInjectorError: No provider for ${ie(c)}!`);throw h.name="NullInjectorError",h}return d}}function eo(...l){return{\u0275providers:Qw(0,l)}}function Qw(l,...c){const d=[],h=new Set;let p;return qr(c,g=>{const b=g;Xb(b,d,[],h)&&(p||(p=[]),p.push(b))}),void 0!==p&&rg(p,d),d}function rg(l,c){for(let d=0;d<l.length;d++){const{providers:p}=l[d];qr(p,g=>{c.push(g)})}}function Xb(l,c,d,h){if(!(l=ye(l)))return!1;let p=null,g=Ys(l);const b=!g&&ht(l);if(g||b){if(b&&!b.standalone)return!1;p=l}else{const D=l.ngModule;if(g=Ys(D),!g)return!1;p=D}const T=h.has(p);if(b){if(T)return!1;if(h.add(p),b.dependencies){const D="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const M of D)Xb(M,c,d,h)}}else{if(!g)return!1;{if(null!=g.imports&&!T){let M;h.add(p);try{qr(g.imports,R=>{Xb(R,c,d,h)&&(M||(M=[]),M.push(R))})}finally{}void 0!==M&&rg(M,c)}if(!T){const M=hl(p)||(()=>new p);c.push({provide:p,useFactory:M,deps:W},{provide:Qb,useValue:p,multi:!0},{provide:$v,useValue:()=>We(p),multi:!0})}const D=g.providers;null==D||T||qr(D,R=>{c.push(R)})}}return p!==l&&void 0!==l.providers}const Xw=F({provide:String,useValue:F});function e1(l){return null!==l&&"object"==typeof l&&Xw in l}function Id(l){return"function"==typeof l}const r1=new ti("Set Injector scope."),sg={},cN={};let Jr;function qv(){return void 0===Jr&&(Jr=new zh),Jr}class Du{}class tD extends Du{constructor(c,d,h,p){super(),this.parent=d,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,s1(c,b=>this.processProvider(b)),this.records.set(Jw,Ap(void 0,this)),p.has("environment")&&this.records.set(Du,Ap(void 0,this));const g=this.records.get(r1);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Qb.multi,W,Ct.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const d=De(this),h=Ht(void 0);try{return c()}finally{De(d),Ht(h)}}get(c,d=Cu,h=Ct.Default){this.assertNotDestroyed();const p=De(this),g=Ht(void 0);try{if(!(h&Ct.SkipSelf)){let T=this.records.get(c);if(void 0===T){const D=function Su(l){return"function"==typeof l||"object"==typeof l&&l instanceof ti}(c)&&xs(c);T=D&&this.injectableDefInScope(D)?Ap(Sp(c),sg):null,this.records.set(c,T)}if(null!=T)return this.hydrate(c,T)}return(h&Ct.Self?qv():this.parent).get(c,d=h&Ct.Optional&&d===Cu?null:d)}catch(b){if("NullInjectorError"===b.name){if((b[wd]=b[wd]||[]).unshift(ie(c)),p)throw b;return function Zi(l,c,d,h){const p=l[wd];throw c[G]&&p.unshift(c[G]),l.message=function Dl(l,c,d,h=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let p=ie(c);if(Array.isArray(c))p=c.map(ie).join(" -> ");else if("object"==typeof c){let g=[];for(let b in c)if(c.hasOwnProperty(b)){let T=c[b];g.push(b+":"+("string"==typeof T?JSON.stringify(T):ie(T)))}p=`{${g.join(", ")}}`}return`${d}${h?"("+h+")":""}[${p}]: ${l.replace(E,"\n  ")}`}("\n"+l.message,p,d,h),l.ngTokenPath=p,l[wd]=null,l}(b,c,"R3InjectorError",this.source)}throw b}finally{Ht(g),De(p)}}resolveInjectorInitializers(){const c=De(this),d=Ht(void 0);try{const h=this.get($v.multi,W,Ct.Self);for(const p of h)p()}finally{De(c),Ht(d)}}toString(){const c=[],d=this.records;for(const h of d.keys())c.push(ie(h));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new oe(205,!1)}processProvider(c){let d=Id(c=ye(c))?c:ye(c&&c.provide);const h=function uN(l){return e1(l)?Ap(void 0,l.useValue):Ap(Fo(l),sg)}(c);if(Id(c)||!0!==c.multi)this.records.get(d);else{let p=this.records.get(d);p||(p=Ap(void 0,sg,!0),p.factory=()=>Nn(p.multi),this.records.set(d,p)),d=c,p.multi.push(c)}this.records.set(d,h)}hydrate(c,d){return d.value===sg&&(d.value=cN,d.value=d.factory()),"object"==typeof d.value&&d.value&&function dN(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=ye(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function Sp(l){const c=xs(l),d=null!==c?c.factory:hl(l);if(null!==d)return d;if(l instanceof ti)throw new oe(204,!1);if(l instanceof Function)return function nD(l){const c=l.length;if(c>0)throw ds(c,"?"),new oe(204,!1);const d=function xo(l){const c=l&&(l[Ir]||l[$r]);if(c){const d=function Xi(l){if(l.hasOwnProperty("name"))return l.name;const c=(""+l).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),c}return null}(l);return null!==d?()=>d.factory(l):()=>new l}(l);throw new oe(204,!1)}function Fo(l,c,d){let h;if(Id(l)){const p=ye(l);return hl(p)||Sp(p)}if(e1(l))h=()=>ye(l.useValue);else if(function eD(l){return!(!l||!l.useFactory)}(l))h=()=>l.useFactory(...Nn(l.deps||[]));else if(function t1(l){return!(!l||!l.useExisting)}(l))h=()=>We(ye(l.useExisting));else{const p=ye(l&&(l.useClass||l.provide));if(!function iD(l){return!!l.deps}(l))return hl(p)||Sp(p);h=()=>new p(...Nn(l.deps))}return h}function Ap(l,c,d=!1){return{factory:l,value:c,multi:d?[]:void 0}}function Nd(l){return!!l.\u0275providers}function s1(l,c){for(const d of l)Array.isArray(d)?s1(d,c):Nd(d)?s1(d.\u0275providers,c):c(d)}class sD{}class oD{resolveComponentFactory(c){throw function vH(l){const c=Error(`No component factory found for ${ie(l)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=l,c}(c)}}let Ep=(()=>{class l{}return l.NULL=new oD,l})();function Jh(){return kp(xi(),Be())}function kp(l,c){return new Mp(Cr(l,c))}let Mp=(()=>{class l{constructor(d){this.nativeElement=d}}return l.__NG_ELEMENT_ID__=Jh,l})();function hN(l){return l instanceof Mp?l.nativeElement:l}class aD{}let pN=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function da(){const l=Be(),d=Ri(xi().index,l);return(hr(d)?d:l)[11]}(),l})(),lD=(()=>{class l{}return l.\u0275prov=bi({token:l,providedIn:"root",factory:()=>null}),l})();class cD{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const o1=new cD("14.1.1"),a1={};function c1(l){return l.ngOriginalError}class Ld{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&c1(c);for(;d&&c1(d);)d=c1(d);return d||null}}const wc=/^>|^->|<!--|-->|--!>|<!-$/g,CN=/(<|>)/;const Qh=new Map;let Ip=0;const h1="__ngContext__";function Ss(l,c){hr(c)?(l[h1]=c[20],function TN(l){Qh.set(l[20],l)}(c)):l[h1]=c}function cg(l){const c=l[h1];return"number"==typeof c?function d1(l){return Qh.get(l)||null}(c):c||null}function f1(l){const c=cg(l);return c?hr(c)?c:c.lView:null}const Od=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Vn))();function Rd(l){return l.ownerDocument.defaultView}function ug(l){return l.ownerDocument}function Il(l){return l instanceof Function?l():l}var Za=(()=>((Za=Za||{})[Za.Important=1]="Important",Za[Za.DashCase=2]="DashCase",Za))();let Jv;function ef(l,c){return Jv(l,c)}function Au(l){const c=l[3];return Ao(c)?c[3]:c}function v1(l){return yD(l[13])}function Xv(l){return yD(l[4])}function yD(l){for(;null!==l&&!Ao(l);)l=l[4];return l}function Ll(l,c,d,h,p){if(null!=h){let g,b=!1;Ao(h)?g=h:hr(h)&&(b=!0,h=h[0]);const T=$n(h);0===l&&null!==d?null==p?SD(c,d,T):nf(c,d,T,p||null,!0):1===l&&null!==d?nf(c,d,T,p||null,!0):2===l?mg(c,T,b):3===l&&c.destroyNode(T),null!=g&&function HN(l,c,d,h,p){const g=d[7];g!==$n(d)&&Ll(c,l,h,g,p);for(let T=10;T<d.length;T++){const D=d[T];gg(D[1],D,l,c,h,g)}}(c,l,g,d,p)}}function dg(l,c){return l.createText(c)}function y1(l,c,d){l.setValue(c,d)}function bD(l,c){return l.createComment(function Vo(l){return l.replace(wc,c=>c.replace(CN,"\u200b$1\u200b"))}(c))}function ey(l,c,d){return l.createElement(c,d)}function CD(l,c){const d=l[9],h=d.indexOf(c),p=c[3];512&c[2]&&(c[2]&=-513,fu(p,-1)),d.splice(h,1)}function tf(l,c){if(l.length<=10)return;const d=10+c,h=l[d];if(h){const p=h[17];null!==p&&p!==l&&CD(p,h),c>0&&(l[d-1][4]=h[4]);const g=Js(l,10+c);!function xD(l,c){gg(l,c,c[11],2,null,null),c[0]=null,c[6]=null}(h[1],h);const b=g[19];null!==b&&b.detachView(g[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function TD(l,c){if(!(128&c[2])){const d=c[11];d.destroyNode&&gg(l,c,d,3,null,null),function NN(l){let c=l[13];if(!c)return hg(l[1],l);for(;c;){let d=null;if(hr(c))d=c[13];else{const h=c[10];h&&(d=h)}if(!d){for(;c&&!c[4]&&c!==l;)hr(c)&&hg(c[1],c),c=c[3];null===c&&(c=l),hr(c)&&hg(c[1],c),d=c&&c[4]}c=d}}(c)}}function hg(l,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function PN(l,c){let d;if(null!=l&&null!=(d=l.destroyHooks))for(let h=0;h<d.length;h+=2){const p=c[d[h]];if(!(p instanceof Di)){const g=d[h+1];if(Array.isArray(g))for(let b=0;b<g.length;b+=2){const T=p[g[b]],D=g[b+1];try{D.call(T)}finally{}}else try{g.call(p)}finally{}}}}(l,c),function RN(l,c){const d=l.cleanup,h=c[7];let p=-1;if(null!==d)for(let g=0;g<d.length-1;g+=2)if("string"==typeof d[g]){const b=d[g+1],T="function"==typeof b?b(c):$n(c[b]),D=h[p=d[g+2]],M=d[g+3];"boolean"==typeof M?T.removeEventListener(d[g],D,M):M>=0?h[p=M]():h[p=-M].unsubscribe(),g+=2}else{const b=h[p=d[g+1]];d[g].call(b)}if(null!==h){for(let g=p+1;g<h.length;g++)(0,h[g])();c[7]=null}}(l,c),1===c[1].type&&c[11].destroy();const d=c[17];if(null!==d&&Ao(c[3])){d!==c[3]&&CD(d,c);const h=c[19];null!==h&&h.detachView(l)}!function lg(l){Qh.delete(l[20])}(c)}}function wD(l,c,d){return DD(l,c.parent,d)}function DD(l,c,d){let h=c;for(;null!==h&&40&h.type;)h=(c=h).parent;if(null===h)return d[0];if(2&h.flags){const p=l.data[h.directiveStart].encapsulation;if(p===fi.None||p===fi.Emulated)return null}return Cr(h,d)}function nf(l,c,d,h,p){l.insertBefore(c,d,h,p)}function SD(l,c,d){l.appendChild(c,d)}function AD(l,c,d,h,p){null!==h?nf(l,c,d,h,p):SD(l,c,d)}function ty(l,c){return l.parentNode(c)}function ED(l,c,d){return MD(l,c,d)}function kD(l,c,d){return 40&l.type?Cr(l,d):null}let ID,MD=kD;function BN(l,c){MD=l,ID=c}function fg(l,c,d,h){const p=wD(l,h,c),g=c[11],T=ED(h.parent||c[6],h,c);if(null!=p)if(Array.isArray(d))for(let D=0;D<d.length;D++)AD(g,p,d[D],T,!1);else AD(g,p,d,T,!1);void 0!==ID&&ID(g,h,c,d,p)}function pg(l,c){if(null!==c){const d=c.type;if(3&d)return Cr(c,l);if(4&d)return LD(-1,l[c.index]);if(8&d){const h=c.child;if(null!==h)return pg(l,h);{const p=l[c.index];return Ao(p)?LD(-1,p):$n(p)}}if(32&d)return ef(c,l)()||$n(l[c.index]);{const h=ND(l,c);return null!==h?Array.isArray(h)?h[0]:pg(Au(l[16]),h):pg(l,c.next)}}return null}function ND(l,c){return null!==c?l[16][6].projection[c.projection]:null}function LD(l,c){const d=10+l+1;if(d<c.length){const h=c[d],p=h[1].firstChild;if(null!==p)return pg(h,p)}return c[7]}function mg(l,c,d){const h=ty(l,c);h&&function FN(l,c,d,h){l.removeChild(c,d,h)}(l,h,c,d)}function x1(l,c,d,h,p,g,b){for(;null!=d;){const T=h[d.index],D=d.type;if(b&&0===c&&(T&&Ss($n(T),h),d.flags|=4),64!=(64&d.flags))if(8&D)x1(l,c,d.child,h,p,g,!1),Ll(c,l,p,T,g);else if(32&D){const M=ef(d,h);let R;for(;R=M();)Ll(c,l,p,R,g);Ll(c,l,p,T,g)}else 16&D?OD(l,c,h,d,p,g):Ll(c,l,p,T,g);d=b?d.projectionNext:d.next}}function gg(l,c,d,h,p,g){x1(d,h,l.firstChild,c,p,g,!1)}function OD(l,c,d,h,p,g){const b=d[16],D=b[6].projection[h.projection];if(Array.isArray(D))for(let M=0;M<D.length;M++)Ll(c,l,p,D[M],g);else x1(l,c,D,b[3],p,g,!0)}function C1(l,c,d){l.setAttribute(c,"style",d)}function T1(l,c,d){""===d?l.removeAttribute(c,"class"):l.setAttribute(c,"class",d)}function RD(l,c,d){let h=l.length;for(;;){const p=l.indexOf(c,d);if(-1===p)return p;if(0===p||l.charCodeAt(p-1)<=32){const g=c.length;if(p+g===h||l.charCodeAt(p+g)<=32)return p}d=p+1}}const PD="ng-template";function DH(l,c,d){let h=0;for(;h<l.length;){let p=l[h++];if(d&&"class"===p){if(p=l[h],-1!==RD(p.toLowerCase(),c,0))return!0}else if(1===p){for(;h<l.length&&"string"==typeof(p=l[h++]);)if(p.toLowerCase()===c)return!0;return!1}}return!1}function FD(l){return 4===l.type&&l.value!==PD}function jN(l,c,d){return c===(4!==l.type||d?l.value:PD)}function ZN(l,c,d){let h=4;const p=l.attrs||[],g=function qN(l){for(let c=0;c<l.length;c++)if(ap(l[c]))return c;return l.length}(p);let b=!1;for(let T=0;T<c.length;T++){const D=c[T];if("number"!=typeof D){if(!b)if(4&h){if(h=2|1&h,""!==D&&!jN(l,D,d)||""===D&&1===c.length){if(Ol(h))return!1;b=!0}}else{const M=8&h?D:c[++T];if(8&h&&null!==l.attrs){if(!DH(l.attrs,M,d)){if(Ol(h))return!1;b=!0}continue}const Y=GN(8&h?"class":D,p,FD(l),d);if(-1===Y){if(Ol(h))return!1;b=!0;continue}if(""!==M){let K;K=Y>g?"":p[Y+1].toLowerCase();const le=8&h?K:null;if(le&&-1!==RD(le,M,0)||2&h&&M!==K){if(Ol(h))return!1;b=!0}}}}else{if(!b&&!Ol(h)&&!Ol(D))return!1;if(b&&Ol(D))continue;b=!1,h=D|1&h}}return Ol(h)||b}function Ol(l){return 0==(1&l)}function GN(l,c,d,h){if(null===c)return-1;let p=0;if(h||!d){let g=!1;for(;p<c.length;){const b=c[p];if(b===l)return p;if(3===b||6===b)g=!0;else{if(1===b||2===b){let T=c[++p];for(;"string"==typeof T;)T=c[++p];continue}if(4===b)break;if(0===b){p+=4;continue}}p+=g?1:2}return-1}return function WN(l,c){let d=l.indexOf(4);if(d>-1)for(d++;d<l.length;){const h=l[d];if("number"==typeof h)return-1;if(h===c)return d;d++}return-1}(c,l)}function VD(l,c,d=!1){for(let h=0;h<c.length;h++)if(ZN(l,c[h],d))return!0;return!1}function zN(l,c){e:for(let d=0;d<c.length;d++){const h=c[d];if(l.length===h.length){for(let p=0;p<l.length;p++)if(l[p]!==h[p])continue e;return!0}}return!1}function BD(l,c){return l?":not("+c.trim()+")":c}function KN(l){let c=l[0],d=1,h=2,p="",g=!1;for(;d<l.length;){let b=l[d];if("string"==typeof b)if(2&h){const T=l[++d];p+="["+b+(T.length>0?'="'+T+'"':"")+"]"}else 8&h?p+="."+b:4&h&&(p+=" "+b);else""!==p&&!Ol(b)&&(c+=BD(g,p),p=""),h=b,g=g||!Ol(h);d++}return""!==p&&(c+=BD(g,p)),c}const on={};function UD(l){HD(hn(),Be(),Vr()+l,!1)}function HD(l,c,d,h){if(!h)if(3==(3&c[2])){const g=l.preOrderCheckHooks;null!==g&&oa(c,g,d)}else{const g=l.preOrderHooks;null!==g&&ws(c,g,0,d)}No(d)}function jD(l,c=null,d=null,h){const p=nL(l,c,d,h);return p.resolveInjectorInitializers(),p}function nL(l,c=null,d=null,h,p=new Set){const g=[d||W,eo(l)];return h=h||("object"==typeof l?void 0:ie(l)),new tD(g,c||qv(),h||null,p)}let Lp=(()=>{class l{static create(d,h){if(Array.isArray(d))return jD({name:""},h,d,"");{const p=d.name??"";return jD({name:p},d.parent,d.providers,p)}}}return l.THROW_IF_NOT_FOUND=Cu,l.NULL=new zh,l.\u0275prov=bi({token:l,providedIn:"any",factory:()=>We(Jw)}),l.__NG_ELEMENT_ID__=-1,l})();function Op(l,c=Ct.Default){const d=Be();return null===d?We(l,c):Ph(xi(),d,ye(l),c)}function JD(){throw new Error("invalid")}function iy(l,c){return l<<17|c<<2}function Rl(l){return l>>17&32767}function S1(l){return 2|l}function Eu(l){return(131068&l)>>2}function vg(l,c){return-131069&l|c<<2}function A1(l){return 1|l}function L1(l,c){const d=l.contentQueries;if(null!==d)for(let h=0;h<d.length;h+=2){const p=d[h],g=d[h+1];if(-1!==g){const b=l.data[g];mu(p),b.contentQueries(2,c[g],g)}}}function O1(l,c,d,h,p,g,b,T,D,M,R){const Y=c.blueprint.slice();return Y[0]=p,Y[2]=76|h,(null!==R||l&&1024&l[2])&&(Y[2]|=1024),hu(Y),Y[3]=Y[15]=l,Y[8]=d,Y[10]=b||l&&l[10],Y[11]=T||l&&l[11],Y[12]=D||l&&l[12]||null,Y[9]=M||l&&l[9]||null,Y[6]=g,Y[20]=function ag(){return Ip++}(),Y[21]=R,Y[16]=2==c.type?l[16]:Y,Y}function Pp(l,c,d,h,p){let g=l.data[c];if(null===g)g=Bd(l,c,d,h,p),function pu(){return Vt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=d,g.value=h,g.attrs=p;const b=Pa();g.injectorIndex=null===b?-1:b.injectorIndex}return $s(g,!0),g}function Bd(l,c,d,h,p){const g=Ra(),b=Fa(),D=l.data[c]=function V1(l,c,d,h,p,g){return{type:d,index:h,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?g:g&&g.parent,d,c,h,p);return null===l.firstChild&&(l.firstChild=D),null!==g&&(b?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}function Fp(l,c,d,h){if(0===d)return-1;const p=c.length;for(let g=0;g<d;g++)c.push(h),l.blueprint.push(h),l.data.push(null);return p}function R1(l,c,d){fd(c);try{const h=l.viewQuery;null!==h&&G1(1,h,d);const p=l.template;null!==p&&oS(l,c,p,1,d),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&L1(l,c),l.staticViewQueries&&G1(2,l.viewQuery,d);const g=l.components;null!==g&&function e6(l,c){for(let d=0;d<c.length;d++)EL(l,c[d])}(c,g)}catch(h){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),h}finally{c[2]&=-5,gu()}}function bg(l,c,d,h){const p=c[2];if(128!=(128&p)){fd(c);try{hu(c),function Ah(l){return Vt.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==d&&oS(l,c,d,2,h);const b=3==(3&p);if(b){const M=l.preOrderCheckHooks;null!==M&&oa(c,M,null)}else{const M=l.preOrderHooks;null!==M&&ws(c,M,0,null),uc(c,0)}if(function Sc(l){for(let c=v1(l);null!==c;c=Xv(c)){if(!c[2])continue;const d=c[9];for(let h=0;h<d.length;h++){const p=d[h],g=p[3];0==(512&p[2])&&fu(g,1),p[2]|=512}}}(c),function AL(l){for(let c=v1(l);null!==c;c=Xv(c))for(let d=10;d<c.length;d++){const h=c[d],p=h[1];oc(h)&&bg(p,h,p.template,h[8])}}(c),null!==l.contentQueries&&L1(l,c),b){const M=l.contentCheckHooks;null!==M&&oa(c,M)}else{const M=l.contentHooks;null!==M&&ws(c,M,1),uc(c,1)}!function rf(l,c){const d=l.hostBindingOpCodes;if(null!==d)try{for(let h=0;h<d.length;h++){const p=d[h];if(p<0)No(~p);else{const g=p,b=d[++h],T=d[++h];Eh(b,g),T(2,c[g])}}}finally{No(-1)}}(l,c);const T=l.components;null!==T&&function XH(l,c){for(let d=0;d<c.length;d++)r6(l,c[d])}(c,T);const D=l.viewQuery;if(null!==D&&G1(2,D,h),b){const M=l.viewCheckHooks;null!==M&&oa(c,M)}else{const M=l.viewHooks;null!==M&&ws(c,M,2),uc(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,fu(c[3],-1))}finally{gu()}}}function sS(l,c,d,h){const p=c[10],b=ml(c);try{!b&&p.begin&&p.begin(),b&&R1(l,c,h),bg(l,c,d,h)}finally{!b&&p.end&&p.end()}}function oS(l,c,d,h,p){const g=Vr(),b=2&h;try{No(-1),b&&c.length>22&&HD(l,c,22,!1),d(h,p)}finally{No(g)}}function aS(l,c,d){if(dl(c)){const p=c.directiveEnd;for(let g=c.directiveStart;g<p;g++){const b=l.data[g];b.contentQueries&&b.contentQueries(1,d[g],g)}}}function sf(l,c,d){!Oa()||(function CL(l,c,d,h){const p=d.directiveStart,g=d.directiveEnd;l.firstCreatePass||Ba(d,c),Ss(h,c);const b=d.initialInputs;for(let T=p;T<g;T++){const D=l.data[T],M=Rr(D);M&&mS(c,d,D);const R=aa(c,l,T,d);Ss(R,c),null!==b&&n6(0,T-p,R,D,0,b),M&&(Ri(d.index,c)[8]=R)}}(l,c,d,Cr(d,c)),128==(128&d.flags)&&function Ud(l,c,d){const h=d.directiveStart,p=d.directiveEnd,g=d.index,b=function kh(){return Vt.lFrame.currentDirectiveIndex}();try{No(g);for(let T=h;T<p;T++){const D=l.data[T],M=c[T];_l(T),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&j1(D,M)}}finally{No(-1),_l(b)}}(l,c,d))}function fs(l,c,d=Cr){const h=c.localNames;if(null!==h){let p=c.index+1;for(let g=0;g<h.length;g+=2){const b=h[g+1],T=-1===b?d(c,l):l[b];l[p++]=T}}}function lS(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=P1(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function P1(l,c,d,h,p,g,b,T,D,M){const R=22+h,Y=R+p,K=function cS(l,c){const d=[];for(let h=0;h<c;h++)d.push(h<l?null:on);return d}(R,Y),le="function"==typeof M?M():M;return K[1]={type:l,blueprint:K,template:d,queries:null,viewQuery:T,declTNode:c,data:K.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:D,consts:le,incompleteFirstPass:!1}}function uS(l,c,d,h){const p=IL(c);null===d?p.push(h):(p.push(d),l.firstCreatePass&&NL(l).push(h,p.length-1))}function B1(l,c,d){for(let h in l)if(l.hasOwnProperty(h)){const p=l[h];(d=null===d?{}:d).hasOwnProperty(h)?d[h].push(c,p):d[h]=[c,p]}return d}function U1(l,c){const h=c.directiveEnd,p=l.data,g=c.attrs,b=[];let T=null,D=null;for(let M=c.directiveStart;M<h;M++){const R=p[M],Y=R.inputs,K=null===g||FD(c)?null:DL(Y,g);b.push(K),T=B1(Y,M,T),D=B1(R.outputs,M,D)}null!==T&&(T.hasOwnProperty("class")&&(c.flags|=16),T.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=b,c.inputs=T,c.outputs=D}function fa(l,c,d,h,p,g,b,T){const D=Cr(c,d);let R,M=c.inputs;!T&&null!=M&&(R=M[h])?(bS(l,d,R,h,p),ed(c)&&Y1(d,c.index)):3&c.type&&(h=function H1(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(h),p=null!=b?b(p,c.value||"",h):p,g.setProperty(D,h,p))}function Y1(l,c){const d=Ri(c,l);16&d[2]||(d[2]|=32)}function hS(l,c,d,h){let p=!1;if(Oa()){const g=function xg(l,c,d){const h=l.directiveRegistry;let p=null;if(h)for(let g=0;g<h.length;g++){const b=h[g];VD(d,b.selectors,!1)&&(p||(p=[]),dc(Ba(d,c),l,b.type),Rr(b)?(Cg(l,d),p.unshift(b)):p.push(b))}return p}(l,c,d),b=null===h?null:{"":-1};if(null!==g){p=!0,fS(d,l.data.length,g.length);for(let R=0;R<g.length;R++){const Y=g[R];Y.providersResolver&&Y.providersResolver(Y)}let T=!1,D=!1,M=Fp(l,c,g.length,null);for(let R=0;R<g.length;R++){const Y=g[R];d.mergedAttrs=pr(d.mergedAttrs,Y.hostAttrs),pS(l,d,c,M,Y),wL(M,Y,b),null!==Y.contentQueries&&(d.flags|=8),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(d.flags|=128);const K=Y.type.prototype;!T&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(d.index),T=!0),!D&&(K.ngOnChanges||K.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(d.index),D=!0),M++}U1(l,d)}b&&function TL(l,c,d){if(c){const h=l.localNames=[];for(let p=0;p<c.length;p+=2){const g=d[c[p+1]];if(null==g)throw new oe(-301,!1);h.push(c[p],g)}}}(d,h,b)}return d.mergedAttrs=pr(d.mergedAttrs,d.attrs),p}function xL(l,c,d,h,p,g){const b=g.hostBindings;if(b){let T=l.hostBindingOpCodes;null===T&&(T=l.hostBindingOpCodes=[]);const D=~c.index;(function t6(l){let c=l.length;for(;c>0;){const d=l[--c];if("number"==typeof d&&d<0)return d}return 0})(T)!=D&&T.push(D),T.push(h,p,b)}}function j1(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function Cg(l,c){c.flags|=2,(l.components||(l.components=[])).push(c.index)}function wL(l,c,d){if(d){if(c.exportAs)for(let h=0;h<c.exportAs.length;h++)d[c.exportAs[h]]=l;Rr(c)&&(d[""]=l)}}function fS(l,c,d){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+d,l.providerIndexes=c}function pS(l,c,d,h,p){l.data[h]=p;const g=p.factory||(p.factory=hl(p.type)),b=new Di(g,Rr(p),Op);l.blueprint[h]=b,d[h]=b,xL(l,c,0,h,Fp(l,d,p.hostVars,on),p)}function mS(l,c,d){const h=Cr(c,l),p=lS(d),g=l[10],b=Z1(l,O1(l,p,null,d.onPush?32:16,h,c,g,g.createRenderer(h,d),null,null,null));l[c.index]=b}function Mu(l,c,d,h,p,g,b){if(null==g)l.removeAttribute(c,p,d);else{const T=null==b?X(g):b(g,h||"",p);l.setAttribute(c,p,T,d)}}function n6(l,c,d,h,p,g){const b=g[c];if(null!==b){const T=h.setInput;for(let D=0;D<b.length;){const M=b[D++],R=b[D++],Y=b[D++];null!==T?h.setInput(d,Y,M,R):d[R]=Y}}}function DL(l,c){let d=null,h=0;for(;h<c.length;){const p=c[h];if(0!==p)if(5!==p){if("number"==typeof p)break;l.hasOwnProperty(p)&&(null===d&&(d=[]),d.push(p,l[p],c[h+1])),h+=2}else h+=2;else h+=4}return d}function SL(l,c,d,h){return new Array(l,!0,!1,c,null,0,h,d,null,null)}function r6(l,c){const d=Ri(c,l);if(oc(d)){const h=d[1];48&d[2]?bg(h,d,h.template,d[8]):d[5]>0&&gS(d)}}function gS(l){for(let h=v1(l);null!==h;h=Xv(h))for(let p=10;p<h.length;p++){const g=h[p];if(512&g[2]){const b=g[1];bg(b,g,b.template,g[8])}else g[5]>0&&gS(g)}const d=l[1].components;if(null!==d)for(let h=0;h<d.length;h++){const p=Ri(d[h],l);oc(p)&&p[5]>0&&gS(p)}}function EL(l,c){const d=Ri(c,l),h=d[1];(function s6(l,c){for(let d=c.length;d<l.blueprint.length;d++)c.push(l.blueprint[d])})(h,d),R1(h,d,d[8])}function Z1(l,c){return l[13]?l[14][4]=c:l[13]=c,l[14]=c,c}function _S(l){for(;l;){l[2]|=32;const c=Au(l);if(Pr(l)&&!c)return l;l=c}return null}function ML(l){!function kL(l){for(let c=0;c<l.components.length;c++){const d=l.components[c],h=f1(d);if(null!==h){const p=h[1];sS(p,h,p.template,d)}}}(l[8])}function G1(l,c,d){mu(0),c(l,d)}const l6=(()=>Promise.resolve(null))();function IL(l){return l[7]||(l[7]=[])}function NL(l){return l.cleanup||(l.cleanup=[])}function LL(l,c){const d=l[9],h=d?d.get(Ld,null):null;h&&h.handleError(c)}function bS(l,c,d,h,p){for(let g=0;g<d.length;){const b=d[g++],T=d[g++],D=c[b],M=l.data[b];null!==M.setInput?M.setInput(D,p,h,T):D[T]=p}}function Iu(l,c,d){const h=Na(c,l);y1(l[11],h,d)}function $1(l,c,d){let h=d?l.styles:null,p=d?l.classes:null,g=0;if(null!==c)for(let b=0;b<c.length;b++){const T=c[b];"number"==typeof T?g=T:1==g?p=Se(p,T):2==g&&(h=Se(h,T+": "+c[++b]+";"))}d?l.styles=h:l.stylesWithoutHost=h,d?l.classes=p:l.classesWithoutHost=p}function q1(l,c,d,h,p=!1){for(;null!==d;){const g=c[d.index];if(null!==g&&h.push($n(g)),Ao(g))for(let T=10;T<g.length;T++){const D=g[T],M=D[1].firstChild;null!==M&&q1(D[1],D,M,h)}const b=d.type;if(8&b)q1(l,c,d.child,h);else if(32&b){const T=ef(d,c);let D;for(;D=T();)h.push(D)}else if(16&b){const T=ND(c,d);if(Array.isArray(T))h.push(...T);else{const D=Au(c[16]);q1(D[1],D,T,h,!0)}}d=p?d.projectionNext:d.next}return h}class ay{constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,d=c[1];return q1(d,c,d.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(Ao(c)){const d=c[8],h=d?d.indexOf(this):-1;h>-1&&(tf(c,h),Js(d,h))}this._attachedToViewContainer=!1}TD(this._lView[1],this._lView)}onDestroy(c){uS(this._lView[1],this._lView,null,c)}markForCheck(){_S(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function vS(l,c,d){const h=c[10];h.begin&&h.begin();try{bg(l,c,l.template,d)}catch(p){throw LL(c,p),p}finally{h.end&&h.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function IN(l,c){gg(l,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new oe(902,!1);this._appRef=c}}class c6 extends ay{constructor(c){super(c),this._view=c}detectChanges(){ML(this._view)}checkNoChanges(){}get context(){return null}}class xS extends Ep{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=ht(c);return new ly(d,this.ngModule)}}function CS(l){const c=[];for(let d in l)l.hasOwnProperty(d)&&c.push({propName:l[d],templateName:d});return c}class d6{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,h){const p=this.injector.get(c,a1,h);return p!==a1||d===a1?p:this.parentInjector.get(c,d,h)}}class ly extends sD{constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function SH(l){return l.map(KN).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return CS(this.componentDef.inputs)}get outputs(){return CS(this.componentDef.outputs)}create(c,d,h,p){let g=(p=p||this.ngModule)instanceof Du?p:p?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const b=g?new d6(c,g):c,T=b.get(aD,null);if(null===T)throw new oe(407,!1);const D=b.get(lD,null),M=T.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",Y=h?function yL(l,c,d){return l.selectRootElement(c,d===fi.ShadowDom)}(M,h,this.componentDef.encapsulation):ey(T.createRenderer(null,this.componentDef),R,function u6(l){const c=l.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(R)),K=this.componentDef.onPush?288:272,le=function TS(l,c){return{components:[],scheduler:l||Od,clean:l6,playerHandler:c||null,flags:0}}(),Oe=P1(0,null,null,1,0,null,null,null,null,null),Ye=O1(null,Oe,le,K,null,null,T,M,D,b,null);let at,gt;fd(Ye);try{const Lt=function f6(l,c,d,h,p,g){const b=d[1];d[22]=l;const D=Pp(b,22,2,"#host",null),M=D.mergedAttrs=c.hostAttrs;null!==M&&($1(D,M,!0),null!==l&&(op(p,l,M),null!==D.classes&&T1(p,l,D.classes),null!==D.styles&&C1(p,l,D.styles)));const R=h.createRenderer(l,c),Y=O1(d,lS(c),null,c.onPush?32:16,d[22],D,h,R,g||null,null,null);return b.firstCreatePass&&(dc(Ba(D,d),b,c.type),Cg(b,D),fS(D,d.length,1)),Z1(d,Y),d[22]=Y}(Y,this.componentDef,Ye,T,M);if(Y)if(h)op(M,Y,["ng-version",o1.full]);else{const{attrs:He,classes:Et}=function JN(l){const c=[],d=[];let h=1,p=2;for(;h<l.length;){let g=l[h];if("string"==typeof g)2===p?""!==g&&c.push(g,l[++h]):8===p&&d.push(g);else{if(!Ol(p))break;p=g}h++}return{attrs:c,classes:d}}(this.componentDef.selectors[0]);He&&op(M,Y,He),Et&&Et.length>0&&T1(M,Y,Et.join(" "))}if(gt=Gs(Oe,22),void 0!==d){const He=gt.projection=[];for(let Et=0;Et<this.ngContentSelectors.length;Et++){const An=d[Et];He.push(null!=An?Array.from(An):null)}}at=function cy(l,c,d,h,p){const g=d[1],b=function bL(l,c,d){const h=xi();l.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),pS(l,h,c,Fp(l,c,1,null),d),U1(l,h));const p=aa(c,l,h.directiveStart,h);Ss(p,c);const g=Cr(h,c);return g&&Ss(g,c),p}(g,d,c);if(h.components.push(b),l[8]=b,null!==p)for(const D of p)D(b,c);if(c.contentQueries){const D=xi();c.contentQueries(1,b,D.directiveStart)}const T=xi();return!g.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(No(T.index),xL(d[1],T,0,T.directiveStart,T.directiveEnd,c),j1(c,b)),b}(Lt,this.componentDef,Ye,le,[OL]),R1(Oe,Ye,null)}finally{gu()}return new h6(this.componentType,at,kp(gt,Ye),Ye,gt)}}class h6 extends class rD{}{constructor(c,d,h,p,g){super(),this.location=h,this._rootLView=p,this._tNode=g,this.instance=d,this.hostView=this.changeDetectorRef=new c6(p),this.componentType=c}setInput(c,d){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[c])){const g=this._rootLView;bS(g[1],g,p,c,d),Y1(g,this._tNode.index)}}get injector(){return new la(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function OL(){const l=xi();rp(Be()[1],l)}function uy(l){let c=function wS(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),d=!0;const h=[l];for(;c;){let p;if(Rr(l))p=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new oe(903,!1);p=c.\u0275dir}if(p){if(d){h.push(p);const b=l;b.inputs=W1(l.inputs),b.declaredInputs=W1(l.declaredInputs),b.outputs=W1(l.outputs);const T=p.hostBindings;T&&FL(l,T);const D=p.viewQuery,M=p.contentQueries;if(D&&RL(l,D),M&&PL(l,M),Z(l.inputs,p.inputs),Z(l.declaredInputs,p.declaredInputs),Z(l.outputs,p.outputs),Rr(p)&&p.data.animation){const R=l.data;R.animation=(R.animation||[]).concat(p.data.animation)}}const g=p.features;if(g)for(let b=0;b<g.length;b++){const T=g[b];T&&T.ngInherit&&T(l),T===uy&&(d=!1)}}c=Object.getPrototypeOf(c)}!function DS(l){let c=0,d=null;for(let h=l.length-1;h>=0;h--){const p=l[h];p.hostVars=c+=p.hostVars,p.hostAttrs=pr(p.hostAttrs,d=pr(d,p.hostAttrs))}}(h)}function W1(l){return l===zt?{}:l===W?[]:l}function RL(l,c){const d=l.viewQuery;l.viewQuery=d?(h,p)=>{c(h,p),d(h,p)}:c}function PL(l,c){const d=l.contentQueries;l.contentQueries=d?(h,p,g)=>{c(h,p,g),d(h,p,g)}:c}function FL(l,c){const d=l.hostBindings;l.hostBindings=d?(h,p)=>{c(h,p),d(h,p)}:c}let dy=null;function af(){if(!dy){const l=Vn.Symbol;if(l&&l.iterator)dy=l.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<c.length;++d){const h=c[d];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(dy=h)}}}return dy}function Tg(l){return!!hy(l)&&(Array.isArray(l)||!(l instanceof Map)&&af()in l)}function hy(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function Ac(l,c,d){return l[c]=d}function As(l,c,d){return!Object.is(l[c],d)&&(l[c]=d,!0)}function Vp(l,c,d,h){const p=As(l,c,d);return As(l,c+1,h)||p}function AS(l,c,d,h){const p=Be();return As(p,Io(),c)&&(hn(),function Dc(l,c,d,h,p,g){const b=Cr(l,c);Mu(c[11],b,g,l.value,d,h,p)}(gi(),p,l,c,d,h)),AS}function Dg(l,c,d,h){return As(l,Io(),d)?c+X(d)+h:on}function JL(l,c,d,h,p,g,b,T){const D=Be(),M=hn(),R=l+22,Y=M.firstCreatePass?function kS(l,c,d,h,p,g,b,T,D){const M=c.consts,R=Pp(c,l,4,b||null,ko(M,T));hS(c,d,R,ko(M,D)),rp(c,R);const Y=R.tViews=P1(2,R,h,p,g,c.directiveRegistry,c.pipeRegistry,null,c.schemas,M);return null!==c.queries&&(c.queries.template(c,R),Y.queries=c.queries.embeddedTView(R)),R}(R,M,D,c,d,h,p,g,b):M.data[R];$s(Y,!1);const K=D[11].createComment("");fg(M,D,K,Y),Ss(K,D),Z1(D,D[R]=SL(K,D,K,Y)),ic(Y)&&sf(M,D,Y),null!=b&&fs(D,Y,T)}function Mi(l){return pl(function ip(){return Vt.lFrame.contextLView}(),22+l)}function Lg(l,c,d){const h=Be();return As(h,Io(),c)&&fa(hn(),gi(),h,l,c,h[11],d,!1),Lg}function py(l,c,d,h,p){const b=p?"class":"style";bS(l,d,c.inputs[b],b,h)}function my(l,c,d,h){const p=Be(),g=hn(),b=22+l,T=p[11],D=p[b]=ey(T,c,function Lh(){return Vt.lFrame.currentNamespace}()),M=g.firstCreatePass?function K1(l,c,d,h,p,g,b){const T=c.consts,M=Pp(c,l,2,p,ko(T,g));return hS(c,d,M,ko(T,b)),null!==M.attrs&&$1(M,M.attrs,!1),null!==M.mergedAttrs&&$1(M,M.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,M),M}(b,g,p,0,c,d,h):g.data[b];$s(M,!0);const R=M.mergedAttrs;null!==R&&op(T,D,R);const Y=M.classes;null!==Y&&T1(T,D,Y);const K=M.styles;return null!==K&&C1(T,D,K),64!=(64&M.flags)&&fg(g,p,D,M),0===function ac(){return Vt.lFrame.elementDepthCount}()&&Ss(D,p),function Mo(){Vt.lFrame.elementDepthCount++}(),ic(M)&&(sf(g,p,M),aS(g,M,p)),null!==h&&fs(p,M),my}function gy(){let l=xi();Fa()?gl():(l=l.parent,$s(l,!1));const c=l;!function lc(){Vt.lFrame.elementDepthCount--}();const d=hn();return d.firstCreatePass&&(rp(d,l),dl(l)&&d.queries.elementEnd(l)),null!=c.classesWithoutHost&&function Rh(l){return 0!=(16&l.flags)}(c)&&py(d,c,Be(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Wm(l){return 0!=(32&l.flags)}(c)&&py(d,c,Be(),c.stylesWithoutHost,!1),gy}function Og(l,c,d,h){return my(l,c,d,h),gy(),Og}function Hd(l,c,d){const h=Be(),p=hn(),g=l+22,b=p.firstCreatePass?function v6(l,c,d,h,p){const g=c.consts,b=ko(g,h),T=Pp(c,l,8,"ng-container",b);return null!==b&&$1(T,b,!0),hS(c,d,T,ko(g,p)),null!==c.queries&&c.queries.elementStart(c,T),T}(g,p,h,c,d):p.data[g];$s(b,!0);const T=h[g]=h[11].createComment("");return fg(p,h,T,b),Ss(T,h),ic(b)&&(sf(p,h,b),aS(p,b,h)),null!=d&&fs(h,b),Hd}function lf(){let l=xi();const c=hn();return Fa()?gl():(l=l.parent,$s(l,!1)),c.firstCreatePass&&(rp(c,l),dl(l)&&c.queries.elementEnd(l)),lf}function _y(l,c,d){return Hd(l,c,d),lf(),_y}function MS(){return Be()}function J1(l){return!!l&&"function"==typeof l.then}function IS(l){return!!l&&"function"==typeof l.subscribe}const NS=IS;function Yd(l,c,d,h){const p=Be(),g=hn(),b=xi();return function Pg(l,c,d,h,p,g,b,T){const D=ic(h),R=l.firstCreatePass&&NL(l),Y=c[8],K=IL(c);let le=!0;if(3&h.type||T){const at=Cr(h,c),gt=T?T(at):at,Lt=K.length,He=T?An=>T($n(An[h.index])):h.index;let Et=null;if(!T&&D&&(Et=function Rg(l,c,d,h){const p=l.cleanup;if(null!=p)for(let g=0;g<p.length-1;g+=2){const b=p[g];if(b===d&&p[g+1]===h){const T=c[7],D=p[g+2];return T.length>D?T[D]:null}"string"==typeof b&&(g+=2)}return null}(l,c,p,h.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=g,Et.__ngLastListenerFn__=g,le=!1;else{g=Fg(h,c,Y,g,!1);const An=d.listen(gt,p,g);K.push(g,An),R&&R.push(p,He,Lt,Lt+1)}}else g=Fg(h,c,Y,g,!1);const Oe=h.outputs;let Ye;if(le&&null!==Oe&&(Ye=Oe[p])){const at=Ye.length;if(at)for(let gt=0;gt<at;gt+=2){const Ti=c[Ye[gt]][Ye[gt+1]].subscribe(g),Yo=K.length;K.push(g,Ti),R&&R.push(p,h.index,Yo,-(Yo+1))}}}(g,p,p[11],b,l,c,0,h),Yd}function Q1(l,c,d,h){try{return!1!==d(h)}catch(p){return LL(l,p),!1}}function Fg(l,c,d,h,p){return function g(b){if(b===Function)return h;_S(2&l.flags?Ri(l.index,c):c);let D=Q1(c,0,h,b),M=g.__ngNextListenerFn__;for(;M;)D=Q1(c,0,M,b)&&D,M=M.__ngNextListenerFn__;return p&&!1===D&&(b.preventDefault(),b.returnValue=!1),D}}function Zd(l=1){return function Sv(l){return(Vt.lFrame.contextLView=function $m(l,c){for(;l>0;)c=c[15],l--;return c}(l,Vt.lFrame.contextLView))[8]}(l)}function LS(l,c){let d=null;const h=function $N(l){const c=l.attrs;if(null!=c){const d=c.indexOf(5);if(0==(1&d))return c[d+1]}return null}(l);for(let p=0;p<c.length;p++){const g=c[p];if("*"!==g){if(null===h?VD(l,g,!0):zN(h,g))return p}else d=p}return d}function QL(l){const c=Be()[16][6];if(!c.projection){const h=c.projection=ds(l?l.length:1,null),p=h.slice();let g=c.child;for(;null!==g;){const b=l?LS(g,l):0;null!==b&&(p[b]?p[b].projectionNext=g:h[b]=g,p[b]=g),g=g.next}}}function XL(l,c=0,d){const h=Be(),p=hn(),g=Pp(p,22+l,16,null,d||null);null===g.projection&&(g.projection=c),gl(),64!=(64&g.flags)&&function UN(l,c,d){OD(c[11],0,c,d,wD(l,d,c),ED(d.parent||c[6],d,c))}(p,h,g)}function OS(l,c,d){return X1(l,"",c,"",d),OS}function X1(l,c,d,h,p){const g=Be(),b=Dg(g,c,d,h);return b!==on&&fa(hn(),gi(),g,l,b,g[11],p,!1),X1}function RS(l,c,d,h,p){const g=l[d+1],b=null===c;let T=h?Rl(g):Eu(g),D=!1;for(;0!==T&&(!1===D||b);){const R=l[T+1];lO(l[T],c)&&(D=!0,l[T+1]=h?A1(R):S1(R)),T=h?Rl(R):Eu(R)}D&&(l[d+1]=h?S1(g):A1(g))}function lO(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&_r(l,c)>=0}const Dr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ex(l){return l.substring(Dr.key,Dr.keyEnd)}function PS(l){return l.substring(Dr.value,Dr.valueEnd)}function FS(l,c){const d=Dr.textEnd;return d===c?-1:(c=Dr.keyEnd=function x6(l,c,d){for(;c<d&&l.charCodeAt(c)>32;)c++;return c}(l,Dr.key=c,d),$a(l,c,d))}function cO(l,c){const d=Dr.textEnd;let h=Dr.key=$a(l,c,d);return d===h?-1:(h=Dr.keyEnd=function uO(l,c,d){let h;for(;c<d&&(45===(h=l.charCodeAt(c))||95===h||(-33&h)>=65&&(-33&h)<=90||h>=48&&h<=57);)c++;return c}(l,h,d),h=no(l,h,d),h=Dr.value=$a(l,h,d),h=Dr.valueEnd=function dO(l,c,d){let h=-1,p=-1,g=-1,b=c,T=b;for(;b<d;){const D=l.charCodeAt(b++);if(59===D)return T;34===D||39===D?T=b=Bp(l,D,b,d):c===b-4&&85===g&&82===p&&76===h&&40===D?T=b=Bp(l,41,b,d):D>32&&(T=b),g=p,p=h,h=-33&D}return T}(l,h,d),no(l,h,d))}function VS(l){Dr.key=0,Dr.keyEnd=0,Dr.value=0,Dr.valueEnd=0,Dr.textEnd=l.length}function $a(l,c,d){for(;c<d&&l.charCodeAt(c)<=32;)c++;return c}function no(l,c,d,h){return(c=$a(l,c,d))<d&&c++,c}function Bp(l,c,d,h){let p=-1,g=d;for(;g<h;){const b=l.charCodeAt(g++);if(b==c&&92!==p)return g;p=92==b&&92===p?0:b}throw new Error}function tx(l,c,d){return qa(l,c,d,!1),tx}function nx(l,c){return qa(l,c,null,!0),nx}function pa(l,c){for(let d=function yy(l){return VS(l),cO(l,$a(l,0,Dr.textEnd))}(c);d>=0;d=cO(c,d))US(l,ex(c),PS(c))}function ix(l){Fl(gr,kc,l,!0)}function kc(l,c){for(let d=function vy(l){return VS(l),FS(l,$a(l,0,Dr.textEnd))}(c);d>=0;d=FS(c,d))gr(l,ex(c),!0)}function qa(l,c,d,h){const p=Be(),g=hn(),b=ra(2);g.firstUpdatePass&&by(g,l,b,h),c!==on&&As(p,b,c)&&ox(g,g.data[Vr()],p,p[11],l,p[b+1]=function HS(l,c){return null==l||("string"==typeof c?l+=c:"object"==typeof l&&(l=ie(Po(l)))),l}(c,d),h,b)}function Fl(l,c,d,h){const p=hn(),g=ra(2);p.firstUpdatePass&&by(p,null,g,h);const b=Be();if(d!==on&&As(b,g,d)){const T=p.data[Vr()];if(lx(T,h)&&!rx(p,g)){let D=h?T.classesWithoutHost:T.stylesWithoutHost;null!==D&&(d=Se(D,d||"")),py(p,T,b,d,h)}else!function pO(l,c,d,h,p,g,b,T){p===on&&(p=W);let D=0,M=0,R=0<p.length?p[0]:null,Y=0<g.length?g[0]:null;for(;null!==R||null!==Y;){const K=D<p.length?p[D+1]:void 0,le=M<g.length?g[M+1]:void 0;let Ye,Oe=null;R===Y?(D+=2,M+=2,K!==le&&(Oe=Y,Ye=le)):null===Y||null!==R&&R<Y?(D+=2,Oe=R):(M+=2,Oe=Y,Ye=le),null!==Oe&&ox(l,c,d,h,Oe,Ye,b,T),R=D<p.length?p[D]:null,Y=M<g.length?g[M]:null}}(p,T,b,b[11],b[g+1],b[g+1]=function T6(l,c,d){if(null==d||""===d)return W;const h=[],p=Po(d);if(Array.isArray(p))for(let g=0;g<p.length;g++)l(h,p[g],!0);else if("object"==typeof p)for(const g in p)p.hasOwnProperty(g)&&l(h,g,p[g]);else"string"==typeof p&&c(h,p);return h}(l,c,d),h,g)}}function rx(l,c){return c>=l.expandoStartIndex}function by(l,c,d,h){const p=l.data;if(null===p[d+1]){const g=p[Vr()],b=rx(l,d);lx(g,h)&&null===c&&!b&&(c=!1),c=function sx(l,c,d,h){const p=ud(l);let g=h?c.residualClasses:c.residualStyles;if(null===p)0===(h?c.classBindings:c.styleBindings)&&(d=xy(d=Vg(null,l,c,d,h),c.attrs,h),g=null);else{const b=c.directiveStylingLast;if(-1===b||l[b]!==p)if(d=Vg(p,l,c,d,h),null===g){let D=function BS(l,c,d){const h=d?c.classBindings:c.styleBindings;if(0!==Eu(h))return l[Rl(h)]}(l,c,h);void 0!==D&&Array.isArray(D)&&(D=Vg(null,l,c,D[1],h),D=xy(D,c.attrs,h),function hO(l,c,d,h){l[Rl(d?c.classBindings:c.styleBindings)]=h}(l,c,h,D))}else g=function fO(l,c,d){let h;const p=c.directiveEnd;for(let g=1+c.directiveStylingLast;g<p;g++)h=xy(h,l[g].hostAttrs,d);return xy(h,c.attrs,d)}(l,c,h)}return void 0!==g&&(h?c.residualClasses=g:c.residualStyles=g),d}(p,g,c,h),function y6(l,c,d,h,p,g){let b=g?c.classBindings:c.styleBindings,T=Rl(b),D=Eu(b);l[h]=d;let R,M=!1;if(Array.isArray(d)){const Y=d;R=Y[1],(null===R||_r(Y,R)>0)&&(M=!0)}else R=d;if(p)if(0!==D){const K=Rl(l[T+1]);l[h+1]=iy(K,T),0!==K&&(l[K+1]=vg(l[K+1],h)),l[T+1]=function pL(l,c){return 131071&l|c<<17}(l[T+1],h)}else l[h+1]=iy(T,0),0!==T&&(l[T+1]=vg(l[T+1],h)),T=h;else l[h+1]=iy(D,0),0===T?T=h:l[D+1]=vg(l[D+1],h),D=h;M&&(l[h+1]=S1(l[h+1])),RS(l,R,h,!0),RS(l,R,h,!1),function b6(l,c,d,h,p){const g=p?l.residualClasses:l.residualStyles;null!=g&&"string"==typeof c&&_r(g,c)>=0&&(d[h+1]=A1(d[h+1]))}(c,R,l,h,g),b=iy(T,D),g?c.classBindings=b:c.styleBindings=b}(p,g,c,d,b,h)}}function Vg(l,c,d,h,p){let g=null;const b=d.directiveEnd;let T=d.directiveStylingLast;for(-1===T?T=d.directiveStart:T++;T<b&&(g=c[T],h=xy(h,g.hostAttrs,p),g!==l);)T++;return null!==l&&(d.directiveStylingLast=T),h}function xy(l,c,d){const h=d?1:2;let p=-1;if(null!==c)for(let g=0;g<c.length;g++){const b=c[g];"number"==typeof b?p=b:p===h&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),gr(l,b,!!d||c[++g]))}return void 0===l?null:l}function US(l,c,d){gr(l,c,Po(d))}function ox(l,c,d,h,p,g,b,T){if(!(3&c.type))return;const D=l.data,M=D[T+1];Bg(function eS(l){return 1==(1&l)}(M)?ax(D,c,d,p,Eu(M),b):void 0)||(Bg(g)||function XD(l){return 2==(2&l)}(M)&&(g=ax(D,null,d,p,T,b)),function YN(l,c,d,h,p){if(c)p?l.addClass(d,h):l.removeClass(d,h);else{let g=-1===h.indexOf("-")?void 0:Za.DashCase;null==p?l.removeStyle(d,h,g):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),g|=Za.Important),l.setStyle(d,h,p,g))}}(h,b,Na(Vr(),d),p,g))}function ax(l,c,d,h,p,g){const b=null===c;let T;for(;p>0;){const D=l[p],M=Array.isArray(D),R=M?D[1]:D,Y=null===R;let K=d[p+1];K===on&&(K=Y?W:void 0);let le=Y?xd(K,h):R===h?K:void 0;if(M&&!Bg(le)&&(le=xd(D,h)),Bg(le)&&(T=le,b))return T;const Oe=l[p+1];p=b?Rl(Oe):Eu(Oe)}if(null!==c){let D=g?c.residualClasses:c.residualStyles;null!=D&&(T=xd(D,h))}return T}function Bg(l){return void 0!==l}function lx(l,c){return 0!=(l.flags&(c?16:32))}function cx(l,c=""){const d=Be(),h=hn(),p=l+22,g=h.firstCreatePass?Pp(h,p,1,c,null):h.data[p],b=d[p]=dg(d[11],c);fg(h,d,b,g),$s(g,!1)}function Cy(l){return ux("",l,""),Cy}function ux(l,c,d){const h=Be(),p=Dg(h,l,c,d);return p!==on&&Iu(h,Vr(),p),ux}function YS(l,c,d,h,p){const g=Be(),b=function Sg(l,c,d,h,p,g){const T=Vp(l,Ts(),d,p);return ra(2),T?c+X(d)+h+X(p)+g:on}(g,l,c,d,h,p);return b!==on&&Iu(g,Vr(),b),YS}function mO(l,c,d){Fl(gr,kc,Dg(Be(),l,c,d),!0)}function vO(l,c,d){!function Ec(l){Fl(US,pa,l,!1)}(Dg(Be(),l,c,d))}function JS(l,c,d){const h=Be();return As(h,Io(),c)&&fa(hn(),gi(),h,l,c,h[11],d,!0),JS}function hx(l,c,d){const h=Be();if(As(h,Io(),c)){const g=hn(),b=gi();fa(g,b,h,l,c,function yS(l,c,d){return(null===l||Rr(l))&&(d=function du(l){for(;Array.isArray(l);){if("object"==typeof l[1])return l;l=l[0]}return null}(d[c.index])),d[11]}(ud(g.data),b,h),d,!0)}return hx}const Up=void 0;var F6=["en",[["a","p"],["AM","PM"],Up],[["AM","PM"],Up,Up],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Up,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Up,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Up,"{1} 'at' {0}",Up],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function P6(l){const d=Math.floor(Math.abs(l)),h=l.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===h?1:5}];let Ug={};function QS(l){const c=function U6(l){return l.toLowerCase().replace(/_/g,"-")}(l);let d=kO(c);if(d)return d;const h=c.split("-")[0];if(d=kO(h),d)return d;if("en"===h)return F6;throw new oe(701,!1)}function EO(l){return QS(l)[jt.PluralCase]}function kO(l){return l in Ug||(Ug[l]=Vn.ng&&Vn.ng.common&&Vn.ng.common.locales&&Vn.ng.common.locales[l]),Ug[l]}var jt=(()=>((jt=jt||{})[jt.LocaleId=0]="LocaleId",jt[jt.DayPeriodsFormat=1]="DayPeriodsFormat",jt[jt.DayPeriodsStandalone=2]="DayPeriodsStandalone",jt[jt.DaysFormat=3]="DaysFormat",jt[jt.DaysStandalone=4]="DaysStandalone",jt[jt.MonthsFormat=5]="MonthsFormat",jt[jt.MonthsStandalone=6]="MonthsStandalone",jt[jt.Eras=7]="Eras",jt[jt.FirstDayOfWeek=8]="FirstDayOfWeek",jt[jt.WeekendRange=9]="WeekendRange",jt[jt.DateFormat=10]="DateFormat",jt[jt.TimeFormat=11]="TimeFormat",jt[jt.DateTimeFormat=12]="DateTimeFormat",jt[jt.NumberSymbols=13]="NumberSymbols",jt[jt.NumberFormats=14]="NumberFormats",jt[jt.CurrencyCode=15]="CurrencyCode",jt[jt.CurrencySymbol=16]="CurrencySymbol",jt[jt.CurrencyName=17]="CurrencyName",jt[jt.Currencies=18]="Currencies",jt[jt.Directionality=19]="Directionality",jt[jt.PluralCase=20]="PluralCase",jt[jt.ExtraData=21]="ExtraData",jt))();const H6=["zero","one","two","few","many"],Hp="en-US",fx={marker:"element"},px={marker:"ICU"};var vr=(()=>((vr=vr||{})[vr.SHIFT=2]="SHIFT",vr[vr.APPEND_EAGERLY=1]="APPEND_EAGERLY",vr[vr.COMMENT=2]="COMMENT",vr))();let MO=Hp;function IO(l){(function Wt(l,c){null==l&&Ut(c,l,null,"!=")})(l,"Expected localeId to be defined"),"string"==typeof l&&(MO=l.toLowerCase().replace(/_/g,"-"))}function NO(l,c,d){const h=c.insertBeforeIndex,p=Array.isArray(h)?h[0]:h;return null===p?kD(l,0,d):$n(d[p])}function LO(l,c,d,h,p){const g=c.insertBeforeIndex;if(Array.isArray(g)){let b=h,T=null;if(3&c.type||(T=b,b=p),null!==b&&0==(2&c.flags))for(let D=1;D<g.length;D++)nf(l,b,d[g[D]],T,!1)}}function OO(l,c){if(l.push(c),l.length>1)for(let d=l.length-2;d>=0;d--){const h=l[d];ke(h)||mx(h,c)&&null===Es(h)&&Mc(h,c.index)}}function ke(l){return!(64&l.type)}function mx(l,c){return ke(c)||l.index>c.index}function Es(l){const c=l.insertBeforeIndex;return Array.isArray(c)?c[0]:c}function Mc(l,c){const d=l.insertBeforeIndex;Array.isArray(d)?d[0]=c:(BN(NO,LO),l.insertBeforeIndex=c)}function Yp(l,c){const d=l.data[c];return null===d||"string"==typeof d?null:d.hasOwnProperty("currentCaseLViewIndex")?d:d.value}function RO(l,c,d){const h=Bd(l,d,64,null,null);return OO(c,h),h}function Ty(l,c){const d=c[l.currentCaseLViewIndex];return null===d?d:d<0?~d:d}function XS(l){return l>>>17}function eA(l){return(131070&l)>>>1}let Gd=0,wy=0;function gx(l,c,d,h){const p=d[11];let b,g=null;for(let T=0;T<c.length;T++){const D=c[T];if("string"==typeof D){const M=c[++T];null===d[M]&&(d[M]=dg(p,D))}else if("number"==typeof D)switch(1&D){case 0:const M=XS(D);let R,Y;if(null===g&&(g=M,b=ty(p,h)),M===g?(R=h,Y=b):(R=null,Y=$n(d[M])),null!==Y){const Ye=eA(D);nf(p,Y,d[Ye],R,!1);const gt=Yp(l,Ye);if(null!==gt&&"object"==typeof gt){const Lt=Ty(gt,d);null!==Lt&&gx(l,gt.create[Lt],d,d[gt.anchorIdx])}}break;case 1:const le=c[++T],Oe=c[++T];Mu(p,Na(D>>>1,d),null,null,le,Oe,null)}else switch(D){case px:const M=c[++T],R=c[++T];null===d[R]&&Ss(d[R]=bD(p,M),d);break;case fx:const Y=c[++T],K=c[++T];null===d[K]&&Ss(d[K]=ey(p,Y,null),d)}}}function _x(l,c,d,h,p){for(let g=0;g<d.length;g++){const b=d[g],T=d[++g];if(b&p){let D="";for(let M=g+1;M<=g+T;M++){const R=d[M];if("string"==typeof R)D+=R;else if("number"==typeof R)if(R<0)D+=X(c[h-R]);else{const Y=R>>>2;switch(3&R){case 1:const K=d[++M],le=d[++M],Oe=l.data[Y];"string"==typeof Oe?Mu(c[11],c[Y],null,Oe,K,D,le):fa(l,Oe,c,K,D,c[11],le,!1);break;case 0:const Ye=c[Y];null!==Ye&&y1(c[11],Ye,D);break;case 2:vx(l,Yp(l,Y),c,D);break;case 3:nA(l,Yp(l,Y),h,c)}}}}else{const D=d[g+1];if(D>0&&3==(3&D)){const R=Yp(l,D>>>2);c[R.currentCaseLViewIndex]<0&&nA(l,R,h,c)}}g+=T}}function nA(l,c,d,h){let p=h[c.currentCaseLViewIndex];if(null!==p){let g=Gd;p<0&&(p=h[c.currentCaseLViewIndex]=~p,g=-1),_x(l,h,c.update[p],d,g)}}function vx(l,c,d,h){const p=function BO(l,c){let d=l.cases.indexOf(c);if(-1===d)switch(l.type){case 1:{const h=function Y6(l,c){const d=EO(c)(parseInt(l,10)),h=H6[d];return void 0!==h?h:"other"}(c,function Z6(){return MO}());d=l.cases.indexOf(h),-1===d&&"other"!==h&&(d=l.cases.indexOf("other"));break}case 0:d=l.cases.indexOf("other")}return-1===d?null:d}(c,h);if(Ty(c,d)!==p&&(Vl(l,c,d),d[c.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const b=d[c.anchorIdx];b&&gx(l,c.create[p],d,b)}}function Vl(l,c,d){let h=Ty(c,d);if(null!==h){const p=c.remove[h];for(let g=0;g<p.length;g++){const b=p[g];if(b>0){const T=Na(b,d);null!==T&&mg(d[11],T)}else Vl(l,Yp(l,~b),d)}}}function UO(){const l=[];let d,h,c=-1;function g(T,D){c=0;const M=Ty(T,D);h=null!==M?T.remove[M]:W}function b(){if(c<h.length){const T=h[c++];return T>0?d[T]:(l.push(c,h),g(d[1].data[~T],d),b())}return 0===l.length?null:(h=l.pop(),c=l.pop(),b())}return function p(T,D){for(d=D;l.length;)l.pop();return g(T.value,D),b}}const io=/\ufffd(\d+):?\d*\ufffd/gi,z6=/\ufffd(\d+)\ufffd/,yx=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,sA=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,oA=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,HO=/\uE500/g;function bx(l,c,d,h,p,g,b){const T=Fp(l,h,1,null);let D=T<<vr.SHIFT,M=Pa();c===M&&(M=null),null===M&&(D|=vr.APPEND_EAGERLY),b&&(D|=vr.COMMENT,function kN(l){void 0===Jv&&(Jv=l())}(UO)),p.push(D,null===g?"":g);const R=Bd(l,T,b?32:1,null===g?"":g,null);OO(d,R);const Y=R.index;return $s(R,!1),null!==M&&c!==M&&function ir(l,c){let d=l.insertBeforeIndex;null===d?(BN(NO,LO),d=l.insertBeforeIndex=[null,c]):(function ge(l,c,d){l!=c&&Ut(d,l,c,"==")}(Array.isArray(d),!0,"Expecting array here"),d.push(c))}(M,Y),R}function aA(l,c,d,h,p,g,b){const T=b.match(io),D=bx(l,c,d,g,h,T?null:b,!1);T&&$d(p,b,D.index,null,0,null)}function $d(l,c,d,h,p,g){const b=l.length,T=b+1;l.push(null,null);const D=b+2,M=c.split(io);let R=0;for(let Y=0;Y<M.length;Y++){const K=M[Y];if(1&Y){const le=p+parseInt(K,10);l.push(-1-le),R|=cf(le)}else""!==K&&l.push(K)}return l.push(d<<2|(h?1:0)),h&&l.push(h,g),l[b]=R,l[T]=l.length-D,R}function cf(l){return 1<<Math.min(l,31)}function cA(l){let c,g,d="",h=0,p=!1;for(;null!==(c=sA.exec(l));)p?c[0]===`\ufffd/*${g}\ufffd`&&(h=c.index,p=!1):(d+=l.substring(h,c.index+c[0].length),g=c[1],p=!0);return d+=l.slice(h),d}function Hg(l,c,d,h,p,g){let b=0;const T={type:p.type,currentCaseLViewIndex:Fp(l,c,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function $O(l,c,d){l.push(cf(c.mainBinding),2,-1-c.mainBinding,d<<2|2)})(d,p,g),function ks(l,c,d){const h=l.data[c];null===h?l.data[c]=d:h.value=d}(l,g,T);const D=p.values;for(let M=0;M<D.length;M++){const R=D[M],Y=[];for(let K=0;K<R.length;K++){const le=R[K];if("string"!=typeof le){const Oe=Y.push(le)-1;R[K]=`\x3c!--\ufffd${Oe}\ufffd--\x3e`}}b=ZO(l,T,c,d,h,p.cases[M],R.join(""),Y)|b}b&&function Q6(l,c,d){l.push(c,1,d<<2|3)}(d,b,g)}function dA(l){const c=[],d=[];let h=1,p=0;const g=Ay(l=l.replace(yx,function(b,T,D){return h="select"===D?0:1,p=parseInt(T.slice(1),10),""}));for(let b=0;b<g.length;){let T=g[b++].trim();1===h&&(T=T.replace(/\s*(?:=)?(\w+)\s*/,"$1")),T.length&&c.push(T);const D=Ay(g[b++]);c.length>d.length&&d.push(D)}return{type:h,mainBinding:p,cases:c,values:d}}function Ay(l){if(!l)return[];let c=0;const d=[],h=[],p=/[{}]/g;let g;for(p.lastIndex=0;g=p.exec(l);){const T=g.index;if("}"==g[0]){if(d.pop(),0==d.length){const D=l.substring(c,T);yx.test(D)?h.push(dA(D)):h.push(D),c=T+1}}else{if(0==d.length){const D=l.substring(c,T);h.push(D),c=T+1}d.push("{")}}const b=l.substring(c);return h.push(b),h}function ZO(l,c,d,h,p,g,b,T){const D=[],M=[],R=[];c.cases.push(g),c.create.push(D),c.remove.push(M),c.update.push(R);const K=Ue(Ad()).getInertBodyElement(b),le=Ww(K)||K;return le?hA(l,c,d,h,D,M,R,le,p,T,0):0}function hA(l,c,d,h,p,g,b,T,D,M,R){let Y=0,K=T.firstChild;for(;K;){const le=Fp(l,d,1,null);switch(K.nodeType){case Node.ELEMENT_NODE:const Oe=K,Ye=Oe.tagName.toLowerCase();if(Tp.hasOwnProperty(Ye)){xx(p,fx,Ye,D,le),l.data[le]=Ye;const He=Oe.attributes;for(let Et=0;Et<He.length;Et++){const An=He.item(Et),Ti=An.name.toLowerCase();An.value.match(io)?Gw.hasOwnProperty(Ti)&&$d(b,An.value,le,An.name,0,Wh[Ti]?wu:wp[Ti]?kd:null):qO(p,le,An)}Y=hA(l,c,d,h,p,g,b,K,le,M,R+1)|Y,fA(g,le,R)}break;case Node.TEXT_NODE:const at=K.textContent||"",gt=at.match(io);xx(p,null,gt?"":at,D,le),fA(g,le,R),gt&&(Y=$d(b,at,le,null,0,null)|Y);break;case Node.COMMENT_NODE:const Lt=z6.exec(K.textContent||"");if(Lt){const Et=M[parseInt(Lt[1],10)];xx(p,px,"",D,le),Hg(l,d,h,D,Et,le),GO(g,le,R)}}K=K.nextSibling}return Y}function fA(l,c,d){0===d&&l.push(c)}function GO(l,c,d){0===d&&(l.push(~c),l.push(c))}function xx(l,c,d,h,p){null!==c&&l.push(c),l.push(d,p,function PO(l,c,d){return l|c<<17|d<<1}(0,h,p))}function qO(l,c,d){l.push(c<<1|1,d.name,d.value)}function Cx(l,c,d=-1){const h=hn(),p=Be(),g=22+l,b=ko(h.consts,c),T=Pa();h.firstCreatePass&&function K6(l,c,d,h,p,g){const b=Pa(),T=[],D=[],M=[[]];p=function uA(l,c){if(function lA(l){return-1===l}(c))return cA(l);{const d=l.indexOf(`:${c}\ufffd`)+2+c.toString().length,h=l.search(new RegExp(`\ufffd\\/\\*\\d+:${c}\ufffd`));return cA(l.substring(d,h))}}(p,g);const R=function YO(l){return l.replace(HO," ")}(p).split(oA);for(let Y=0;Y<R.length;Y++){let K=R[Y];if(0==(1&Y)){const le=Ay(K);for(let Oe=0;Oe<le.length;Oe++){let Ye=le[Oe];if(0==(1&Oe)){const at=Ye;""!==at&&aA(l,b,M[0],T,D,d,at)}else{const at=Ye;if("object"!=typeof at)throw new Error(`Unable to parse ICU expression in "${p}" message.`);Hg(l,d,D,c,at,bx(l,b,M[0],d,T,"",!0).index)}}}else{const le=47===K.charCodeAt(0),Ye=(K.charCodeAt(le?1:0),22+Number.parseInt(K.substring(le?2:1)));if(le)M.shift(),$s(Pa(),!1);else{const at=RO(l,M[0],Ye);M.unshift([]),$s(at,!0)}}}l.data[h]={create:T,update:D}}(h,null===T?0:T.index,p,g,b,d);const D=h.data[g],R=DD(h,T===p[6]?null:T,p);(function VO(l,c,d,h){const p=l[11];for(let g=0;g<c.length;g++){const b=c[g++],T=c[g],D=(b&vr.COMMENT)===vr.COMMENT,M=(b&vr.APPEND_EAGERLY)===vr.APPEND_EAGERLY,R=b>>>vr.SHIFT;let Y=l[R];null===Y&&(Y=l[R]=D?p.createComment(T):dg(p,T)),M&&null!==d&&nf(p,d,Y,h,!1)}})(p,D.create,R,T&&8&T.type?p[T.index]:null),cd(!0)}function gA(l,c,d){Cx(l,c,d),function mA(){cd(!1)}()}function Tx(l){return function FO(l){l&&(Gd|=1<<Math.min(wy,31)),wy++}(As(Be(),Io(),l)),Tx}function _A(l){!function Dy(l,c,d){if(wy>0){const h=l.data[d];_x(l,c,Array.isArray(h)?h:h.update,Ts()-wy-1,Gd)}Gd=0,wy=0}(hn(),Be(),l+22)}function wx(l,c,d,h,p){if(l=ye(l),Array.isArray(l))for(let g=0;g<l.length;g++)wx(l[g],c,d,h,p);else{const g=hn(),b=Be();let T=Id(l)?l:ye(l.provide),D=Fo(l);const M=xi(),R=1048575&M.providerIndexes,Y=M.directiveStart,K=M.providerIndexes>>20;if(Id(l)||!l.multi){const le=new Di(D,p,Op),Oe=Sx(T,c,p?R:R+K,Y);-1===Oe?(dc(Ba(M,b),g,T),Dx(g,l,c.length),c.push(T),M.directiveStart++,M.directiveEnd++,p&&(M.providerIndexes+=1048576),d.push(le),b.push(le)):(d[Oe]=le,b[Oe]=le)}else{const le=Sx(T,c,R+K,Y),Oe=Sx(T,c,R,R+K),Ye=le>=0&&d[le],at=Oe>=0&&d[Oe];if(p&&!at||!p&&!Ye){dc(Ba(M,b),g,T);const gt=function Ax(l,c,d,h,p){const g=new Di(l,d,Op);return g.multi=[],g.index=c,g.componentProviders=0,vA(g,p,h&&!d),g}(p?jr:zn,d.length,p,h,D);!p&&at&&(d[Oe].providerFactory=gt),Dx(g,l,c.length,0),c.push(T),M.directiveStart++,M.directiveEnd++,p&&(M.providerIndexes+=1048576),d.push(gt),b.push(gt)}else Dx(g,l,le>-1?le:Oe,vA(d[p?Oe:le],D,!p&&h));!p&&h&&at&&d[Oe].componentProviders++}}}function Dx(l,c,d,h){const p=Id(c),g=function n1(l){return!!l.useClass}(c);if(p||g){const D=(g?ye(c.useClass):c).prototype.ngOnDestroy;if(D){const M=l.destroyHooks||(l.destroyHooks=[]);if(!p&&c.multi){const R=M.indexOf(d);-1===R?M.push(d,[h,D]):M[R+1].push(h,D)}else M.push(d,D)}}}function vA(l,c,d){return d&&l.componentProviders++,l.multi.push(c)-1}function Sx(l,c,d,h){for(let p=d;p<h;p++)if(c[p]===l)return p;return-1}function zn(l,c,d,h){return yA(this.multi,[])}function jr(l,c,d,h){const p=this.multi;let g;if(this.providerFactory){const b=this.providerFactory.componentProviders,T=aa(d,d[1],this.providerFactory.index,h);g=T.slice(0,b),yA(p,g);for(let D=b;D<T.length;D++)g.push(T[D])}else g=[],yA(p,g);return g}function yA(l,c){for(let d=0;d<l.length;d++)c.push((0,l[d])());return c}function za(l,c=[]){return d=>{d.providersResolver=(h,p)=>function nR(l,c,d){const h=hn();if(h.firstCreatePass){const p=Rr(l);wx(d,h.data,h.blueprint,p,!0),wx(c,h.data,h.blueprint,p,!1)}}(h,p?p(l):l,c)}}class Sr{}class B{}function Bl(l,c){return new Ex(l,c??null)}class Ex extends Sr{constructor(c,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xS(this);const h=nn(c);this._bootstrapComponents=Il(h.bootstrap),this._r3Injector=nL(c,d,[{provide:Sr,useValue:this},{provide:Ep,useValue:this.componentFactoryResolver}],ie(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class jg extends B{constructor(c){super(),this.moduleType=c}create(c){return new Ex(this.moduleType,c)}}class bA extends Sr{constructor(c,d,h){super(),this.componentFactoryResolver=new xS(this),this.instance=null;const p=new tD([...c,{provide:Sr,useValue:this},{provide:Ep,useValue:this.componentFactoryResolver}],d||qv(),h,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function kx(l,c,d=null){return new bA(l,c,d).injector}function Ul(l,c,d){const h=Fr()+l,p=Be();return p[h]===on?Ac(p,h,d?c.call(d):c()):function fy(l,c){return l[c]}(p,h)}function qd(l,c,d,h){return AA(Be(),Fr(),l,c,d,h)}function wA(l,c,d,h,p){return Ox(Be(),Fr(),l,c,d,h,p)}function jp(l,c,d,h,p,g){return function Iy(l,c,d,h,p,g,b,T){const D=c+d;return function z1(l,c,d,h,p){const g=Vp(l,c,d,h);return As(l,c+2,p)||g}(l,D,p,g,b)?Ac(l,D+3,T?h.call(T,p,g,b):h(p,g,b)):Gg(l,D+3)}(Be(),Fr(),l,c,d,h,p,g)}function Gg(l,c){const d=l[c];return d===on?void 0:d}function AA(l,c,d,h,p,g){const b=c+d;return As(l,b,p)?Ac(l,b+1,g?h.call(g,p):h(p)):Gg(l,b+1)}function Ox(l,c,d,h,p,g,b){const T=c+d;return Vp(l,T,p,g)?Ac(l,T+2,b?h.call(b,p,g):h(p,g)):Gg(l,T+2)}function EA(l,c){const d=hn();let h;const p=l+22;d.firstCreatePass?(h=function qg(l,c){if(c)for(let d=c.length-1;d>=0;d--){const h=c[d];if(l===h.name)return h}}(c,d.pipeRegistry),d.data[p]=h,h.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(p,h.onDestroy)):h=d.data[p];const g=h.factory||(h.factory=hl(h.type)),b=Ht(Op);try{const T=wr(!1),D=g();return wr(T),function Pl(l,c,d,h){d>=l.data.length&&(l.data[d]=null,l.blueprint[d]=null),c[d]=h}(d,Be(),p,D),D}finally{Ht(b)}}function kA(l,c,d){const h=l+22,p=Be(),g=pl(p,h);return Gp(p,h)?AA(p,Fr(),c,g.transform,d,g):g.transform(d)}function Zp(l,c,d,h){const p=l+22,g=Be(),b=pl(g,p);return Gp(g,p)?Ox(g,Fr(),c,b.transform,d,h,b):b.transform(d,h)}function Gp(l,c){return l[1].data[c].pure}function Ly(l){return c=>{setTimeout(l,void 0,c)}}const Hl=class NA extends s.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,h){let p=c,g=d||(()=>null),b=h;if(c&&"object"==typeof c){const D=c;p=D.next?.bind(D),g=D.error?.bind(D),b=D.complete?.bind(D)}this.__isAsync&&(g=Ly(g),p&&(p=Ly(p)),b&&(b=Ly(b)));const T=super.subscribe({next:p,error:g,complete:b});return c instanceof H.w0&&c.add(T),T}};function lR(){return this._results[af()]()}class $p{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=af(),h=$p.prototype;h[d]||(h[d]=lR)}get changes(){return this._changes||(this._changes=new Hl)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const h=this;h.dirty=!1;const p=us(c);(this._changesDetected=!function bd(l,c,d){if(l.length!==c.length)return!1;for(let h=0;h<l.length;h++){let p=l[h],g=c[h];if(d&&(p=d(p),g=d(g)),g!==p)return!1}return!0}(h._results,p,d))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let qp=(()=>{class l{}return l.__NG_ELEMENT_ID__=cR,l})();const LA=qp,Rx=class extends LA{constructor(c,d,h){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=h}createEmbeddedView(c,d){const h=this._declarationTContainer.tViews,p=O1(this._declarationLView,h,c,16,null,h.declTNode,null,null,null,null,d||null);p[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(p[19]=b.createEmbeddedView(h)),R1(h,p,c),new ay(p)}};function cR(){return Wg(xi(),Be())}function Wg(l,c){return 4&l.type?new Rx(c,l,kp(l,c)):null}let Oy=(()=>{class l{}return l.__NG_ELEMENT_ID__=Px,l})();function Px(){return Bx(xi(),Be())}const Fx=Oy,Ry=class extends Fx{constructor(c,d,h){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=h}get element(){return kp(this._hostTNode,this._hostLView)}get injector(){return new la(this._hostTNode,this._hostLView)}get parentInjector(){const c=bl(this._hostTNode,this._hostLView);if(lp(c)){const d=li(c,this._hostLView),h=qs(c);return new la(d[1].data[h+8],d)}return new la(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=OA(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,d,h){let p,g;"number"==typeof h?p=h:null!=h&&(p=h.index,g=h.injector);const b=c.createEmbeddedView(d||{},g);return this.insert(b,p),b}createComponent(c,d,h,p,g){const b=c&&!function Ya(l){return"function"==typeof l}(c);let T;if(b)T=d;else{const Y=d||{};T=Y.index,h=Y.injector,p=Y.projectableNodes,g=Y.environmentInjector||Y.ngModuleRef}const D=b?c:new ly(ht(c)),M=h||this.parentInjector;if(!g&&null==D.ngModule){const K=(b?M:this.parentInjector).get(Du,null);K&&(g=K)}const R=D.create(M,p,void 0,g);return this.insert(R.hostView,T),R}insert(c,d){const h=c._lView,p=h[1];if(function nr(l){return Ao(l[3])}(h)){const R=this.indexOf(c);if(-1!==R)this.detach(R);else{const Y=h[3],K=new Ry(Y,Y[6],Y[3]);K.detach(K.indexOf(c))}}const g=this._adjustIndex(d),b=this._lContainer;!function LN(l,c,d,h){const p=10+h,g=d.length;h>0&&(d[p-1][4]=c),h<g-10?(c[4]=d[p],mc(d,10+h,c)):(d.push(c),c[4]=null),c[3]=d;const b=c[17];null!==b&&d!==b&&function ON(l,c){const d=l[9];c[16]!==c[3][3][16]&&(l[2]=!0),null===d?l[9]=[c]:d.push(c)}(b,c);const T=c[19];null!==T&&T.insertView(l),c[2]|=64}(p,h,b,g);const T=LD(g,b),D=h[11],M=ty(D,b[7]);return null!==M&&function b1(l,c,d,h,p,g){h[0]=p,h[6]=c,gg(l,h,d,1,p,g)}(p,b[6],D,h,M,T),c.attachToViewContainerRef(),mc(Vx(b),g,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=OA(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),h=tf(this._lContainer,d);h&&(Js(Vx(this._lContainer),d),TD(h[1],h))}detach(c){const d=this._adjustIndex(c,-1),h=tf(this._lContainer,d);return h&&null!=Js(Vx(this._lContainer),d)?new ay(h):null}_adjustIndex(c,d=0){return c??this.length+d}};function OA(l){return l[8]}function Vx(l){return l[8]||(l[8]=[])}function Bx(l,c){let d;const h=c[l.index];if(Ao(h))d=h;else{let p;if(8&l.type)p=$n(h);else{const g=c[11];p=g.createComment("");const b=Cr(l,c);nf(g,ty(g,b),p,function VN(l,c){return l.nextSibling(c)}(g,b),!1)}c[l.index]=d=SL(h,c,p,l),Z1(c,d)}return new Ry(d,l,c)}class Py{constructor(c){this.queryList=c,this.matches=null}clone(){return new Py(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fy{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const h=null!==c.contentQueries?c.contentQueries[0]:d.length,p=[];for(let g=0;g<h;g++){const b=d.getByIndex(g);p.push(this.queries[b.indexInDeclarationView].clone())}return new Fy(p)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==By(c,d).matches&&this.queries[d].setDirty()}}class Ux{constructor(c,d,h=null){this.predicate=c,this.flags=d,this.read=h}}class Hx{constructor(c=[]){this.queries=c}elementStart(c,d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let h=0;h<this.length;h++){const p=null!==d?d.length:0,g=this.getByIndex(h).embeddedTView(c,p);g&&(g.indexInDeclarationView=h,null!==d?d.push(g):d=[g])}return null!==d?new Hx(d):null}template(c,d){for(let h=0;h<this.queries.length;h++)this.queries[h].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Yx{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new Yx(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let h=c.parent;for(;null!==h&&8&h.type&&h.index!==d;)h=h.parent;return d===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const g=h[p];this.matchTNodeWithReadOption(c,d,hR(d,g)),this.matchTNodeWithReadOption(c,d,bu(d,c,g,!1,!1))}else h===qp?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,bu(d,c,h,!1,!1))}matchTNodeWithReadOption(c,d,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===Mp||p===Oy||p===qp&&4&d.type)this.addMatch(d.index,-2);else{const g=bu(d,c,p,!1,!1);null!==g&&this.addMatch(d.index,g)}else this.addMatch(d.index,h)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function hR(l,c){const d=l.localNames;if(null!==d)for(let h=0;h<d.length;h+=2)if(d[h]===c)return d[h+1];return null}function pR(l,c,d,h){return-1===d?function fR(l,c){return 11&l.type?kp(l,c):4&l.type?Wg(l,c):null}(c,l):-2===d?function RA(l,c,d){return d===Mp?kp(c,l):d===qp?Wg(c,l):d===Oy?Bx(c,l):void 0}(l,c,h):aa(l,l[1],d,c)}function jx(l,c,d,h){const p=c[19].queries[h];if(null===p.matches){const g=l.data,b=d.matches,T=[];for(let D=0;D<b.length;D+=2){const M=b[D];T.push(M<0?null:pR(c,g[M],b[D+1],d.metadata.read))}p.matches=T}return p.matches}function Zx(l,c,d,h){const p=l.queries.getByIndex(d),g=p.matches;if(null!==g){const b=jx(l,c,p,d);for(let T=0;T<g.length;T+=2){const D=g[T];if(D>0)h.push(b[T/2]);else{const M=g[T+1],R=c[-D];for(let Y=10;Y<R.length;Y++){const K=R[Y];K[17]===K[3]&&Zx(K[1],K,M,h)}if(null!==R[9]){const Y=R[9];for(let K=0;K<Y.length;K++){const le=Y[K];Zx(le[1],le,M,h)}}}}}return h}function PA(l){const c=Be(),d=hn(),h=dd();mu(h+1);const p=By(d,h);if(l.dirty&&ml(c)===(2==(2&p.metadata.flags))){if(null===p.matches)l.reset([]);else{const g=p.crossesNgTemplate?Zx(d,c,h,[]):jx(d,c,p,h);l.reset(g,hN),l.notifyOnChanges()}return!0}return!1}function FA(l,c,d){const h=hn();h.firstCreatePass&&(Wp(h,new Ux(l,c,d),-1),2==(2&c)&&(h.staticViewQueries=!0)),VA(h,Be(),c)}function ff(l,c,d,h){const p=hn();if(p.firstCreatePass){const g=xi();Wp(p,new Ux(c,d,h),g.index),function zg(l,c){const d=l.contentQueries||(l.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(l.queries.length-1,c)}(p,l),2==(2&d)&&(p.staticContentQueries=!0)}VA(p,Be(),d)}function Vy(){return function mR(l,c){return l[19].queries[c].queryList}(Be(),dd())}function VA(l,c,d){const h=new $p(4==(4&d));uS(l,c,h,h.destroy),null===c[19]&&(c[19]=new Fy),c[19].queries.push(new Py(h))}function Wp(l,c,d){null===l.queries&&(l.queries=new Hx),l.queries.track(new Yx(c,d))}function By(l,c){return l.queries.getByIndex(c)}function BA(l,c){return Wg(l,c)}function pf(l){const c=ht(l)||Ft(l)||Zt(l);return null!==c&&c.standalone}function Gy(...l){}const tC=new ti("Application Initializer");let Kg=(()=>{class l{constructor(d){this.appInits=d,this.resolve=Gy,this.reject=Gy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const d=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const g=this.appInits[p]();if(J1(g))d.push(g);else if(NS(g)){const b=new Promise((T,D)=>{g.subscribe({complete:T,error:D})});d.push(b)}}Promise.all(d).then(()=>{h()}).catch(p=>{this.reject(p)}),0===d.length&&h(),this.initialized=!0}}return l.\u0275fac=function(d){return new(d||l)(We(tC,8))},l.\u0275prov=bi({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const _f=new ti("AppId",{providedIn:"root",factory:function nC(){return`${iC()}${iC()}${iC()}`}});function iC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eE=new ti("Platform Initializer"),SR=new ti("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vi=new ti("appBootstrapListener"),AR=new ti("AnimationModuleType");let $y=(()=>{class l{log(d){console.log(d)}warn(d){console.warn(d)}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=bi({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const Ru=new ti("LocaleId",{providedIn:"root",factory:()=>bt(Ru,Ct.Optional|Ct.SkipSelf)||function rC(){return typeof $localize<"u"&&$localize.locale||Hp}()}),Pu=new ti("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Jg{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let ER=(()=>{class l{compileModuleSync(d){return new jg(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const h=this.compileModuleSync(d),g=Il(nn(d).declarations).reduce((b,T)=>{const D=ht(T);return D&&b.push(new ly(D)),b},[]);return new Jg(h,g)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=bi({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const iE=(()=>Promise.resolve(0))();function sC(l){typeof Zone>"u"?iE.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class Uo{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hl(!1),this.onMicrotaskEmpty=new Hl(!1),this.onStable=new Hl(!1),this.onError=new Hl(!1),typeof Zone>"u")throw new oe(908,!1);Zone.assertZonePatched();const p=this;if(p._nesting=0,p._outer=p._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;p._inner=p._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&d,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function rE(){let l=Vn.requestAnimationFrame,c=Vn.cancelAnimationFrame;if(typeof Zone<"u"&&l&&c){const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function Xg(l){const c=()=>{!function Qg(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(Vn,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,oC(l),l.isCheckStableRunning=!0,zd(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),oC(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,h,p,g,b,T)=>{try{return zy(l),d.invokeTask(p,g,b,T)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||l.shouldCoalesceRunChangeDetection)&&c(),Qp(l)}},onInvoke:(d,h,p,g,b,T,D)=>{try{return zy(l),d.invoke(p,g,b,T,D)}finally{l.shouldCoalesceRunChangeDetection&&c(),Qp(l)}},onHasTask:(d,h,p,g)=>{d.hasTask(p,g),h===p&&("microTask"==g.change?(l._hasPendingMicrotasks=g.microTask,oC(l),zd(l)):"macroTask"==g.change&&(l.hasPendingMacrotasks=g.macroTask))},onHandleError:(d,h,p,g)=>(d.handleError(p,g),l.runOutsideAngular(()=>l.onError.emit(g)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Uo.isInAngularZone())throw new oe(909,!1)}static assertNotInAngularZone(){if(Uo.isInAngularZone())throw new oe(909,!1)}run(c,d,h){return this._inner.run(c,d,h)}runTask(c,d,h,p){const g=this._inner,b=g.scheduleEventTask("NgZoneEvent: "+p,c,sE,Gy,Gy);try{return g.runTask(b,d,h)}finally{g.cancelTask(b)}}runGuarded(c,d,h){return this._inner.runGuarded(c,d,h)}runOutsideAngular(c){return this._outer.run(c)}}const sE={};function zd(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function oC(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function zy(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function Qp(l){l._nesting--,zd(l)}class MR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hl,this.onMicrotaskEmpty=new Hl,this.onStable=new Hl,this.onError=new Hl}run(c,d,h){return c.apply(d,h)}runGuarded(c,d,h){return c.apply(d,h)}runOutsideAngular(c){return c()}runTask(c,d,h,p){return c.apply(d,h)}}const e_=new ti(""),oE=new ti("");let lC,IR=(()=>{class l{constructor(d,h,p){this._ngZone=d,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,lC||(function aC(l){lC=l}(p),p.addToWindow(h)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Uo.assertNotInAngularZone(),sC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sC(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(d)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,h,p){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==g),d(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:d,timeoutId:g,updateCb:p})}whenStable(d,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,h,p){return[]}}return l.\u0275fac=function(d){return new(d||l)(We(Uo),We(aE),We(oE))},l.\u0275prov=bi({token:l,factory:l.\u0275fac}),l})(),aE=(()=>{class l{constructor(){this._applications=new Map}registerApplication(d,h){this._applications.set(d,h)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,h=!0){return lC?.findTestabilityInTree(this,d,h)??null}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=bi({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})(),Oc=null;const lE=new ti("AllowMultipleToken"),Xp=new ti("PlatformDestroyListeners");class Ky{constructor(c,d){this.name=c,this.token=d}}function uE(l,c,d=[]){const h=`Platform: ${c}`,p=new ti(h);return(g=[])=>{let b=dC();if(!b||b.injector.get(lE,!1)){const T=[...d,...g,{provide:p,useValue:!0}];l?l(T):function em(l){if(Oc&&!Oc.get(lE,!1))throw new oe(400,!1);Oc=l;const c=l.get(ga);(function Jy(l){const c=l.get(eE,null);c&&c.forEach(d=>d())})(l)}(function hE(l=[],c){return Lp.create({name:c,providers:[{provide:r1,useValue:"platform"},{provide:Xp,useValue:new Set([()=>Oc=null])},...l]})}(T,h))}return function dE(l){const c=dC();if(!c)throw new oe(401,!1);return c}()}}function dC(){return Oc?.get(ga)??null}let ga=(()=>{class l{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,h){const p=function hC(l,c){let d;return d="noop"===l?new MR:("zone.js"===l?void 0:l)||new Uo(c),d}(h?.ngZone,function Qy(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!l||!l.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!l||!l.ngZoneRunCoalescing)||!1}}(h)),g=[{provide:Uo,useValue:p}];return p.run(()=>{const b=Lp.create({providers:g,parent:this.injector,name:d.moduleType.name}),T=d.create(b),D=T.injector.get(Ld,null);if(!D)throw new oe(402,!1);return p.runOutsideAngular(()=>{const M=p.onError.subscribe({next:R=>{D.handleError(R)}});T.onDestroy(()=>{Pc(this._modules,T),M.unsubscribe()})}),function Xy(l,c,d){try{const h=d();return J1(h)?h.catch(p=>{throw c.runOutsideAngular(()=>l.handleError(p)),p}):h}catch(h){throw c.runOutsideAngular(()=>l.handleError(h)),h}}(D,p,()=>{const M=T.injector.get(Kg);return M.runInitializers(),M.donePromise.then(()=>(IO(T.injector.get(Ru,Hp)||Hp),this._moduleDoBootstrap(T),T))})})}bootstrapModule(d,h=[]){const p=t_({},h);return function cE(l,c,d){const h=new jg(d);return Promise.resolve(h)}(0,0,d).then(g=>this.bootstrapModuleFactory(g,p))}_moduleDoBootstrap(d){const h=d.injector.get(Kd);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!d.instance.ngDoBootstrap)throw new oe(403,!1);d.instance.ngDoBootstrap(h)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new oe(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const d=this._injector.get(Xp,null);d&&(d.forEach(h=>h()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(d){return new(d||l)(We(Lp))},l.\u0275prov=bi({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();function t_(l,c){return Array.isArray(c)?c.reduce(t_,l):{...l,...c}}let Kd=(()=>{class l{constructor(d,h,p){this._zone=d,this._injector=h,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new P.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),b=new P.y(T=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Uo.assertNotInAngularZone(),sC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Uo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{D.unsubscribe(),M.unsubscribe()}});this.isStable=(0,Q.T)(g,b.pipe(function xe(l={}){const{connector:c=(()=>new s.x),resetOnError:d=!0,resetOnComplete:h=!0,resetOnRefCountZero:p=!0}=l;return g=>{let b,T,D,M=0,R=!1,Y=!1;const K=()=>{T?.unsubscribe(),T=void 0},le=()=>{K(),b=D=void 0,R=Y=!1},Oe=()=>{const Ye=b;le(),Ye?.unsubscribe()};return(0,se.e)((Ye,at)=>{M++,!Y&&!R&&K();const gt=D=D??c();at.add(()=>{M--,0===M&&!Y&&!R&&(T=q(Oe,p))}),gt.subscribe(at),!b&&M>0&&(b=new fe.Hp({next:Lt=>gt.next(Lt),error:Lt=>{Y=!0,K(),T=q(le,d,Lt),gt.error(Lt)},complete:()=>{R=!0,K(),T=q(le,h),gt.complete()}}),(0,z.Xf)(Ye).subscribe(b))})(g)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,h){const p=d instanceof sD;if(!this._injector.get(Kg).done)throw!p&&pf(d),new oe(405,false);let b;b=p?d:this._injector.get(Ep).resolveComponentFactory(d),this.componentTypes.push(b.componentType);const T=function NR(l){return l.isBoundToModule}(b)?void 0:this._injector.get(Sr),M=b.create(Lp.NULL,[],h||b.selector,T),R=M.location.nativeElement,Y=M.injector.get(e_,null);return Y?.registerApplication(R),M.onDestroy(()=>{this.detachView(M.hostView),Pc(this.components,M),Y?.unregisterApplication(R)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new oe(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const h=d;this._views.push(h),h.attachToAppRef(this)}detachView(d){const h=d;Pc(this._views,h),h.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(vi,[]).concat(this._bootstrapListeners).forEach(p=>p(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Pc(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new oe(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return l.\u0275fac=function(d){return new(d||l)(We(Uo),We(Du),We(Ld))},l.\u0275prov=bi({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function Pc(l,c){const d=l.indexOf(c);d>-1&&l.splice(d,1)}let fE=!0,pE=!1;function n_(){return pE=!0,fE}function LR(){if(pE)throw new Error("Cannot enable prod mode after platform setup.");fE=!1}let mE=(()=>{class l{}return l.__NG_ELEMENT_ID__=e0,l})();function e0(l){return function bf(l,c,d){if(ed(l)&&!d){const h=Ri(l.index,c);return new ay(h,h)}return 47&l.type?new ay(c[16],c):null}(xi(),Be(),16==(16&l))}class yC{constructor(){}supports(c){return Tg(c)}create(c){return new OR(c)}}const _E=(l,c)=>c;class OR{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||_E}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,h=this._removalsHead,p=0,g=null;for(;d||h;){const b=!h||d&&d.currentIndex<yE(h,p,g)?d:h,T=yE(b,p,g),D=b.currentIndex;if(b===h)p--,h=h._nextRemoved;else if(d=d._next,null==b.previousIndex)p++;else{g||(g=[]);const M=T-p,R=D-p;if(M!=R){for(let K=0;K<M;K++){const le=K<g.length?g[K]:g[K]=0,Oe=le+K;R<=Oe&&Oe<M&&(g[K]=le+1)}g[b.previousIndex]=R-M}}T!==D&&c(b,T,D)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!Tg(c))throw new oe(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let p,g,b,d=this._itHead,h=!1;if(Array.isArray(c)){this.length=c.length;for(let T=0;T<this.length;T++)g=c[T],b=this._trackByFn(T,g),null!==d&&Object.is(d.trackById,b)?(h&&(d=this._verifyReinsertion(d,g,b,T)),Object.is(d.item,g)||this._addIdentityChange(d,g)):(d=this._mismatch(d,g,b,T),h=!0),d=d._next}else p=0,function YL(l,c){if(Array.isArray(l))for(let d=0;d<l.length;d++)c(l[d]);else{const d=l[af()]();let h;for(;!(h=d.next()).done;)c(h.value)}}(c,T=>{b=this._trackByFn(p,T),null!==d&&Object.is(d.trackById,b)?(h&&(d=this._verifyReinsertion(d,T,b,p)),Object.is(d.item,T)||this._addIdentityChange(d,T)):(d=this._mismatch(d,T,b,p),h=!0),d=d._next,p++}),this.length=p;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,h,p){let g;return null===c?g=this._itTail:(g=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,g,p)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,g,p)):c=this._addAfter(new RR(d,h),g,p),c}_verifyReinsertion(c,d,h,p){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?c=this._reinsertAfter(g,c._prev,p):c.currentIndex!=p&&(c.currentIndex=p,this._addToMoves(c,p)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const p=c._prevRemoved,g=c._nextRemoved;return null===p?this._removalsHead=g:p._nextRemoved=g,null===g?this._removalsTail=p:g._prevRemoved=p,this._insertAfter(c,d,h),this._addToMoves(c,h),c}_moveAfter(c,d,h){return this._unlink(c),this._insertAfter(c,d,h),this._addToMoves(c,h),c}_addAfter(c,d,h){return this._insertAfter(c,d,h),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,h){const p=null===d?this._itHead:d._next;return c._next=p,c._prev=d,null===p?this._itTail=c:p._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new vE),this._linkedRecords.put(c),c.currentIndex=h,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,h=c._next;return null===d?this._itHead=h:d._next=h,null===h?this._itTail=d:h._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vE),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class RR{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PR{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===d||d<=h.currentIndex)&&Object.is(h.trackById,c))return h;return null}remove(c){const d=c._prevDup,h=c._nextDup;return null===d?this._head=h:d._nextDup=h,null===h?this._tail=d:h._prevDup=d,null===this._head}}class vE{constructor(){this.map=new Map}put(c){const d=c.trackById;let h=this.map.get(d);h||(h=new PR,this.map.set(d,h)),h.add(c)}get(c,d){const p=this.map.get(c);return p?p.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yE(l,c,d){const h=l.previousIndex;if(null===h)return h;let p=0;return d&&h<d.length&&(p=d[h]),h+c+p}class bE{constructor(){}supports(c){return c instanceof Map||hy(c)}create(){return new a0}}class a0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||hy(c)))throw new oe(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(h,p)=>{if(d&&d.key===p)this._maybeAddToChanges(d,h),this._appendAfter=d,d=d._next;else{const g=this._getOrCreateRecordForKey(p,h);d=this._insertBeforeOrAppend(d,g)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let h=d;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const h=c._prev;return d._next=c,d._prev=h,c._prev=d,h&&(h._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const p=this._records.get(c);this._maybeAddToChanges(p,d);const g=p._prev,b=p._next;return g&&(g._next=b),b&&(b._prev=g),p._next=null,p._prev=null,p}const h=new bC(c);return this._records.set(c,h),h.currentValue=d,this._addToAdditions(h),h}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(h=>d(c[h],h))}}class bC{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xC(){return new nm([new yC])}let nm=(()=>{class l{constructor(d){this.factories=d}static create(d,h){if(null!=h){const p=h.factories.slice();d=d.concat(p)}return new l(d)}static extend(d){return{provide:l,useFactory:h=>l.create(d,h||xC()),deps:[[l,new Wr,new Xs]]}}find(d){const h=this.factories.find(p=>p.supports(d));if(null!=h)return h;throw new oe(901,!1)}}return l.\u0275prov=bi({token:l,providedIn:"root",factory:xC}),l})();function l0(){return new c0([new bE])}let c0=(()=>{class l{constructor(d){this.factories=d}static create(d,h){if(h){const p=h.factories.slice();d=d.concat(p)}return new l(d)}static extend(d){return{provide:l,useFactory:h=>l.create(d,h||l0()),deps:[[l,new Wr,new Xs]]}}find(d){const h=this.factories.find(p=>p.supports(d));if(h)return h;throw new oe(901,!1)}}return l.\u0275prov=bi({token:l,providedIn:"root",factory:l0}),l})();const CC=uE(null,"core",[]);let BR=(()=>{class l{constructor(d){}}return l.\u0275fac=function(d){return new(d||l)(We(Kd))},l.\u0275mod=be({type:l}),l.\u0275inj=Hi({}),l})();function UR(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}function jR(l,c){const d=ht(l),h=c.elementInjector||qv();return new ly(d).create(h,c.projectableNodes,c.hostElement,c.environmentInjector)}},3942:(Ke,ve,I)=>{"use strict";I.d(ve,{Z:()=>Ie});var s=I(2090),H=I(4859),P=I(9681),Q=I(1877);class z{constructor(Ce,Ee){this._delegate=Ce,this.firebase=Ee,(0,P._addComponent)(Ce,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=Ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this._delegate.automaticDataCollectionEnabled=Ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ce=>{this._delegate.checkDestroyed(),Ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(Ce,Ee=P._DEFAULT_ENTRY_NAME){var oe;this._delegate.checkDestroyed();const Ae=this._delegate.container.getProvider(Ce);return!Ae.isInitialized()&&"EXPLICIT"===(null===(oe=Ae.getComponent())||void 0===oe?void 0:oe.instantiationMode)&&Ae.initialize(),Ae.getImmediate({identifier:Ee})}_removeServiceInstance(Ce,Ee=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ce).clearInstance(Ee)}_addComponent(Ce){(0,P._addComponent)(this._delegate,Ce)}_addOrOverwriteComponent(Ce){(0,P._addOrOverwriteComponent)(this._delegate,Ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function q(){const ye=function xe(ye){const Ce={},Ee={__esModule:!0,initializeApp:function X(ce,Je={}){const $e=P.initializeApp(ce,Je);if((0,s.r3)(Ce,$e.name))return Ce[$e.name];const me=new ye($e,Ee);return Ce[$e.name]=me,me},app:Ae,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Qe(ce){const Je=ce.name,$e=Je.replace("-compat","");if(P._registerComponent(ce)&&"PUBLIC"===ce.type){const me=(ue=Ae())=>{if("function"!=typeof ue[$e])throw se.create("invalid-app-argument",{appName:Je});return ue[$e]()};void 0!==ce.serviceProps&&(0,s.ZB)(me,ce.serviceProps),Ee[$e]=me,ye.prototype[$e]=function(...ue){return this._getService.bind(this,Je).apply(this,ce.multipleInstances?ue:[])}}return"PUBLIC"===ce.type?Ee[$e]:null},removeApp:function oe(ce){delete Ce[ce]},useAsService:function Xe(ce,Je){return"serverAuth"===Je?null:Je},modularAPIs:P}};function Ae(ce){if(!(0,s.r3)(Ce,ce=ce||P._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:ce});return Ce[ce]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function de(){return Object.keys(Ce).map(ce=>Ce[ce])}}),Ae.App=ye,Ee}(z);return ye.INTERNAL=Object.assign(Object.assign({},ye.INTERNAL),{createFirebaseNamespace:q,extendNamespace:function Ce(Ee){(0,s.ZB)(ye,Ee)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),ye}(),Z=new Q.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ye=self.firebase.SDK_VERSION;ye&&ye.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ie=F;!function pe(ye){(0,P.registerVersion)("@firebase/app-compat","0.1.17",ye)}()},9681:(Ke,ve,I)=>{"use strict";I.r(ve),I.d(ve,{FirebaseError:()=>Q.ZR,SDK_VERSION:()=>xs,_DEFAULT_ENTRY_NAME:()=>Cn,_addComponent:()=>Ji,_addOrOverwriteComponent:()=>Wt,_apps:()=>Dt,_clearComponents:()=>bs,_components:()=>ri,_getProvider:()=>yn,_registerComponent:()=>Ut,_removeServiceInstance:()=>_n,deleteApp:()=>Ys,getApp:()=>xo,getApps:()=>Xi,initializeApp:()=>bo,onLog:()=>$r,registerVersion:()=>Jn,setLogLevel:()=>hi});var s=I(5861),H=I(4859),P=I(1877),Q=I(2090);class z{constructor(Rt){this.container=Rt}getPlatformInfoString(){return this.container.getProviders().map(Ht=>{if(function fe(St){return"VERSION"===St.getComponent()?.type}(Ht)){const Yn=Ht.getImmediate();return`${Yn.library}/${Yn.version}`}return null}).filter(Ht=>Ht).join(" ")}}const se="@firebase/app",q=new P.Yd("@firebase/app"),Cn="[DEFAULT]",Ui={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Dt=new Map,ri=new Map;function Ji(St,Rt){try{St.container.addComponent(Rt)}catch(Ht){q.debug(`Component ${Rt.name} failed to register with FirebaseApp ${St.name}`,Ht)}}function Wt(St,Rt){St.container.addOrOverwriteComponent(Rt)}function Ut(St){const Rt=St.name;if(ri.has(Rt))return q.debug(`There were multiple attempts to register component ${Rt}.`),!1;ri.set(Rt,St);for(const Ht of Dt.values())Ji(Ht,St);return!0}function yn(St,Rt){return St.container.getProvider(Rt)}function _n(St,Rt,Ht=Cn){yn(St,Rt).clearInstance(Ht)}function bs(){ri.clear()}const Qi=new Q.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Hi{constructor(Rt,Ht,Yn){this._isDeleted=!1,this._options=Object.assign({},Rt),this._config=Object.assign({},Ht),this._name=Ht.name,this._automaticDataCollectionEnabled=Ht.automaticDataCollectionEnabled,this._container=Yn,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Rt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Rt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Rt){this._isDeleted=Rt}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}const xs="9.6.6";function bo(St,Rt={}){"object"!=typeof Rt&&(Rt={name:Rt});const Ht=Object.assign({name:Cn,automaticDataCollectionEnabled:!1},Rt),Yn=Ht.name;if("string"!=typeof Yn||!Yn)throw Qi.create("bad-app-name",{appName:String(Yn)});const vn=Dt.get(Yn);if(vn){if((0,Q.vZ)(St,vn.options)&&(0,Q.vZ)(Ht,vn.config))return vn;throw Qi.create("duplicate-app",{appName:Yn})}const dt=new H.H0(Yn);for(const jn of ri.values())dt.addComponent(jn);const yt=new Hi(St,Ht,dt);return Dt.set(Yn,yt),yt}function xo(St=Cn){const Rt=Dt.get(St);if(!Rt)throw Qi.create("no-app",{appName:St});return Rt}function Xi(){return Array.from(Dt.values())}function Ys(St){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,s.Z)(function*(St){const Rt=St.name;Dt.has(Rt)&&(Dt.delete(Rt),yield Promise.all(St.container.getProviders().map(Ht=>Ht.delete())),St.isDeleted=!0)})).apply(this,arguments)}function Jn(St,Rt,Ht){var Yn;let vn=null!==(Yn=Ui[St])&&void 0!==Yn?Yn:St;Ht&&(vn+=`-${Ht}`);const dt=vn.match(/\s|\//),yt=Rt.match(/\s|\//);if(dt||yt){const jn=[`Unable to register library "${vn}" with version "${Rt}":`];return dt&&jn.push(`library name "${vn}" contains illegal characters (whitespace or "/")`),dt&&yt&&jn.push("and"),yt&&jn.push(`version name "${Rt}" contains illegal characters (whitespace or "/")`),void q.warn(jn.join(" "))}Ut(new H.wA(`${vn}-version`,()=>({library:vn,version:Rt}),"VERSION"))}function $r(St,Rt){if(null!==St&&"function"!=typeof St)throw Qi.create("invalid-log-argument");(0,P.Am)(St,Rt)}function hi(St){(0,P.Ub)(St)}!function Ct(St){Ut(new H.wA("platform-logger",Rt=>new z(Rt),"PRIVATE")),Jn(se,"0.7.16",St),Jn(se,"0.7.16","esm2017"),Jn("fire-js","")}("")},4859:(Ke,ve,I)=>{"use strict";I.d(ve,{H0:()=>xe,wA:()=>P,zt:()=>z});var s=I(5861),H=I(2090);class P{constructor(F,Z,ie){this.name=F,this.instanceFactory=Z,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const Q="[DEFAULT]";class z{constructor(F,Z){this.name=F,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const Z=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(Z)){const ie=new H.BH;if(this.instancesDeferred.set(Z,ie),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Se=this.getOrInitializeService({instanceIdentifier:Z});Se&&ie.resolve(Se)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(F){var Z;const ie=this.normalizeInstanceIdentifier(F?.identifier),Se=null!==(Z=F?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(Se)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(pe){if(Se)return null;throw pe}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if(function se(q){return"EAGER"===q.instantiationMode}(F))try{this.getOrInitializeService({instanceIdentifier:Q})}catch{}for(const[Z,ie]of this.instancesDeferred.entries()){const Se=this.normalizeInstanceIdentifier(Z);try{const pe=this.getOrInitializeService({instanceIdentifier:Se});ie.resolve(pe)}catch{}}}}clearInstance(F=Q){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,s.Z)(function*(){const Z=Array.from(F.instances.values());yield Promise.all([...Z.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...Z.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=Q){return this.instances.has(F)}getOptions(F=Q){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:Z={}}=F,ie=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Se=this.getOrInitializeService({instanceIdentifier:ie,options:Z});for(const[pe,Ie]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(pe)&&Ie.resolve(Se);return Se}onInit(F,Z){var ie;const Se=this.normalizeInstanceIdentifier(Z),pe=null!==(ie=this.onInitCallbacks.get(Se))&&void 0!==ie?ie:new Set;pe.add(F),this.onInitCallbacks.set(Se,pe);const Ie=this.instances.get(Se);return Ie&&F(Ie,Se),()=>{pe.delete(F)}}invokeOnInitCallbacks(F,Z){const ie=this.onInitCallbacks.get(Z);if(ie)for(const Se of ie)try{Se(F,Z)}catch{}}getOrInitializeService({instanceIdentifier:F,options:Z={}}){let ie=this.instances.get(F);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(q=F,q===Q?void 0:q),options:Z}),this.instances.set(F,ie),this.instancesOptions.set(F,Z),this.invokeOnInitCallbacks(ie,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,ie)}catch{}var q;return ie||null}normalizeInstanceIdentifier(F=Q){return this.component?this.component.multipleInstances?F:Q:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xe{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const Z=this.getProvider(F.name);if(Z.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);Z.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const Z=new z(F,this);return this.providers.set(F,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(Ke,ve,I)=>{"use strict";I.d(ve,{Am:()=>q,Ub:()=>xe,Yd:()=>se,in:()=>H});const s=[];var H=(()=>{return(F=H||(H={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",H;var F})();const P={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},Q=H.INFO,z={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},fe=(F,Z,...ie)=>{if(Z<F.logLevel)return;const Se=(new Date).toISOString(),pe=z[Z];if(!pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[pe](`[${Se}]  ${F.name}:`,...ie)};class se{constructor(Z){this.name=Z,this._logLevel=Q,this._logHandler=fe,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in H))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?P[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...Z),this._logHandler(this,H.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...Z),this._logHandler(this,H.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,H.INFO,...Z),this._logHandler(this,H.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,H.WARN,...Z),this._logHandler(this,H.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...Z),this._logHandler(this,H.ERROR,...Z)}}function xe(F){s.forEach(Z=>{Z.setLogLevel(F)})}function q(F,Z){for(const ie of s){let Se=null;Z&&Z.level&&(Se=P[Z.level]),ie.userLogHandler=null===F?null:(pe,Ie,...ye)=>{const Ce=ye.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch{return null}}).filter(Ee=>Ee).join(" ");Ie>=(Se??pe.logLevel)&&F({level:H[Ie].toLowerCase(),message:Ce,args:ye,type:pe.name})}}}},5861:(Ke,ve,I)=>{"use strict";function s(P,Q,z,fe,se,xe,q){try{var F=P[xe](q),Z=F.value}catch(ie){return void z(ie)}F.done?Q(Z):Promise.resolve(Z).then(fe,se)}function H(P){return function(){var Q=this,z=arguments;return new Promise(function(fe,se){var xe=P.apply(Q,z);function q(Z){s(xe,fe,se,q,F,"next",Z)}function F(Z){s(xe,fe,se,q,F,"throw",Z)}q(void 0)})}}I.d(ve,{Z:()=>H})}},Ke=>{Ke(Ke.s=9485)}]);